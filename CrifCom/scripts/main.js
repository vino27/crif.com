function TL_Error(t,e){this.name="TL.Error",this.message=t||"error",this.message_key=this.message,this.detail=e||"";var i=new Error;i.hasOwnProperty("stack")&&(this.stack=i.stack)}(function(){var t,e,i,n,s,o,r,a,l,d,h,c,u,p,f,m,g,_,v,y,w,b,T,x,k,L,S,C,E,D,M,$,P,O,A,N,I,z,j,R,F,U,H,B,q,W,X,Y,V,G=[].slice,Z={}.hasOwnProperty,Q=function(t,e){function i(){this.constructor=t}for(var n in e)Z.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},J=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};for(w={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},E=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},M=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,y=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==M&&(M=function(t){return setTimeout(t,50)},y=function(t){return clearTimeout(t)}),P=function(t){var e,i;return e=E(),(i=function(){var n;return n=E()-e,n>=33?(e=E(),t(n,function(){return M(i)})):setTimeout(i,33-n)})()},$=function(){var t,e,i;return i=arguments[0],e=arguments[1],t=3<=arguments.length?G.call(arguments,2):[],"function"==typeof i[e]?i[e].apply(i,t):i[e]},b=function(){var t,e,i,n,s,o,r;for(e=arguments[0],n=2<=arguments.length?G.call(arguments,1):[],o=0,r=n.length;r>o;o++)if(i=n[o])for(t in i)Z.call(i,t)&&(s=i[t],null!=e[t]&&"object"==typeof e[t]&&null!=s&&"object"==typeof s?b(e[t],s):e[t]=s);return e},g=function(t){var e,i,n,s,o;for(i=e=0,s=0,o=t.length;o>s;s++)n=t[s],i+=Math.abs(n),e++;return i/e},x=function(t,e){var i,n,s;if(null==t&&(t="options"),null==e&&(e=!0),s=document.querySelector("[data-pace-"+t+"]")){if(i=s.getAttribute("data-pace-"+t),!e)return i;try{return JSON.parse(i)}catch(t){return n=t,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",n):void 0}}},r=function(){function t(){}return t.prototype.on=function(t,e,i,n){var s;return null==n&&(n=!1),null==this.bindings&&(this.bindings={}),null==(s=this.bindings)[t]&&(s[t]=[]),this.bindings[t].push({handler:e,ctx:i,once:n})},t.prototype.once=function(t,e,i){return this.on(t,e,i,!0)},t.prototype.off=function(t,e){var i,n,s;if(null!=(null!=(n=this.bindings)?n[t]:void 0)){if(null==e)return delete this.bindings[t];for(i=0,s=[];i<this.bindings[t].length;)s.push(this.bindings[t][i].handler===e?this.bindings[t].splice(i,1):i++);return s}},t.prototype.trigger=function(){var t,e,i,n,s,o,r,a,l;if(i=arguments[0],t=2<=arguments.length?G.call(arguments,1):[],null!=(r=this.bindings)?r[i]:void 0){for(s=0,l=[];s<this.bindings[i].length;)a=this.bindings[i][s],n=a.handler,e=a.ctx,o=a.once,n.apply(null!=e?e:this,t),l.push(o?this.bindings[i].splice(s,1):s++);return l}},t}(),d=window.Pace||{},window.Pace=d,b(d,r.prototype),D=d.options=b({},w,window.paceOptions,x()),X=["ajax","document","eventLag","elements"],H=0,q=X.length;q>H;H++)I=X[H],D[I]===!0&&(D[I]=w[I]);l=function(t){function e(){return Y=e.__super__.constructor.apply(this,arguments)}return Q(e,t),e}(Error),e=function(){function t(){this.progress=0}return t.prototype.getElement=function(){var t;if(null==this.el){if(t=document.querySelector(D.target),!t)throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},t.prototype.finish=function(){var t;return t=this.getElement(),t.className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},t.prototype.update=function(t){return this.progress=t,this.render()},t.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){l=t}return this.el=void 0},t.prototype.render=function(){var t,e,i,n,s,o,r;if(null==document.querySelector(D.target))return!1;for(t=this.getElement(),n="translate3d("+this.progress+"%, 0, 0)",r=["webkitTransform","msTransform","transform"],s=0,o=r.length;o>s;s++)e=r[s],t.children[0].style[e]=n;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?i="99":(i=this.progress<10?"0":"",i+=0|this.progress),t.children[0].setAttribute("data-progress",""+i)),this.lastRenderedProgress=this.progress},t.prototype.done=function(){return this.progress>=100},t}(),a=function(){function t(){this.bindings={}}return t.prototype.trigger=function(t,e){var i,n,s,o,r;if(null!=this.bindings[t]){for(o=this.bindings[t],r=[],n=0,s=o.length;s>n;n++)i=o[n],r.push(i.call(this,e));return r}},t.prototype.on=function(t,e){var i;return null==(i=this.bindings)[t]&&(i[t]=[]),this.bindings[t].push(e)},t}(),U=window.XMLHttpRequest,F=window.XDomainRequest,R=window.WebSocket,T=function(t,e){var i,n,s,o;o=[];for(n in e.prototype)try{s=e.prototype[n],o.push(null==t[n]&&"function"!=typeof s?t[n]=s:void 0)}catch(t){i=t}return o},S=[],d.ignore=function(){var t,e,i;return e=arguments[0],t=2<=arguments.length?G.call(arguments,1):[],S.unshift("ignore"),i=e.apply(null,t),S.shift(),i},d.track=function(){var t,e,i;return e=arguments[0],t=2<=arguments.length?G.call(arguments,1):[],S.unshift("track"),i=e.apply(null,t),S.shift(),i},N=function(t){var e;if(null==t&&(t="GET"),"track"===S[0])return"force";if(!S.length&&D.ajax){if("socket"===t&&D.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),J.call(D.ajax.trackMethods,e)>=0)return!0}return!1},h=function(t){function e(){var t,i=this;e.__super__.constructor.apply(this,arguments),t=function(t){var e;return e=t.open,t.open=function(n,s){return N(n)&&i.trigger("request",{type:n,url:s,request:t}),e.apply(t,arguments)}},window.XMLHttpRequest=function(e){var i;return i=new U(e),t(i),i};try{T(window.XMLHttpRequest,U)}catch(t){}if(null!=F){window.XDomainRequest=function(){var e;return e=new F,t(e),e};try{T(window.XDomainRequest,F)}catch(t){}}if(null!=R&&D.ajax.trackWebSockets){window.WebSocket=function(t,e){var n;return n=null!=e?new R(t,e):new R(t),N("socket")&&i.trigger("request",{type:"socket",url:t,protocols:e,request:n}),n};try{T(window.WebSocket,R)}catch(t){}}}return Q(e,t),e}(a),B=null,k=function(){return null==B&&(B=new h),B},A=function(t){var e,i,n,s;for(s=D.ajax.ignoreURLs,i=0,n=s.length;n>i;i++)if(e=s[i],"string"==typeof e){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},k().on("request",function(e){var i,n,s,o,r;return o=e.type,s=e.request,r=e.url,A(r)?void 0:d.running||D.restartOnRequestAfter===!1&&"force"!==N(o)?void 0:(n=arguments,i=D.restartOnRequestAfter||0,"boolean"==typeof i&&(i=0),setTimeout(function(){var e,i,r,a,l,h;if(e="socket"===o?s.readyState<2:0<(a=s.readyState)&&4>a){for(d.restart(),l=d.sources,h=[],i=0,r=l.length;r>i;i++){if(I=l[i],I instanceof t){I.watch.apply(I,n);break}h.push(void 0)}return h}},i))}),t=function(){function t(){var t=this;this.elements=[],k().on("request",function(){return t.watch.apply(t,arguments)})}return t.prototype.watch=function(t){var e,i,n,s;return n=t.type,e=t.request,s=t.url,A(s)?void 0:(i="socket"===n?new p(e):new f(e),this.elements.push(i))},t}(),f=function(){function t(t){var e,i,n,s,o,r,a=this;if(this.progress=0,null!=window.ProgressEvent)for(i=null,t.addEventListener("progress",function(t){return a.progress=t.lengthComputable?100*t.loaded/t.total:a.progress+(100-a.progress)/2},!1),r=["load","abort","timeout","error"],n=0,s=r.length;s>n;n++)e=r[n],t.addEventListener(e,function(){return a.progress=100},!1);else o=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?a.progress=100:3===t.readyState&&(a.progress=50),"function"==typeof o?o.apply(null,arguments):void 0}}return t}(),p=function(){function t(t){var e,i,n,s,o=this;for(this.progress=0,s=["error","open"],i=0,n=s.length;n>i;i++)e=s[i],t.addEventListener(e,function(){return o.progress=100},!1)}return t}(),n=function(){function t(t){var e,i,n,o;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),o=t.selectors,i=0,n=o.length;n>i;i++)e=o[i],this.elements.push(new s(e))}return t}(),s=function(){function t(t){this.selector=t,this.progress=0,this.check()}return t.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},D.elements.checkInterval)},t.prototype.done=function(){return this.progress=100},t}(),i=function(){function t(){var t,e,i=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=i.states[document.readyState]&&(i.progress=i.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}return t.prototype.states={loading:0,interactive:50,complete:100},t}(),o=function(){function t(){var t,e,i,n,s,o=this;this.progress=0,t=0,s=[],n=0,i=E(),e=setInterval(function(){var r;return r=E()-i-50,i=E(),s.push(r),s.length>D.eventLag.sampleCount&&s.shift(),t=g(s),++n>=D.eventLag.minSamples&&t<D.eventLag.lagThreshold?(o.progress=100,clearInterval(e)):o.progress=100*(3/(t+3))},50)}return t}(),u=function(){function t(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=D.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=$(this.source,"progress"))}return t.prototype.tick=function(t,e){var i;return null==e&&(e=$(this.source,"progress")),e>=100&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/D.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),i=1-Math.pow(this.progress/100,D.easeFactor),this.progress+=i*this.rate*t,this.progress=Math.min(this.lastProgress+D.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},t}(),z=null,O=null,_=null,j=null,m=null,v=null,d.running=!1,L=function(){return D.restartOnPushState?d.restart():void 0},null!=window.history.pushState&&(W=window.history.pushState,window.history.pushState=function(){return L(),W.apply(window.history,arguments)}),null!=window.history.replaceState&&(V=window.history.replaceState,window.history.replaceState=function(){return L(),V.apply(window.history,arguments)}),c={ajax:t,elements:n,document:i,eventLag:o},(C=function(){var t,i,n,s,o,r,a,l;for(d.sources=z=[],r=["ajax","elements","document","eventLag"],i=0,s=r.length;s>i;i++)t=r[i],D[t]!==!1&&z.push(new c[t](D[t]));for(l=null!=(a=D.extraSources)?a:[],n=0,o=l.length;o>n;n++)I=l[n],z.push(new I(D));return d.bar=_=new e,O=[],j=new u})(),d.stop=function(){return d.trigger("stop"),d.running=!1,_.destroy(),v=!0,null!=m&&("function"==typeof y&&y(m),m=null),C()},d.restart=function(){return d.trigger("restart"),d.stop(),d.start()},d.go=function(){var t;return d.running=!0,_.render(),t=E(),v=!1,m=P(function(e,i){var n,s,o,r,a,l,h,c,p,f,m,g,y,w,b,T;for(c=100-_.progress,s=m=0,o=!0,l=g=0,w=z.length;w>g;l=++g)for(I=z[l],f=null!=O[l]?O[l]:O[l]=[],a=null!=(T=I.elements)?T:[I],h=y=0,b=a.length;b>y;h=++y)r=a[h],p=null!=f[h]?f[h]:f[h]=new u(r),o&=p.done,p.done||(s++,m+=p.tick(e));return n=m/s,_.update(j.tick(e,n)),_.done()||o||v?(_.update(100),d.trigger("done"),setTimeout(function(){return _.finish(),d.running=!1,d.trigger("hide")},Math.max(D.ghostTime,Math.max(D.minTime-(E()-t),0)))):i()})},d.start=function(t){b(D,t),d.running=!0;try{_.render()}catch(t){l=t}return document.querySelector(".pace")?(d.trigger("start"),d.go()):setTimeout(d.start,50)},"function"==typeof define&&define.amd?define(function(){return d}):"object"==typeof exports?module.exports=d:D.startOnPageLoad&&d.start()}).call(this),window.Modernizr=function(t,e,i){function n(t){v.cssText=t}function s(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var n in t){var s=t[n];if(!o(s,"-")&&v[s]!==i)return"pfx"!=e||s}return!1}function a(t,e,n){for(var o in t){var r=e[t[o]];if(r!==i)return n===!1?t[o]:s(r,"function")?r.bind(n||e):r}return!1}function l(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+b.join(n+" ")+n).split(" ");return s(e,"string")||s(e,"undefined")?r(o,e):(o=(t+" "+T.join(n+" ")+n).split(" "),a(o,e,i))}var d,h,c,u="2.7.1",p={},f=!0,m=e.documentElement,g="modernizr",_=e.createElement(g),v=_.style,y=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),w="Webkit Moz O ms",b=w.split(" "),T=w.toLowerCase().split(" "),x={},k=[],L=k.slice,S=function(t,i,n,s){var o,r,a,l,d=e.createElement("div"),h=e.body,c=h||e.createElement("body");if(parseInt(n,10))for(;n--;)a=e.createElement("div"),a.id=s?s[n]:g+(n+1),d.appendChild(a);return o=["&#173;",'<style id="s',g,'">',t,"</style>"].join(""),d.id=g,(h?d:c).innerHTML+=o,c.appendChild(d),h||(c.style.background="",c.style.overflow="hidden",l=m.style.overflow,m.style.overflow="hidden",m.appendChild(c)),r=i(d,t),h?d.parentNode.removeChild(d):(c.parentNode.removeChild(c),m.style.overflow=l),!!r},C=function(){function t(t,o){o=o||e.createElement(n[t]||"div"),t="on"+t;var r=t in o;return r||(o.setAttribute||(o=e.createElement("div")),o.setAttribute&&o.removeAttribute&&(o.setAttribute(t,""),r=s(o[t],"function"),s(o[t],"undefined")||(o[t]=i),o.removeAttribute(t))),o=null,r}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),E={}.hasOwnProperty;c=s(E,"undefined")||s(E.call,"undefined")?function(t,e){return e in t&&s(t.constructor.prototype[e],"undefined")}:function(t,e){return E.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=L.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=e.prototype;var o=new s,r=e.apply(o,i.concat(L.call(arguments)));return Object(r)===r?r:o}return e.apply(t,i.concat(L.call(arguments)))};return n}),x.touch=function(){var i;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:S(["@media (",y.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=9===t.offsetTop}),i};for(var D in x)c(x,D)&&(h=D.toLowerCase(),p[h]=x[D](),k.push((p[h]?"":"no-")+h));return p.addTest=function(t,e){if("object"==typeof t)for(var n in t)c(t,n)&&p.addTest(n,t[n]);else{if(t=t.toLowerCase(),p[t]!==i)return p;e="function"==typeof e?e():e,"undefined"!=typeof f&&f&&(m.className+=" "+(e?"":"no-")+t),p[t]=e}return p},n(""),_=d=null,function(t,e){function i(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var t=v.elements;return"string"==typeof t?t.split(" "):t}function s(t){var e=_[t[m]];return e||(e={},g++,t[m]=g,_[g]=e),e}function o(t,i,n){if(i||(i=e),h)return i.createElement(t);n||(n=s(i));var o;return o=n.cache[t]?n.cache[t].cloneNode():f.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t),!o.canHaveChildren||p.test(t)||o.tagUrn?o:n.frag.appendChild(o)}function r(t,i){if(t||(t=e),h)return t.createDocumentFragment();i=i||s(t);for(var o=i.frag.cloneNode(),r=0,a=n(),l=a.length;r<l;r++)o.createElement(a[r]);return o}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return v.shivMethods?o(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,e.frag)}function l(t){t||(t=e);var n=s(t);return v.shivCSS&&!d&&!n.hasCSS&&(n.hasCSS=!!i(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),h||a(t,n),t}var d,h,c="3.7.0",u=t.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",g=0,_={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",d="hidden"in t,h=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(t){d=!0,h=!0}}();var v={elements:u.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:u.shivCSS!==!1,supportsUnknownElements:h,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:l,createElement:o,createDocumentFragment:r};t.html5=v,l(e)}(this,e),p._version=u,p._prefixes=y,p._domPrefixes=T,p._cssomPrefixes=b,p.hasEvent=C,p.testProp=function(t){return r([t])},p.testAllProps=l,p.testStyles=S,p.prefixed=function(t,e,i){return e?l(t,e,i):l(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+k.join(" "):""),p}(this,this.document),function(t,e,i){function n(t){return"[object Function]"==g.call(t)}function s(t){return"string"==typeof t}function o(){}function r(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=_.shift();v=1,t?t.t?f(function(){("c"==t.t?u.injectCss:u.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):v=0}function l(t,i,n,s,o,l,d){function h(e){if(!p&&r(c.readyState)&&(y.r=p=1,!v&&a(),c.onload=c.onreadystatechange=null,e)){"img"!=t&&f(function(){b.removeChild(c)},50);for(var n in S[i])S[i].hasOwnProperty(n)&&S[i][n].onload()}}var d=d||u.errorTimeout,c=e.createElement(t),p=0,g=0,y={t:n,s:i,e:o,a:l,x:d};1===S[i]&&(g=1,S[i]=[]),"object"==t?c.data=i:(c.src=i,c.type=t),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){h.call(this,g)},_.splice(s,0,y),"img"!=t&&(g||2===S[i]?(b.insertBefore(c,w?null:m),f(h,d)):S[i].push(c))}function d(t,e,i,n,o){return v=0,e=e||"j",s(t)?l("c"==e?x:T,t,e,this.i++,i,n,o):(_.splice(this.i++,0,t),1==_.length&&a()),this}function h(){var t=u;return t.loader={load:d,i:0},t}var c,u,p=e.documentElement,f=t.setTimeout,m=e.getElementsByTagName("script")[0],g={}.toString,_=[],v=0,y="MozAppearance"in p.style,w=y&&!!e.createRange().compareNode,b=w?p:m.parentNode,p=t.opera&&"[object Opera]"==g.call(t.opera),p=!!e.attachEvent&&!p,T=y?"object":p?"script":"img",x=p?"script":T,k=Array.isArray||function(t){return"[object Array]"==g.call(t)},L=[],S={},C={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};u=function(t){function e(t){var e,i,n,t=t.split("!"),s=L.length,o=t.pop(),r=t.length,o={url:o,origUrl:o,prefixes:t};for(i=0;i<r;i++)n=t[i].split("="),(e=C[n.shift()])&&(o=e(o,n));for(i=0;i<s;i++)o=L[i](o);return o}function r(t,s,o,r,a){var l=e(t),d=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(s&&(s=n(s)?s:s[t]||s[r]||s[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,s,o,r,a):(S[l.url]?l.noexec=!0:S[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":i,l.noexec,l.attrs,l.timeout),(n(s)||n(d))&&o.load(function(){h(),s&&s(l.origUrl,a,r),d&&d(l.origUrl,a,r),S[l.url]=2})))}function a(t,e){function i(t,i){if(t){if(s(t))i||(c=function(){var t=[].slice.call(arguments);u.apply(this,t),p()}),r(t,c,e,0,d);else if(Object(t)===t)for(l in a=function(){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i}(),t)t.hasOwnProperty(l)&&(!i&&!--a&&(n(c)?c=function(){var t=[].slice.call(arguments);u.apply(this,t),p()}:c[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),p()}}(u[l])),r(t[l],c,e,l,d))}else!i&&p()}var a,l,d=!!t.test,h=t.load||t.both,c=t.callback||o,u=c,p=t.complete||o;i(d?t.yep:t.nope,!!h),h&&i(h)}var l,d,c=this.yepnope.loader;if(s(t))r(t,0,c,0);else if(k(t))for(l=0;l<t.length;l++)d=t[l],s(d)?r(d,0,c,0):k(d)?u(d):Object(d)===d&&a(d,c);else Object(t)===t&&a(t,c)},u.addPrefix=function(t,e){C[t]=e},u.addFilter=function(t){L.push(t)},u.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",c=function(){e.removeEventListener("DOMContentLoaded",c,0),e.readyState="complete"},0)),t.yepnope=h(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,i,n,s,l,d){var h,c,p=e.createElement("script"),s=s||u.errorTimeout;p.src=t;for(c in n)p.setAttribute(c,n[c]);i=d?a:i||o,p.onreadystatechange=p.onload=function(){!h&&r(p.readyState)&&(h=1,i(),p.onload=p.onreadystatechange=null)},f(function(){h||(h=1,i(1))},s),l?p.onload():m.parentNode.insertBefore(p,m)},t.yepnope.injectCss=function(t,i,n,s,r,l){var d,s=e.createElement("link"),i=l?a:i||o;s.href=t,s.rel="stylesheet",s.type="text/css";for(d in n)s.setAttribute(d,n[d]);r||(m.parentNode.insertBefore(s,m),f(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.affix"),o="object"==typeof e&&e;s||n.data("bs.affix",s=new i(this,o)),"string"==typeof e&&s[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.2.0",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),n=this.$target.scrollTop(),s=this.$element.offset(),o=this.options.offset,r=o.top,a=o.bottom;"object"!=typeof o&&(a=r=o),"function"==typeof r&&(r=o.top(this.$element)),"function"==typeof a&&(a=o.bottom(this.$element));var l=!(null!=this.unpin&&n+this.unpin<=s.top)&&(null!=a&&s.top+this.$element.height()>=e-a?"bottom":null!=r&&n<=r&&"top");if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var d="affix"+(l?"-"+l:""),h=t.Event(d+".bs.affix");this.$element.trigger(h),h.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(d).trigger(t.Event(d.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:e-this.$element.height()-a}))}}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.alert");s||i.data("bs.alert",s=new n(this)),"string"==typeof e&&s[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.2.0",n.prototype.close=function(e){function i(){o.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=t(s);e&&e.preventDefault(),o.length||(o=n.hasClass("alert")?n:n.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(150):i())};var s=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=s,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.button"),o="object"==typeof e&&e;s||n.data("bs.button",s=new i(this,o)),"toggle"==e?s.toggle():e&&s.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.2.0",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,s=n.is("input")?"val":"html",o=n.data();e+="Text",null==o.resetText&&n.data("resetText",n[s]()),n[s](null==o[e]?this.options[e]:o[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target);n.hasClass("btn")||(n=n.closest(".btn")),e.call(n,"toggle"),i.preventDefault()})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.carousel"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),r="string"==typeof e?e:o.slide;s||n.data("bs.carousel",s=new i(this,o)),"number"==typeof e?s.to(e):r?s[r]():o.interval&&s.pause().cycle()})}var i=function(e,i){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.2.0",i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},i.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.to=function(e){var i=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,i){var n=this.$element.find(".item.active"),s=i||n[e](),o=this.interval,r="next"==e?"left":"right",a="next"==e?"first":"last",l=this;if(!s.length){if(!this.options.wrap)return;s=this.$element.find(".item")[a]()}if(s.hasClass("active"))return this.sliding=!1;var d=s[0],h=t.Event("slide.bs.carousel",{relatedTarget:d,direction:r});if(this.$element.trigger(h),!h.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=t(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var u=t.Event("slid.bs.carousel",{relatedTarget:d,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(r),s.addClass(r),n.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(u)},0)}).emulateTransitionEnd(1e3*n.css("transition-duration").slice(0,-1))):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(u)),o&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(i){var n,s=t(this),o=t(s.attr("data-target")||(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var r=t.extend({},o.data(),s.data()),a=s.attr("data-slide-to");a&&(r.interval=!1),e.call(o,r),a&&o.data("bs.carousel").to(a),i.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.collapse"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!s&&o.toggle&&"show"==e&&(e=!e),s||n.data("bs.collapse",s=new i(this,o)),"string"==typeof e&&s[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};i.VERSION="3.2.0",i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var i=t.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var s=n.data("bs.collapse");if(s&&s.transitioning)return;e.call(n,"hide"),s||n.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var a=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(350)[o](this.$element[0][a])}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(350):n.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]();
};var n=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var n,s=t(this),o=s.attr("data-target")||i.preventDefault()||(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=t(o),a=r.data("bs.collapse"),l=a?"toggle":s.data(),d=s.attr("data-parent"),h=d&&t(d);a&&a.transitioning||(h&&h.find('[data-toggle="collapse"][data-parent="'+d+'"]').not(s).addClass("collapsed"),s[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(r,l)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(s).remove(),t(o).each(function(){var n=i(t(this)),s={relatedTarget:this};n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown",s)),e.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown",s))}))}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new r(this)),"string"==typeof e&&n[e].call(i)})}var s=".dropdown-backdrop",o='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.2.0",r.prototype.toggle=function(n){var s=t(this);if(!s.is(".disabled, :disabled")){var o=i(s),r=o.hasClass("open");if(e(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(o.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;s.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var s=i(n),r=s.hasClass("open");if(!r||r&&27==e.keyCode)return 27==e.which&&s.find(o).trigger("focus"),n.trigger("click");var a=" li:not(.divider):visible a",l=s.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var d=l.index(l.filter(":focus"));38==e.keyCode&&d>0&&d--,40==e.keyCode&&d<l.length-1&&d++,~d||(d=0),l.eq(d).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',r.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new i(this)),"string"==typeof e&&s[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.2.0",i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:s});if(e.trigger(o),!o.isDefaultPrevented()){var r=t(n);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:s})})}}},i.prototype.activate=function(e,i,n){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var o=i.find("> .active"),r=n&&t.support.transition&&o.hasClass("fade");r?o.one("bsTransitionEnd",s).emulateTransitionEnd(150):s(),o.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(i){i.preventDefault(),e.call(t(this),"show")})}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(t){"use strict";function e(i,n){var s=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(i).is("body")?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",s),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),s=n.data("bs.scrollspy"),o="object"==typeof i&&i;s||n.data("bs.scrollspy",s=new e(this,o)),"string"==typeof i&&s[i]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",i=0;t.isWindow(this.$scrollElement[0])||(e="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var n=this;this.$body.find(this.selector).map(function(){var n=t(this),s=n.data("target")||n.attr("href"),o=/^#./.test(s)&&t(s);return o&&o.length&&o.is(":visible")&&[[o[e]().top+i,s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),s=this.offsets,o=this.targets,r=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return r!=(t=o[o.length-1])&&this.activate(t);if(r&&e<=s[0])return r!=(t=o[0])&&this.activate(t);for(t=s.length;t--;)r!=o[t]&&e>=s[t]&&(!s[t+1]||e<=s[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e,n){return this.each(function(){var s=t(this),o=s.data("bs.modal"),r=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e);o||s.data("bs.modal",o=new i(this,r)),"string"==typeof e?o[e](n):r.show&&o.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.2.0",i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var i=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var n=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(300):i.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var i=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else e&&e()},i.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),s=n.attr("href"),o=t(n.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},o.data(),n.data());n.is("a")&&i.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(o,r,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tooltip"),o="object"==typeof e&&e;(s||"destroy"!=e)&&(s||n.data("bs.tooltip",s=new i(this,o)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};i.VERSION="3.2.0",i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var s=this.options.trigger.split(" "),o=s.length;o--;){var r=s[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var n=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,l=a.test(r);l&&(r=r.replace(a,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var d=this.getPosition(),h=s[0].offsetWidth,c=s[0].offsetHeight;if(l){var u=r,p=this.$element.parent(),f=this.getPosition(p);r="bottom"==r&&d.top+d.height+c-f.scroll>f.height?"top":"top"==r&&d.top-f.scroll-c<0?"bottom":"right"==r&&d.right+h>f.width?"left":"left"==r&&d.left-h<f.left?"right":r,s.removeClass(u).addClass(r)}var m=this.getCalculatedOffset(r,d,h,c);this.applyPlacement(m,r);var g=function(){n.$element.trigger("shown.bs."+n.type),n.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",g).emulateTransitionEnd(150):g()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),s=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top=e.top+r,e.left=e.left+a,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,d=n[0].offsetHeight;"top"==i&&d!=o&&(e.top=e.top+o-d);var h=this.getViewportAdjustedDelta(i,e,l,d);h.left?e.left+=h.left:e.top+=h.top;var c=h.left?2*h.left-s+l:2*h.top-o+d,u=h.left?"left":"top",p=h.left?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(c,n[0][p],u)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(){function e(){"in"!=i.hoverState&&n.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,n=this.tip(),s=t.Event("hide.bs."+this.type);if(this.$element.removeAttr("aria-describedby"),this.$element.trigger(s),!s.isDefaultPrevented())return n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName;return t.extend({},"function"==typeof i.getBoundingClientRect?i.getBoundingClientRect():null,{scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:n?t(window).width():e.outerWidth(),height:n?t(window).height():e.outerHeight()},n?{top:0,left:0}:e.offset())},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var s={top:0,left:0};if(!this.$viewport)return s;var o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-r.scroll,l=e.top+o-r.scroll+n;a<r.top?s.top=r.top-a:l>r.top+r.height&&(s.top=r.top+r.height-l)}else{var d=e.left-o,h=e.left+o+i;d<r.left?s.left=r.left-d:h>r.width&&(s.left=r.left+r.width-h)}return s},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.popover"),o="object"==typeof e&&e;(s||"destroy"!=e)&&(s||n.data("bs.popover",s=new i(this,o)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.2.0",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},i.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){"use strict";function e(e){var i=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return t.each(i,function(){e=e.replace(this.re,this.ch)}),e}function i(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+Object.keys(e).join("|")+")",n=new RegExp(i),s=new RegExp(i,"g"),o=null==t?"":""+t;return n.test(o)?o.replace(s,function(t){return e[t]}):o}function n(e,i){var n=arguments,o=e,r=i;[].shift.apply(n);var a,l=this.each(function(){var e=t(this);if(e.is("select")){var i=e.data("selectpicker"),l="object"==typeof o&&o;if(i){if(l)for(var d in l)l.hasOwnProperty(d)&&(i.options[d]=l[d])}else{var h=t.extend({},s.DEFAULTS,t.fn.selectpicker.defaults||{},e.data(),l);h.template=t.extend({},s.DEFAULTS.template,t.fn.selectpicker.defaults?t.fn.selectpicker.defaults.template:{},e.data().template,l.template),e.data("selectpicker",i=new s(this,h,r))}"string"==typeof o&&(a=i[o]instanceof Function?i[o].apply(i,n):i.options[o])}});return"undefined"!=typeof a?a:l}String.prototype.includes||!function(){var t={}.toString,e=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),i="".indexOf,n=function(e){if(null==this)throw new TypeError;var n=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var s=n.length,o=String(e),r=o.length,a=arguments.length>1?arguments[1]:void 0,l=a?Number(a):0;l!=l&&(l=0);var d=Math.min(Math.max(l,0),s);return!(r+d>s)&&i.call(n,o,l)!=-1};e?e(String.prototype,"includes",{value:n,configurable:!0,writable:!0}):String.prototype.includes=n}(),String.prototype.startsWith||!function(){var t=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),e={}.toString,i=function(t){if(null==this)throw new TypeError;var i=String(this);if(t&&"[object RegExp]"==e.call(t))throw new TypeError;var n=i.length,s=String(t),o=s.length,r=arguments.length>1?arguments[1]:void 0,a=r?Number(r):0;a!=a&&(a=0);var l=Math.min(Math.max(a,0),n);if(o+l>n)return!1;for(var d=-1;++d<o;)if(i.charCodeAt(l+d)!=s.charCodeAt(d))return!1;return!0};t?t(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i}(),Object.keys||(Object.keys=function(t,e,i){i=[];for(e in t)i.hasOwnProperty.call(t,e)&&i.push(e);return i}),t.fn.triggerNative=function(t){var e,i=this[0];i.dispatchEvent?("function"==typeof Event?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event"),e.initEvent(t,!0,!1)),i.dispatchEvent(e)):(i.fireEvent&&(e=document.createEventObject(),e.eventType=t,i.fireEvent("on"+t,e)),this.trigger(t))},t.expr[":"].icontains=function(e,i,n){var s=t(e),o=(s.data("tokens")||s.text()).toString().toUpperCase();return o.includes(n[3].toUpperCase())},t.expr[":"].ibegins=function(e,i,n){var s=t(e),o=(s.data("tokens")||s.text()).toString().toUpperCase();return o.startsWith(n[3].toUpperCase())},t.expr[":"].aicontains=function(e,i,n){var s=t(e),o=(s.data("tokens")||s.data("normalizedText")||s.text()).toString().toUpperCase();return o.includes(n[3].toUpperCase())},t.expr[":"].aibegins=function(e,i,n){var s=t(e),o=(s.data("tokens")||s.data("normalizedText")||s.text()).toString().toUpperCase();return o.startsWith(n[3].toUpperCase())};var s=function(e,i,n){n&&(n.stopPropagation(),n.preventDefault()),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=i,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=s.prototype.val,this.render=s.prototype.render,this.refresh=s.prototype.refresh,this.setStyle=s.prototype.setStyle,this.selectAll=s.prototype.selectAll,this.deselectAll=s.prototype.deselectAll,this.destroy=s.prototype.destroy,this.remove=s.prototype.remove,this.show=s.prototype.show,this.hide=s.prototype.hide,this.init()};s.VERSION="1.10.0",s.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},s.prototype={constructor:s,init:function(){var e=this,i=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),this.options.dropdownAlignRight===!0&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof i&&(this.$button.attr("data-id",i),t('label[for="'+i+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button.addClass("bs-invalid").focus(),e.$element.on({"focus.bs.select":function(){e.$button.focus(),e.$element.off("focus.bs.select")},"shown.bs.select":function(){e.$element.val(e.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}})}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",n=this.$element.parent().hasClass("input-group")?" input-group-btn":"",s=this.autofocus?" autofocus":"",o=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",r=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+i(this.options.liveSearchPlaceholder)+'"')+"></div>":"",a=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",l=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",d='<div class="btn-group bootstrap-select'+e+n+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+s+'><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open">'+o+r+a+'<ul class="dropdown-menu inner" role="menu"></ul>'+l+"</div></div>";return t(d)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul")[0].innerHTML=e,t},reloadLi:function(){this.destroyLi();var t=this.createLi();this.$menuInner[0].innerHTML=t},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var n=this,s=[],o=0,r=document.createElement("option"),a=-1,l=function(t,e,i,n){return"<li"+("undefined"!=typeof i&""!==i?' class="'+i+'"':"")+("undefined"!=typeof e&null!==e?' data-original-index="'+e+'"':"")+("undefined"!=typeof n&null!==n?'data-optgroup="'+n+'"':"")+">"+t+"</li>"},d=function(t,s,o,r){return'<a tabindex="0"'+("undefined"!=typeof s?' class="'+s+'"':"")+("undefined"!=typeof o?' style="'+o+'"':"")+(n.options.liveSearchNormalize?' data-normalized-text="'+e(i(t))+'"':"")+("undefined"!=typeof r||null!==r?' data-tokens="'+r+'"':"")+">"+t+'<span class="'+n.options.iconBase+" "+n.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(a--,!this.$element.find(".bs-title-option").length)){var h=this.$element[0];r.className="bs-title-option",r.appendChild(document.createTextNode(this.options.title)),r.value="",h.insertBefore(r,h.firstChild);var c=t(h.options[h.selectedIndex]);void 0===c.attr("selected")&&c.prop("selected")===!1&&(r.selected=!0)}return this.$element.find("option").each(function(e){var i=t(this);if(a++,!i.hasClass("bs-title-option")){var r=this.className||"",h=this.style.cssText,c=i.data("content")?i.data("content"):i.html(),u=i.data("tokens")?i.data("tokens"):null,p="undefined"!=typeof i.data("subtext")?'<small class="text-muted">'+i.data("subtext")+"</small>":"",f="undefined"!=typeof i.data("icon")?'<span class="'+n.options.iconBase+" "+i.data("icon")+'"></span> ':"",m=i.parent(),g="OPTGROUP"===m[0].tagName,_=g&&m[0].disabled,v=this.disabled||_;if(""!==f&&v&&(f="<span>"+f+"</span>"),n.options.hideDisabled&&(v&&!g||_))return void a--;if(i.data("content")||(c=f+'<span class="text">'+c+p+"</span>"),g&&i.data("divider")!==!0){if(n.options.hideDisabled&&v){if(void 0===m.data("allOptionsDisabled")){var y=m.children();m.data("allOptionsDisabled",y.filter(":disabled").length===y.length)}if(m.data("allOptionsDisabled"))return void a--}var w=" "+m[0].className||"";
if(0===i.index()){o+=1;var b=m[0].label,T="undefined"!=typeof m.data("subtext")?'<small class="text-muted">'+m.data("subtext")+"</small>":"",x=m.data("icon")?'<span class="'+n.options.iconBase+" "+m.data("icon")+'"></span> ':"";b=x+'<span class="text">'+b+T+"</span>",0!==e&&s.length>0&&(a++,s.push(l("",null,"divider",o+"div"))),a++,s.push(l(b,null,"dropdown-header"+w,o))}if(n.options.hideDisabled&&v)return void a--;s.push(l(d(c,"opt "+r+w,h,u),e,"",o))}else if(i.data("divider")===!0)s.push(l("",e,"divider"));else if(i.data("hidden")===!0)s.push(l(d(c,r,h,u),e,"hidden is-hidden"));else{var k=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;if(!k&&n.options.hideDisabled)for(var L=t(this).prevAll(),S=0;S<L.length;S++)if("OPTGROUP"===L[S].tagName){for(var C=0,E=0;E<S;E++){var D=L[E];(D.disabled||t(D).data("hidden")===!0)&&C++}C===S&&(k=!0);break}k&&(a++,s.push(l("",null,"divider",o+"div"))),s.push(l(d(c,r,h,u),e))}n.liObj[e]=a}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),s.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var i,n=this;e!==!1&&(this.$element.find("option").each(function(t){var e=n.findLis().eq(n.liObj[t]);n.setDisabled(t,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,e),n.setSelected(t,this.selected,e)}),this.togglePlaceholder()),this.tabIndex();var s=this.$element.find("option").map(function(){if(this.selected){if(n.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var e,i=t(this),s=i.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+i.data("icon")+'"></i> ':"";return e=n.options.showSubtext&&i.data("subtext")&&!n.multiple?' <small class="text-muted">'+i.data("subtext")+"</small>":"","undefined"!=typeof i.attr("title")?i.attr("title"):i.data("content")&&n.options.showContent?i.data("content"):s+i.html()+e}}).toArray(),o=this.multiple?s.join(this.options.multipleSeparator):s[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var r=this.options.selectedTextFormat.split(">");if(r.length>1&&s.length>r[1]||1==r.length&&s.length>=2){i=this.options.hideDisabled?", [disabled]":"";var a=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+i).length,l="function"==typeof this.options.countSelectedText?this.options.countSelectedText(s.length,a):this.options.countSelectedText;o=l.replace("{0}",s.length.toString()).replace("{1}",a.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(o=this.options.title),o||(o="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",t.trim(o.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(o),this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=t?t:this.options.style;"add"==e?this.$button.addClass(i):"remove"==e?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(e){if(e||this.options.size!==!1&&!this.sizeInfo){var i=document.createElement("div"),n=document.createElement("div"),s=document.createElement("ul"),o=document.createElement("li"),r=document.createElement("li"),a=document.createElement("a"),l=document.createElement("span"),d=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,h=this.options.liveSearch?document.createElement("div"):null,c=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,u=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",i.className=this.$menu[0].parentNode.className+" open",n.className="dropdown-menu open",s.className="dropdown-menu inner",o.className="divider",l.appendChild(document.createTextNode("Inner text")),a.appendChild(l),r.appendChild(a),s.appendChild(r),s.appendChild(o),d&&n.appendChild(d),h){var p=document.createElement("span");h.className="bs-searchbox",p.className="form-control",h.appendChild(p),n.appendChild(h)}c&&n.appendChild(c),n.appendChild(s),u&&n.appendChild(u),i.appendChild(n),document.body.appendChild(i);var f=a.offsetHeight,m=d?d.offsetHeight:0,g=h?h.offsetHeight:0,_=c?c.offsetHeight:0,v=u?u.offsetHeight:0,y=t(o).outerHeight(!0),w="function"==typeof getComputedStyle&&getComputedStyle(n),b=w?null:t(n),T={vert:parseInt(w?w.paddingTop:b.css("paddingTop"))+parseInt(w?w.paddingBottom:b.css("paddingBottom"))+parseInt(w?w.borderTopWidth:b.css("borderTopWidth"))+parseInt(w?w.borderBottomWidth:b.css("borderBottomWidth")),horiz:parseInt(w?w.paddingLeft:b.css("paddingLeft"))+parseInt(w?w.paddingRight:b.css("paddingRight"))+parseInt(w?w.borderLeftWidth:b.css("borderLeftWidth"))+parseInt(w?w.borderRightWidth:b.css("borderRightWidth"))},x={vert:T.vert+parseInt(w?w.marginTop:b.css("marginTop"))+parseInt(w?w.marginBottom:b.css("marginBottom"))+2,horiz:T.horiz+parseInt(w?w.marginLeft:b.css("marginLeft"))+parseInt(w?w.marginRight:b.css("marginRight"))+2};document.body.removeChild(i),this.sizeInfo={liHeight:f,headerHeight:m,searchHeight:g,actionsHeight:_,doneButtonHeight:v,dividerHeight:y,menuPadding:T,menuExtras:x}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),this.options.size!==!1){var e,i,n,s,o,r,a,l,d=this,h=this.$menu,c=this.$menuInner,u=t(window),p=this.$newElement[0].offsetHeight,f=this.$newElement[0].offsetWidth,m=this.sizeInfo.liHeight,g=this.sizeInfo.headerHeight,_=this.sizeInfo.searchHeight,v=this.sizeInfo.actionsHeight,y=this.sizeInfo.doneButtonHeight,w=this.sizeInfo.dividerHeight,b=this.sizeInfo.menuPadding,T=this.sizeInfo.menuExtras,x=this.options.hideDisabled?".disabled":"",k=function(){var t=d.$newElement.offset();o=t.top-u.scrollTop(),r=u.height()-o-p,a=t.left-u.scrollLeft(),l=u.width()-a-f};if(k(),"auto"===this.options.size){var L=function(){var u,p=function(e,i){return function(n){return i?n.classList?n.classList.contains(e):t(n).hasClass(e):!(n.classList?n.classList.contains(e):t(n).hasClass(e))}},w=d.$menuInner[0].getElementsByTagName("li"),x=Array.prototype.filter?Array.prototype.filter.call(w,p("hidden",!1)):d.$lis.not(".hidden"),L=Array.prototype.filter?Array.prototype.filter.call(x,p("dropdown-header",!0)):x.filter(".dropdown-header");k(),e=r-T.vert,i=l-T.horiz,d.options.container?(h.data("height")||h.data("height",h.height()),n=h.data("height"),h.data("width")||h.data("width",h.width()),s=h.data("width")):(n=h.height(),s=h.width()),d.options.dropupAuto&&d.$newElement.toggleClass("dropup",o>r&&e-T.vert<n),d.$newElement.hasClass("dropup")&&(e=o-T.vert),"auto"===d.options.dropdownAlignRight&&h.toggleClass("dropdown-menu-right",a>l&&i-T.horiz<s-f),u=x.length+L.length>3?3*m+T.vert-2:0,h.css({"max-height":e+"px",overflow:"hidden","min-height":u+g+_+v+y+"px"}),c.css({"max-height":e-g-_-v-y-b.vert+"px","overflow-y":"auto","min-height":Math.max(u-b.vert,0)+"px"})};L(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",L),u.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",L)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(x).length>this.options.size){var S=this.$lis.not(".divider").not(x).children().slice(0,this.options.size).last().parent().index(),C=this.$lis.slice(0,S+1).filter(".divider").length;e=m*this.options.size+C*w+b.vert,d.options.container?(h.data("height")||h.data("height",h.height()),n=h.data("height")):n=h.height(),d.options.dropupAuto&&this.$newElement.toggleClass("dropup",o>r&&e-T.vert<n),h.css({"max-height":e+g+_+v+y+"px",overflow:"hidden","min-height":""}),c.css({"max-height":e-b.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var t=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):t,i=t.children(".dropdown-menu").outerWidth(),n=e.css("width","auto").children("button").outerWidth();t.remove(),e.remove(),this.$newElement.css("width",Math.max(i,n)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=t('<div class="bs-container" />');var e,i,n=this,s=function(t){n.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),i=t.hasClass("dropup")?0:t[0].offsetHeight,n.$bsContainer.css({top:e.top+i,left:e.left,width:t[0].offsetWidth})};this.$button.on("click",function(){var e=t(this);n.isDisabled()||(s(n.$newElement),n.$bsContainer.appendTo(n.options.container).toggleClass("open",!e.hasClass("open")).append(n.$menu))}),t(window).on("resize scroll",function(){s(n.$newElement)}),this.$element.on("hide.bs.select",function(){n.$menu.data("height",n.$menu.height()),n.$bsContainer.detach()})},setSelected:function(t,e,i){i||(this.togglePlaceholder(),i=this.findLis().eq(this.liObj[t])),i.toggleClass("selected",e)},setDisabled:function(t,e,i){i||(i=this.findLis().eq(this.liObj[t])),e?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),this.$button.attr("tabindex")!=-1||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},togglePlaceholder:function(){var t=this.$element.val();this.$button.toggleClass("bs-placeholder",null===t||""===t)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&this.$element.attr("tabindex")!==-98&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var e=this,i=t(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),i.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&i.data("spaceSelect")&&(t.preventDefault(),i.data("spaceSelect",!1))}),this.$button.on("click",function(){e.setSize()}),this.$element.on("shown.bs.select",function(){if(e.options.liveSearch||e.multiple){if(!e.multiple){var t=e.liObj[e.$element[0].selectedIndex];if("number"!=typeof t||e.options.size===!1)return;var i=e.$lis.eq(t)[0].offsetTop-e.$menuInner[0].offsetTop;i=i-e.$menuInner[0].offsetHeight/2+e.sizeInfo.liHeight/2,e.$menuInner[0].scrollTop=i}}else e.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(i){var n=t(this),s=n.parent().data("originalIndex"),o=e.$element.val(),r=e.$element.prop("selectedIndex"),a=!0;if(e.multiple&&1!==e.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!e.isDisabled()&&!n.parent().hasClass("disabled")){var l=e.$element.find("option"),d=l.eq(s),h=d.prop("selected"),c=d.parent("optgroup"),u=e.options.maxOptions,p=c.data("maxOptions")||!1;if(e.multiple){if(d.prop("selected",!h),e.setSelected(s,!h),n.blur(),u!==!1||p!==!1){var f=u<l.filter(":selected").length,m=p<c.find("option:selected").length;if(u&&f||p&&m)if(u&&1==u)l.prop("selected",!1),d.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected"),e.setSelected(s,!0);else if(p&&1==p){c.find("option:selected").prop("selected",!1),d.prop("selected",!0);var g=n.parent().data("optgroup");e.$menuInner.find('[data-optgroup="'+g+'"]').removeClass("selected"),e.setSelected(s,!0)}else{var _="string"==typeof e.options.maxOptionsText?[e.options.maxOptionsText,e.options.maxOptionsText]:e.options.maxOptionsText,v="function"==typeof _?_(u,p):_,y=v[0].replace("{n}",u),w=v[1].replace("{n}",p),b=t('<div class="notify"></div>');v[2]&&(y=y.replace("{var}",v[2][u>1?0:1]),w=w.replace("{var}",v[2][p>1?0:1])),d.prop("selected",!1),e.$menu.append(b),u&&f&&(b.append(t("<div>"+y+"</div>")),a=!1,e.$element.trigger("maxReached.bs.select")),p&&m&&(b.append(t("<div>"+w+"</div>")),a=!1,e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(s,!1)},10),b.delay(750).fadeOut(300,function(){t(this).remove()})}}}else l.prop("selected",!1),d.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected"),e.setSelected(s,!0);!e.multiple||e.multiple&&1===e.options.maxOptions?e.$button.focus():e.options.liveSearch&&e.$searchbox.focus(),a&&(o!=e.$element.val()&&e.multiple||r!=e.$element.prop("selectedIndex")&&!e.multiple)&&e.$element.trigger("changed.bs.select",[s,d.prop("selected"),h]).triggerNative("change")}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),e.options.liveSearch&&!t(i.target).hasClass("close")?e.$searchbox.focus():e.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){e.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){e.options.liveSearch?e.$searchbox.focus():e.$button.focus(),i.preventDefault(),i.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll()}),this.$element.change(function(){e.render(!1)})},liveSearchListener:function(){var n=this,s=t('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){n.$menuInner.find(".active").removeClass("active"),n.$searchbox.val()&&(n.$searchbox.val(""),n.$lis.not(".is-hidden").removeClass("hidden"),s.parent().length&&s.remove()),n.multiple||n.$menuInner.find(".selected").addClass("active"),setTimeout(function(){n.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(n.$searchbox.val()){var o=n.$lis.not(".is-hidden").removeClass("hidden").children("a");o=n.options.liveSearchNormalize?o.not(":a"+n._searchStyle()+'("'+e(n.$searchbox.val())+'")'):o.not(":"+n._searchStyle()+'("'+n.$searchbox.val()+'")'),o.parent().addClass("hidden"),n.$lis.filter(".dropdown-header").each(function(){var e=t(this),i=e.data("optgroup");0===n.$lis.filter("[data-optgroup="+i+"]").not(e).not(".hidden").length&&(e.addClass("hidden"),n.$lis.filter("[data-optgroup="+i+"div]").addClass("hidden"))});var r=n.$lis.not(".hidden");r.each(function(e){var i=t(this);i.hasClass("divider")&&(i.index()===r.first().index()||i.index()===r.last().index()||r.eq(e+1).hasClass("divider"))&&i.addClass("hidden")}),n.$lis.not(".hidden, .no-results").length?s.parent().length&&s.remove():(s.parent().length&&s.remove(),s.html(n.options.noneResultsText.replace("{0}",'"'+i(n.$searchbox.val())+'"')).show(),n.$menuInner.append(s))}else n.$lis.not(".is-hidden").removeClass("hidden"),s.parent().length&&s.remove();n.$lis.filter(".active").removeClass("active"),n.$searchbox.val()&&n.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),t(this).focus()})},_searchStyle:function(){var t={begins:"ibegins",startsWith:"ibegins"};return t[this.options.liveSearchStyle]||"icontains"},val:function(t){return"undefined"!=typeof t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){"undefined"==typeof e&&(e=!0),this.findLis();var i=this.$element.find("option"),n=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),s=n.length,o=[];if(e){if(n.filter(".selected").length===n.length)return}else if(0===n.filter(".selected").length)return;n.toggleClass("selected",e);for(var r=0;r<s;r++){var a=n[r].getAttribute("data-original-index");o[o.length]=i.eq(a)[0]}t(o).prop("selected",e),this.render(!1),this.togglePlaceholder(),this.$element.trigger("changed.bs.select").triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){t=t||window.event,t&&t.stopPropagation(),this.$button.trigger("click")},keydown:function(i){var n,s,o,r,a,l,d,h,c,u=t(this),p=u.is("input")?u.parent().parent():u.parent(),f=p.data("this"),m=":not(.disabled, .hidden, .dropdown-header, .divider)",g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(f.options.liveSearch&&(p=u.parent().parent()),f.options.container&&(p=f.$menu),n=t("[role=menu] li",p),c=f.$newElement.hasClass("open"),!c&&(i.keyCode>=48&&i.keyCode<=57||i.keyCode>=96&&i.keyCode<=105||i.keyCode>=65&&i.keyCode<=90))return f.options.container?f.$button.trigger("click"):(f.setSize(),f.$menu.parent().addClass("open"),c=!0),void f.$searchbox.focus();if(f.options.liveSearch&&(/(^9$|27)/.test(i.keyCode.toString(10))&&c&&0===f.$menu.find(".active").length&&(i.preventDefault(),f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus()),n=t("[role=menu] li"+m,p),u.val()||/(38|40)/.test(i.keyCode.toString(10))||0===n.filter(".active").length&&(n=f.$menuInner.find("li"),n=f.options.liveSearchNormalize?n.filter(":a"+f._searchStyle()+"("+e(g[i.keyCode])+")"):n.filter(":"+f._searchStyle()+"("+g[i.keyCode]+")"))),n.length){if(/(38|40)/.test(i.keyCode.toString(10)))s=n.index(n.find("a").filter(":focus").parent()),r=n.filter(m).first().index(),a=n.filter(m).last().index(),o=n.eq(s).nextAll(m).eq(0).index(),l=n.eq(s).prevAll(m).eq(0).index(),d=n.eq(o).prevAll(m).eq(0).index(),f.options.liveSearch&&(n.each(function(e){t(this).hasClass("disabled")||t(this).data("index",e)}),s=n.index(n.filter(".active")),r=n.first().data("index"),a=n.last().data("index"),o=n.eq(s).nextAll().eq(0).data("index"),l=n.eq(s).prevAll().eq(0).data("index"),d=n.eq(o).prevAll().eq(0).data("index")),h=u.data("prevIndex"),38==i.keyCode?(f.options.liveSearch&&s--,s!=d&&s>l&&(s=l),s<r&&(s=r),s==h&&(s=a)):40==i.keyCode&&(f.options.liveSearch&&s++,s==-1&&(s=0),s!=d&&s<o&&(s=o),s>a&&(s=a),s==h&&(s=r)),u.data("prevIndex",s),f.options.liveSearch?(i.preventDefault(),u.hasClass("dropdown-toggle")||(n.removeClass("active").eq(s).addClass("active").children("a").focus(),u.focus())):n.eq(s).children("a").focus();else if(!u.is("input")){var _,v,y=[];n.each(function(){t(this).hasClass("disabled")||t.trim(t(this).children("a").text().toLowerCase()).substring(0,1)==g[i.keyCode]&&y.push(t(this).index())}),_=t(document).data("keycount"),_++,t(document).data("keycount",_),v=t.trim(t(":focus").text().toLowerCase()).substring(0,1),v!=g[i.keyCode]?(_=1,t(document).data("keycount",_)):_>=y.length&&(t(document).data("keycount",0),_>y.length&&(_=1)),n.eq(y[_-1]).children("a").focus()}if((/(13|32)/.test(i.keyCode.toString(10))||/(^9$)/.test(i.keyCode.toString(10))&&f.options.selectOnTab)&&c){if(/(32)/.test(i.keyCode.toString(10))||i.preventDefault(),f.options.liveSearch)/(32)/.test(i.keyCode.toString(10))||(f.$menuInner.find(".active a").click(),u.focus());else{var w=t(":focus");w.click(),w.focus(),i.preventDefault(),t(document).data("spaceSelect",!0)}t(document).data("keycount",0)}(/(^9$|27)/.test(i.keyCode.toString(10))&&c&&(f.multiple||f.options.liveSearch)||/(27)/.test(i.keyCode.toString(10))&&!c)&&(f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var o=t.fn.selectpicker;t.fn.selectpicker=n,t.fn.selectpicker.Constructor=s,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=o,this},t(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',s.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(t){t.stopPropagation()}),t(window).on("load.bs.select.data-api",function(){t(".selectpicker").each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),window.Modernizr=function(t,e,i){function n(t){v.cssText=t}function s(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var n in t){var s=t[n];if(!o(s,"-")&&v[s]!==i)return"pfx"!=e||s}return!1}function a(t,e,n){for(var o in t){var r=e[t[o]];if(r!==i)return n===!1?t[o]:s(r,"function")?r.bind(n||e):r}return!1}function l(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+b.join(n+" ")+n).split(" ");return s(e,"string")||s(e,"undefined")?r(o,e):(o=(t+" "+T.join(n+" ")+n).split(" "),a(o,e,i))}var d,h,c,u="2.7.1",p={},f=!0,m=e.documentElement,g="modernizr",_=e.createElement(g),v=_.style,y=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),w="Webkit Moz O ms",b=w.split(" "),T=w.toLowerCase().split(" "),x={},k=[],L=k.slice,S=function(t,i,n,s){var o,r,a,l,d=e.createElement("div"),h=e.body,c=h||e.createElement("body");if(parseInt(n,10))for(;n--;)a=e.createElement("div"),a.id=s?s[n]:g+(n+1),d.appendChild(a);return o=["&#173;",'<style id="s',g,'">',t,"</style>"].join(""),d.id=g,(h?d:c).innerHTML+=o,c.appendChild(d),h||(c.style.background="",c.style.overflow="hidden",l=m.style.overflow,m.style.overflow="hidden",m.appendChild(c)),r=i(d,t),h?d.parentNode.removeChild(d):(c.parentNode.removeChild(c),m.style.overflow=l),!!r},C=function(){function t(t,o){o=o||e.createElement(n[t]||"div"),t="on"+t;var r=t in o;return r||(o.setAttribute||(o=e.createElement("div")),o.setAttribute&&o.removeAttribute&&(o.setAttribute(t,""),r=s(o[t],"function"),s(o[t],"undefined")||(o[t]=i),o.removeAttribute(t))),o=null,r}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),E={}.hasOwnProperty;c=s(E,"undefined")||s(E.call,"undefined")?function(t,e){return e in t&&s(t.constructor.prototype[e],"undefined")}:function(t,e){return E.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=L.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=e.prototype;var o=new s,r=e.apply(o,i.concat(L.call(arguments)));return Object(r)===r?r:o}return e.apply(t,i.concat(L.call(arguments)))};return n}),x.touch=function(){var i;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:S(["@media (",y.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=9===t.offsetTop}),i};for(var D in x)c(x,D)&&(h=D.toLowerCase(),p[h]=x[D](),k.push((p[h]?"":"no-")+h));return p.addTest=function(t,e){if("object"==typeof t)for(var n in t)c(t,n)&&p.addTest(n,t[n]);else{if(t=t.toLowerCase(),p[t]!==i)return p;e="function"==typeof e?e():e,"undefined"!=typeof f&&f&&(m.className+=" "+(e?"":"no-")+t),p[t]=e}return p},n(""),_=d=null,function(t,e){function i(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var t=v.elements;return"string"==typeof t?t.split(" "):t}function s(t){var e=_[t[m]];return e||(e={},g++,t[m]=g,_[g]=e),e}function o(t,i,n){if(i||(i=e),h)return i.createElement(t);n||(n=s(i));var o;return o=n.cache[t]?n.cache[t].cloneNode():f.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t),!o.canHaveChildren||p.test(t)||o.tagUrn?o:n.frag.appendChild(o)}function r(t,i){if(t||(t=e),h)return t.createDocumentFragment();i=i||s(t);for(var o=i.frag.cloneNode(),r=0,a=n(),l=a.length;r<l;r++)o.createElement(a[r]);return o}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return v.shivMethods?o(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,e.frag)}function l(t){t||(t=e);var n=s(t);return v.shivCSS&&!d&&!n.hasCSS&&(n.hasCSS=!!i(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),h||a(t,n),t}var d,h,c="3.7.0",u=t.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",g=0,_={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",d="hidden"in t,h=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(t){d=!0,h=!0}}();var v={elements:u.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:u.shivCSS!==!1,supportsUnknownElements:h,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:l,createElement:o,createDocumentFragment:r};t.html5=v,l(e)}(this,e),p._version=u,p._prefixes=y,p._domPrefixes=T,p._cssomPrefixes=b,p.hasEvent=C,p.testProp=function(t){return r([t])},p.testAllProps=l,p.testStyles=S,p.prefixed=function(t,e,i){return e?l(t,e,i):l(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+k.join(" "):""),p}(this,this.document),function(t,e,i){function n(t){return"[object Function]"==g.call(t)}function s(t){return"string"==typeof t}function o(){}function r(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=_.shift();v=1,t?t.t?f(function(){("c"==t.t?u.injectCss:u.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):v=0}function l(t,i,n,s,o,l,d){function h(e){if(!p&&r(c.readyState)&&(y.r=p=1,!v&&a(),c.onload=c.onreadystatechange=null,e)){"img"!=t&&f(function(){b.removeChild(c)},50);for(var n in S[i])S[i].hasOwnProperty(n)&&S[i][n].onload()}}var d=d||u.errorTimeout,c=e.createElement(t),p=0,g=0,y={t:n,s:i,e:o,a:l,x:d};1===S[i]&&(g=1,S[i]=[]),"object"==t?c.data=i:(c.src=i,c.type=t),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){h.call(this,g)},_.splice(s,0,y),"img"!=t&&(g||2===S[i]?(b.insertBefore(c,w?null:m),f(h,d)):S[i].push(c))}function d(t,e,i,n,o){return v=0,e=e||"j",s(t)?l("c"==e?x:T,t,e,this.i++,i,n,o):(_.splice(this.i++,0,t),1==_.length&&a()),this}function h(){var t=u;return t.loader={load:d,i:0},t}var c,u,p=e.documentElement,f=t.setTimeout,m=e.getElementsByTagName("script")[0],g={}.toString,_=[],v=0,y="MozAppearance"in p.style,w=y&&!!e.createRange().compareNode,b=w?p:m.parentNode,p=t.opera&&"[object Opera]"==g.call(t.opera),p=!!e.attachEvent&&!p,T=y?"object":p?"script":"img",x=p?"script":T,k=Array.isArray||function(t){return"[object Array]"==g.call(t)},L=[],S={},C={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};u=function(t){function e(t){var e,i,n,t=t.split("!"),s=L.length,o=t.pop(),r=t.length,o={url:o,origUrl:o,prefixes:t};for(i=0;i<r;i++)n=t[i].split("="),(e=C[n.shift()])&&(o=e(o,n));for(i=0;i<s;i++)o=L[i](o);return o}function r(t,s,o,r,a){var l=e(t),d=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(s&&(s=n(s)?s:s[t]||s[r]||s[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,s,o,r,a):(S[l.url]?l.noexec=!0:S[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":i,l.noexec,l.attrs,l.timeout),(n(s)||n(d))&&o.load(function(){h(),s&&s(l.origUrl,a,r),d&&d(l.origUrl,a,r),S[l.url]=2})))}function a(t,e){function i(t,i){if(t){if(s(t))i||(c=function(){var t=[].slice.call(arguments);u.apply(this,t),p()}),r(t,c,e,0,d);else if(Object(t)===t)for(l in a=function(){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i}(),t)t.hasOwnProperty(l)&&(!i&&!--a&&(n(c)?c=function(){var t=[].slice.call(arguments);u.apply(this,t),p()}:c[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),p()}}(u[l])),r(t[l],c,e,l,d))}else!i&&p()}var a,l,d=!!t.test,h=t.load||t.both,c=t.callback||o,u=c,p=t.complete||o;i(d?t.yep:t.nope,!!h),h&&i(h)}var l,d,c=this.yepnope.loader;if(s(t))r(t,0,c,0);else if(k(t))for(l=0;l<t.length;l++)d=t[l],s(d)?r(d,0,c,0):k(d)?u(d):Object(d)===d&&a(d,c);else Object(t)===t&&a(t,c)},u.addPrefix=function(t,e){C[t]=e},u.addFilter=function(t){L.push(t)},u.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",c=function(){e.removeEventListener("DOMContentLoaded",c,0),e.readyState="complete"},0)),t.yepnope=h(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,i,n,s,l,d){var h,c,p=e.createElement("script"),s=s||u.errorTimeout;p.src=t;for(c in n)p.setAttribute(c,n[c]);i=d?a:i||o,p.onreadystatechange=p.onload=function(){!h&&r(p.readyState)&&(h=1,i(),p.onload=p.onreadystatechange=null)},f(function(){h||(h=1,i(1))},s),l?p.onload():m.parentNode.insertBefore(p,m)},t.yepnope.injectCss=function(t,i,n,s,r,l){var d,s=e.createElement("link"),i=l?a:i||o;s.href=t,s.rel="stylesheet",s.type="text/css";for(d in n)s.setAttribute(d,n[d]);r||(m.parentNode.insertBefore(s,m),f(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,s=_gsScope.GreenSockGlobals||_gsScope,o=s.com.greensock,r=2*Math.PI,a=Math.PI/2,l=o._class,d=function(e,i){var n=l("easing."+e,function(){},!0),s=n.prototype=new t;return s.constructor=n,s.getRatio=i,n},h=t.register||function(){},c=function(t,e,i,n){var s=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n
},!0);return h(s,t),s},u=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},p=function(e,i){var n=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),s=n.prototype=new t;return s.constructor=n,s.getRatio=i,s.config=function(t){return new n(t)},n},f=c("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return 1>(t*=2)?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),g=m.prototype=new t;return g.constructor=m,g.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),g.config=m.config=function(t,e,i){return new m(t,e,i)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),g=e.prototype=new t,g.constructor=e,g.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},g.config=e.config=function(t){return new e(t)},i=l("easing.RoughEase",function(e){e=e||{};for(var i,n,s,o,r,a,l=e.taper||"none",d=[],h=0,c=0|(e.points||20),p=c,f=e.randomize!==!1,m=e.clamp===!0,g=e.template instanceof t?e.template:null,_="number"==typeof e.strength?.4*e.strength:.4;--p>-1;)i=f?Math.random():1/c*p,n=g?g.getRatio(i):i,"none"===l?s=_:"out"===l?(o=1-i,s=o*o*_):"in"===l?s=i*i*_:.5>i?(o=2*i,s=.5*o*o*_):(o=2*(1-i),s=.5*o*o*_),f?n+=Math.random()*s-.5*s:p%2?n+=.5*s:n-=.5*s,m&&(n>1?n=1:0>n&&(n=0)),d[h++]={x:i,y:n};for(d.sort(function(t,e){return t.x-e.x}),a=new u(1,1,null),p=c;--p>-1;)r=d[p],a=new u(r.x,r.y,a);this._prev=new u(0,0,0!==a.t?a:a.next)},!0),g=i.prototype=new t,g.constructor=i,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new i(t)},i.ease=new i,c("Bounce",d("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),d("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),d("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),c("Circ",d("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),d("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),d("CircInOut",function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var s=l("easing."+e,function(t,e){this._p1=t||1,this._p2=e||n,this._p3=this._p2/r*(Math.asin(1/this._p1)||0)},!0),o=s.prototype=new t;return o.constructor=s,o.getRatio=i,o.config=function(t,e){return new s(t,e)},s},c("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*r/this._p2)+1},.3),n("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*r/this._p2))},.3),n("ElasticInOut",function(t){return 1>(t*=2)?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*r/this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*r/this._p2)+1},.45)),c("Expo",d("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),d("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),d("ExpoInOut",function(t){return 1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),c("Sine",d("SineOut",function(t){return Math.sin(t*a)}),d("SineIn",function(t){return-Math.cos(t*a)+1}),d("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),h(s.SlowMo,"SlowMo","ease,"),h(i,"RoughEase","ease,"),h(e,"SteppedEase","ease,"),f},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,s=this.vars;for(n in s)i=s[n],l(i)&&-1!==i.join("").indexOf("{self}")&&(s[n]=this._swapSelfInParams(i));l(s.tweens)&&this.add(s.tweens,0,s.align,s.stagger)},s=1e-10,o=i._internals,r=n._internals={},a=o.isSelector,l=o.isArray,d=o.lazyTweens,h=o.lazyRender,c=[],u=_gsScope._gsDefine.globals,p=function(t){var e,i={};for(e in t)i[e]=t[e];return i},f=r.pauseCallback=function(t,e,i,n){var s=t._timeline,o=s._totalTime;!e&&this._forcingPlayhead||s._rawPrevTime===t._startTime||(s.pause(t._startTime),e&&e.apply(n||s,i||c),this._forcingPlayhead&&s.seek(o))},m=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},g=n.prototype=new e;return n.version="1.15.1",g.constructor=n,g.kill()._gc=g._forcingPlayhead=!1,g.to=function(t,e,n,s){var o=n.repeat&&u.TweenMax||i;return e?this.add(new o(t,e,n),s):this.set(t,n,s)},g.from=function(t,e,n,s){return this.add((n.repeat&&u.TweenMax||i).from(t,e,n),s)},g.fromTo=function(t,e,n,s,o){var r=s.repeat&&u.TweenMax||i;return e?this.add(r.fromTo(t,e,n,s),o):this.set(t,s,o)},g.staggerTo=function(t,e,s,o,r,l,d,h){var c,u=new n({onComplete:l,onCompleteParams:d,onCompleteScope:h,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],a(t)&&(t=m(t)),o=o||0,0>o&&(t=m(t),t.reverse(),o*=-1),c=0;t.length>c;c++)s.startAt&&(s.startAt=p(s.startAt)),u.to(t[c],e,p(s),c*o);return this.add(u,r)},g.staggerFrom=function(t,e,i,n,s,o,r,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,s,o,r,a)},g.staggerFromTo=function(t,e,i,n,s,o,r,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,s,o,r,a,l)},g.call=function(t,e,n,s){return this.add(i.delayedCall(0,t,e,n),s)},g.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var s,o,r=new n(t),a=r._timeline;for(null==e&&(e=!0),a._remove(r,!0),r._startTime=0,r._rawPrevTime=r._time=r._totalTime=a._time,s=a._first;s;)o=s._next,e&&s instanceof i&&s.target===s.vars.onComplete||r.add(s,s._startTime-s._delay),s=o;return a.add(r,0),r},g.add=function(s,o,r,a){var d,h,c,u,p,f;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,s)),!(s instanceof t)){if(s instanceof Array||s&&s.push&&l(s)){for(r=r||"normal",a=a||0,d=o,h=s.length,c=0;h>c;c++)l(u=s[c])&&(u=new n({tweens:u})),this.add(u,d),"string"!=typeof u&&"function"!=typeof u&&("sequence"===r?d=u._startTime+u.totalDuration()/u._timeScale:"start"===r&&(u._startTime-=u.delay())),d+=a;return this._uncache(!0)}if("string"==typeof s)return this.addLabel(s,o);if("function"!=typeof s)throw"Cannot add "+s+" into the timeline; it is not a tween, timeline, function, or string.";s=i.delayedCall(0,s)}if(e.prototype.add.call(this,s,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=this,f=p.rawTime()>s._startTime;p._timeline;)f&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},g.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&l(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},g._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},g.insert=g.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},g.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},g.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},g.addPause=function(t,e,n,s){var o=i.delayedCall(0,f,["{self}",e,n,s],this);return o.data="isPause",this.add(o,t)},g.removeLabel=function(t){return delete this._labels[t],this},g.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},g._parseTimeOrLabel=function(e,i,n,s){var o;if(s instanceof t&&s.timeline===this)this.remove(s);else if(s&&(s instanceof Array||s.push&&l(s)))for(o=s.length;--o>-1;)s[o]instanceof t&&s[o].timeline===this&&this.remove(s[o]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(o=e.indexOf("="),-1===o)return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,n):this.duration()}return Number(e)+i},g.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(t,e){return this.play(t,e)},g.gotoAndStop=function(t,e){return this.pause(t,e)},g.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,o,r,a,l,u=this._dirty?this.totalDuration():this._totalDuration,p=this._time,f=this._startTime,m=this._timeScale,g=this._paused;if(t>=u?(this._totalTime=this._time=u,this._reversed||this._hasPausedChild()||(o=!0,a="onComplete",0===this._duration&&(0===t||0>this._rawPrevTime||this._rawPrevTime===s)&&this._rawPrevTime!==t&&this._first&&(l=!0,this._rawPrevTime>s&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:s,t=u+1e-4):1e-7>t?(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==s&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(a="onReverseComplete",o=this._reversed),0>t?(this._active=!1,this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=t):(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:s,t=0,this._initted||(l=!0))):this._totalTime=this._time=this._rawPrevTime=t,this._time!==p&&this._first||i||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&0!==this._time&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||c)),this._time>=p)for(n=this._first;n&&(r=n._next,!this._paused||g);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r;else for(n=this._last;n&&(r=n._prev,!this._paused||g);)(n._active||p>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r;this._onUpdate&&(e||(d.length&&h(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||c))),a&&(this._gc||(f===this._startTime||m!==this._timeScale)&&(0===this._time||u>=this.totalDuration())&&(o&&(d.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this.vars[a].apply(this.vars[a+"Scope"]||this,this.vars[a+"Params"]||c)))}},g._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},g.getChildren=function(t,e,n,s){s=s||-9999999999;for(var o=[],r=this._first,a=0;r;)s>r._startTime||(r instanceof i?e!==!1&&(o[a++]=r):(n!==!1&&(o[a++]=r),t!==!1&&(o=o.concat(r.getChildren(!0,e,n)),a=o.length))),r=r._next;return o},g.getTweensOf=function(t,e){var n,s,o=this._gc,r=[],a=0;for(o&&this._enabled(!0,!0),n=i.getTweensOf(t),s=n.length;--s>-1;)(n[s].timeline===this||e&&this._contains(n[s]))&&(r[a++]=n[s]);return o&&this._enabled(!1,!0),r},g.recent=function(){return this._recent},g._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},g.shiftChildren=function(t,e,i){i=i||0;for(var n,s=this._first,o=this._labels;s;)s._startTime>=i&&(s._startTime+=t),s=s._next;if(e)for(n in o)o[n]>=i&&(o[n]+=t);return this._uncache(!0)},g._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,s=!1;--n>-1;)i[n]._kill(t,e)&&(s=!0);return s},g.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},g._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},g.totalTime=function(){this._forcingPlayhead=!0;var e=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},g.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,s=this._last,o=999999999999;s;)e=s._prev,s._dirty&&s.totalDuration(),s._startTime>o&&this._sortChildren&&!s._paused?this.add(s,s._startTime-s._delay):o=s._startTime,0>s._startTime&&!s._paused&&(n-=s._startTime,this._timeline.smoothChildTiming&&(this._startTime+=s._startTime/this._timeScale),this.shiftChildren(-s._startTime,!1,-9999999999),o=0),i=s._startTime+s._totalDuration/s._timeScale,i>n&&(n=i),s=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},g.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},g.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=e())}("TimelineLite"),function(t,e){"use strict";var i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var n,s,o,r,a,l=function(t){var e,n=t.split("."),s=i;for(e=0;n.length>e;e++)s[n[e]]=s=s[n[e]]||{};return s},d=l("com.greensock"),h=1e-10,c=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},u=function(){},p=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),f={},m=function(n,s,o,r){this.sc=f[n]?f[n].sc:[],f[n]=this,this.gsClass=null,this.func=o;var a=[];this.check=function(d){for(var h,c,u,p,g=s.length,_=g;--g>-1;)(h=f[s[g]]||new m(s[g],[])).gsClass?(a[g]=h.gsClass,_--):d&&h.sc.push(this);if(0===_&&o)for(c=("com.greensock."+n).split("."),u=c.pop(),p=l(c.join("."))[u]=this.gsClass=o.apply(o,a),r&&(i[u]=p,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+n.split(".").pop(),[],function(){return p}):n===e&&"undefined"!=typeof module&&module.exports&&(module.exports=p)),g=0;this.sc.length>g;g++)this.sc[g].check()},this.check(!0)},g=t._gsDefine=function(t,e,i,n){return new m(t,e,i,n)},_=d._class=function(t,e,i){return e=e||function(){},g(t,[],function(){return e},i),e};g.globals=i;var v=[0,0,1,1],y=[],w=_("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?v.concat(e):v},!0),b=w.map={},T=w.register=function(t,e,i,n){for(var s,o,r,a,l=e.split(","),h=l.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--h>-1;)for(o=l[h],s=n?_("easing."+o,null,!0):d.easing[o]||{},r=c.length;--r>-1;)a=c[r],b[o+"."+a]=b[a+o]=s[a]=t.getRatio?t:t[a]||new t};for(o=w.prototype,o._calcEnd=!1,o.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:.5>t?n/2:1-n/2},n=["Linear","Quad","Cubic","Quart","Quint,Strong"],s=n.length;--s>-1;)o=n[s]+",Power"+s,T(new w(null,null,1,s),o,"easeOut",!0),T(new w(null,null,2,s),o,"easeIn"+(0===s?",easeNone":"")),T(new w(null,null,3,s),o,"easeInOut");b.linear=d.easing.Linear.easeIn,b.swing=d.easing.Quad.easeInOut;var x=_("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});o=x.prototype,o.addEventListener=function(t,e,i,n,s){s=s||0;var o,l,d=this._listeners[t],h=0;for(null==d&&(this._listeners[t]=d=[]),l=d.length;--l>-1;)o=d[l],o.c===e&&o.s===i?d.splice(l,1):0===h&&s>o.pr&&(h=l+1);d.splice(h,0,{c:e,s:i,up:n,pr:s}),this!==r||a||r.wake()},o.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},o.dispatchEvent=function(t){var e,i,n,s=this._listeners[t];if(s)for(e=s.length,i=this._eventTarget;--e>-1;)n=s[e],n&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var k=t.requestAnimationFrame,L=t.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()},C=S();for(n=["ms","moz","webkit","o"],s=n.length;--s>-1&&!k;)k=t[n[s]+"RequestAnimationFrame"],L=t[n[s]+"CancelAnimationFrame"]||t[n[s]+"CancelRequestAnimationFrame"];_("Ticker",function(t,e){var i,n,s,o,l,d=this,c=S(),p=e!==!1&&k,f=500,m=33,g="tick",_=function(t){var e,r,a=S()-C;a>f&&(c+=a-m),C+=a,d.time=(C-c)/1e3,e=d.time-l,(!i||e>0||t===!0)&&(d.frame++,l+=e+(e>=o?.004:o-e),r=!0),t!==!0&&(s=n(_)),r&&d.dispatchEvent(g)};x.call(d),d.time=d.frame=0,d.tick=function(){_(!0)},d.lagSmoothing=function(t,e){f=t||1/h,m=Math.min(e,f,0)},d.sleep=function(){null!=s&&(p&&L?L(s):clearTimeout(s),n=u,s=null,d===r&&(a=!1))},d.wake=function(){null!==s?d.sleep():d.frame>10&&(C=S()-f+5),n=0===i?u:p&&k?k:function(t){return setTimeout(t,0|1e3*(l-d.time)+1)},d===r&&(a=!0),_(2)},d.fps=function(t){return arguments.length?(i=t,o=1/(i||60),l=this.time+o,void d.wake()):i},d.useRAF=function(t){return arguments.length?(d.sleep(),p=t,void d.fps(i)):p},d.fps(t),setTimeout(function(){p&&(!s||5>d.frame)&&d.useRAF(!1)},1500)}),o=d.Ticker.prototype=new d.events.EventDispatcher,o.constructor=d.Ticker;var E=_("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,B){a||r.wake();var i=this.vars.useFrames?H:B;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});r=E.ticker=new d.Ticker,o=E.prototype,o._dirty=o._gc=o._initted=o._paused=!1,o._totalTime=o._time=0,o._rawPrevTime=-1,o._next=o._last=o._onUpdate=o._timeline=o.timeline=null,o._paused=!1;var D=function(){a&&S()-C>2e3&&r.wake(),setTimeout(D,2e3)};D(),o.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},o.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},o.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},o.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},o.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},o.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},o.render=function(){},o.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},o.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},o._enabled=function(t,e){return a||r.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},o._kill=function(){return this._enabled(!1,!1)},o.kill=function(t,e){return this._kill(t,e),this},o._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},o._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},o.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var s=this.vars;if(1===arguments.length)return s[t];null==e?delete s[t]:(s[t]=e,s[t+"Params"]=p(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,s[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},o.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},o.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},o.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},o.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},o.totalTime=function(t,e,i){if(a||r.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,s=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:s._time)-(this._reversed?n-t:t)/this._timeScale,s._dirty||this._uncache(!1),s._timeline)for(;s._timeline;)s._timeline._time!==(s._startTime+s._totalTime)/s._timeScale&&s.totalTime(s._totalTime,!0),s=s._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(this.render(t,e,!1),A.length&&q())}return this},o.progress=o.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},o.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},o.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},o.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||h,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},o.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},o.paused=function(t){if(!arguments.length)return this._paused;if(t!=this._paused&&this._timeline){a||t||r.wake();var e=this._timeline,i=e.rawTime(),n=i-this._pauseTime;!t&&e.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?i:null,this._paused=t,this._active=this.isActive(),!t&&0!==n&&this._initted&&this.duration()&&this.render(e.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!t&&this._enabled(!0,!1),this};var M=_("core.SimpleTimeline",function(t){E.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});o=M.prototype=new E,o.constructor=M,o.kill()._gc=!1,o._first=o._last=o._recent=null,o._sortChildren=!1,o.add=o.insert=function(t,e){var i,n;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(n=t._startTime;i&&i._startTime>n;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},o._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},o.render=function(t,e,i){var n,s=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;s;)n=s._next,(s._active||t>=s._startTime&&!s._paused)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=n},o.rawTime=function(){return a||r.wake(),this._totalTime};var $=_("TweenLite",function(e,i,n){if(E.call(this,i,n),this.render=$.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:$.selector(e)||e;var s,o,r,a=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?U[$.defaultOverwrite]:"number"==typeof l?l>>0:U[l],(a||e instanceof Array||e.push&&p(e))&&"number"!=typeof e[0])for(this._targets=r=c(e),this._propLookup=[],this._siblings=[],s=0;r.length>s;s++)o=r[s],o?"string"!=typeof o?o.length&&o!==t&&o[0]&&(o[0]===t||o[0].nodeType&&o[0].style&&!o.nodeType)?(r.splice(s--,1),this._targets=r=r.concat(c(o))):(this._siblings[s]=W(o,this,!1),1===l&&this._siblings[s].length>1&&Y(o,this,null,1,this._siblings[s])):(o=r[s--]=$.selector(o),"string"==typeof o&&r.splice(s+1,1)):r.splice(s--,1);else this._propLookup={},this._siblings=W(e,this,!1),1===l&&this._siblings.length>1&&Y(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-h,this.render(-this._delay))},!0),P=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},O=function(t,e){var i,n={};for(i in t)F[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!z[i]||z[i]&&z[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};o=$.prototype=new E,o.constructor=$,o.kill()._gc=!1,o.ratio=0,o._firstPT=o._targets=o._overwrittenProps=o._startAt=null,o._notifyPluginsOfEnabled=o._lazy=!1,$.version="1.15.1",$.defaultEase=o._ease=new w(null,null,1,1),$.defaultOverwrite="auto",$.ticker=r,$.autoSleep=!0,$.lagSmoothing=function(t,e){r.lagSmoothing(t,e)},$.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?($.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var A=[],N={},I=$._internals={isArray:p,isSelector:P,lazyTweens:A},z=$._plugins={},j=I.tweenLookup={},R=0,F=I.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},U={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},H=E._rootFramesTimeline=new M,B=E._rootTimeline=new M,q=I.lazyRender=function(){var t,e=A.length;for(N={};--e>-1;)t=A[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);A.length=0};B._startTime=r.time,H._startTime=r.frame,B._active=H._active=!0,setTimeout(q,1),E._updateRoot=$.render=function(){var t,e,i;if(A.length&&q(),B.render((r.time-B._startTime)*B._timeScale,!1,!1),H.render((r.frame-H._startTime)*H._timeScale,!1,!1),A.length&&q(),!(r.frame%120)){for(i in j){for(e=j[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete j[i]}if(i=B._first,(!i||i._paused)&&$.autoSleep&&!H._first&&1===r._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||r.sleep()}}},r.addEventListener("tick",E._updateRoot);var W=function(t,e,i){var n,s,o=t._gsTweenID;if(j[o||(t._gsTweenID=o="t"+R++)]||(j[o]={target:t,tweens:[]}),e&&(n=j[o].tweens,n[s=n.length]=e,i))for(;--s>-1;)n[s]===e&&n.splice(s,1);return j[o].tweens},X=function(t,e,i,n){var s,o,r=t.vars.onOverwrite;return r&&(s=r(t,e,i,n)),r=$.onOverwrite,r&&(o=r(t,e,i,n)),s!==!1&&o!==!1},Y=function(t,e,i,n,s){var o,r,a,l;if(1===n||n>=4){for(l=s.length,o=0;l>o;o++)if((a=s[o])!==e)a._gc||X(a,e)&&a._enabled(!1,!1)&&(r=!0);else if(5===n)break;return r}var d,c=e._startTime+h,u=[],p=0,f=0===e._duration;for(o=s.length;--o>-1;)(a=s[o])===e||a._gc||a._paused||(a._timeline!==e._timeline?(d=d||V(e,0,f),0===V(a,d,f)&&(u[p++]=a)):c>=a._startTime&&a._startTime+a.totalDuration()/a._timeScale>c&&((f||!a._initted)&&2e-10>=c-a._startTime||(u[p++]=a)));for(o=p;--o>-1;)if(a=u[o],2===n&&a._kill(i,t,e)&&(r=!0),2!==n||!a._firstPT&&a._initted){if(2!==n&&!X(a,e))continue;a._enabled(!1,!1)&&(r=!0)}return r},V=function(t,e,i){for(var n=t._timeline,s=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,s*=n._timeScale,n._paused)return-100;n=n._timeline}return o/=s,o>e?o-e:i&&o===e||!t._initted&&2*h>o-e?h:(o+=t.totalDuration()/t._timeScale/s)>e+h?0:o-e-h};o._init=function(){var t,e,i,n,s,o=this.vars,r=this._overwrittenProps,a=this._duration,l=!!o.immediateRender,d=o.ease;if(o.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),s={};for(n in o.startAt)s[n]=o.startAt[n];if(s.overwrite=!1,s.immediateRender=!0,s.lazy=l&&o.lazy!==!1,s.startAt=s.delay=null,this._startAt=$.to(this.target,0,s),l)if(this._time>0)this._startAt=null;else if(0!==a)return}else if(o.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(n in o)F[n]&&"autoCSS"!==n||(i[n]=o[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&o.lazy!==!1,i.immediateRender=l,this._startAt=$.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=d=d?d instanceof w?d:"function"==typeof d?new w(d,o.easeParams):b[d]||$.defaultEase:$.defaultEase,o.easeParams instanceof Array&&d.config&&(this._ease=d.config.apply(d,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],r?r[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,r);if(e&&$._onPluginEvent("_onInitAllProps",this),r&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},o._initProps=function(e,i,n,s){var o,r,a,l,d,h;if(null==e)return!1;N[e._gsTweenID]&&q(),this.vars.css||e.style&&e!==t&&e.nodeType&&z.css&&this.vars.autoCSS!==!1&&O(this.vars,e);for(o in this.vars){if(h=this.vars[o],F[o])h&&(h instanceof Array||h.push&&p(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[o]=h=this._swapSelfInParams(h,this));else if(z[o]&&(l=new z[o])._onInitTween(e,this.vars[o],this)){
for(this._firstPT=d={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:o,pg:!0,pr:l._priority},r=l._overwriteProps.length;--r>-1;)i[l._overwriteProps[r]]=this._firstPT;(l._priority||l._onInitAllProps)&&(a=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[o]=d={_next:this._firstPT,t:e,p:o,f:"function"==typeof e[o],n:o,pg:!1,pr:0},d.s=d.f?e[o.indexOf("set")||"function"!=typeof e["get"+o.substr(3)]?o:"get"+o.substr(3)]():parseFloat(e[o]),d.c="string"==typeof h&&"="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*Number(h.substr(2)):Number(h)-d.s||0;d&&d._next&&(d._next._prev=d)}return s&&this._kill(s,e)?this._initProps(e,i,n,s):this._overwrite>1&&this._firstPT&&n.length>1&&Y(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,s)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(N[e._gsTweenID]=!0),a)},o.render=function(t,e,i){var n,s,o,r,a=this._time,l=this._duration,d=this._rawPrevTime;if(t>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,s="onComplete"),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>d||d===h&&"isPause"!==this.data)&&d!==t&&(i=!0,d>h&&(s="onReverseComplete")),this._rawPrevTime=r=!e||t||d===t?t:h);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&d>0&&d!==h)&&(s="onReverseComplete",n=this._reversed),0>t&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(d>=0&&(d!==h||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=r=!e||t||d===t?t:h)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/l,u=this._easeType,p=this._easePower;(1===u||3===u&&c>=.5)&&(c=1-c),3===u&&(c*=2),1===p?c*=c:2===p?c*=c*c:3===p?c*=c*c*c:4===p&&(c*=c*c*c*c),this.ratio=1===u?1-c:2===u?c:.5>t/l?c/2:1-c/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=d,A.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):s||(s="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||y))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==a||n)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||y)),s&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this.vars[s].apply(this.vars[s+"Scope"]||this,this.vars[s+"Params"]||y),0===l&&this._rawPrevTime===h&&r!==h&&(this._rawPrevTime=0))}},o._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:$.selector(e)||e;var n,s,o,r,a,l,d,h,c;if((p(e)||P(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n])&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){a=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],s=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,s=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(d=t||a,h=t!==s&&"all"!==s&&t!==a&&("object"!=typeof t||!t._tempKill),i&&($.onOverwrite||this.vars.onOverwrite)){for(o in d)a[o]&&(c||(c=[]),c.push(o));if(!X(this,i,e,c))return!1}for(o in d)(r=a[o])&&(r.pg&&r.t._kill(d)&&(l=!0),r.pg&&0!==r.t._overwriteProps.length||(r._prev?r._prev._next=r._next:r===this._firstPT&&(this._firstPT=r._next),r._next&&(r._next._prev=r._prev),r._next=r._prev=null),delete a[o]),h&&(s[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},o.invalidate=function(){return this._notifyPluginsOfEnabled&&$._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],E.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-h,this.render(-this._delay)),this},o._enabled=function(t,e){if(a||r.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=W(n[i],this,!0);else this._siblings=W(this.target,this,!0)}return E.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&$._onPluginEvent(t?"_onEnable":"_onDisable",this)},$.to=function(t,e,i){return new $(t,e,i)},$.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new $(t,e,i)},$.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new $(t,e,n)},$.delayedCall=function(t,e,i,n,s){return new $(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:n,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,lazy:!1,useFrames:s,overwrite:0})},$.set=function(t,e){return new $(t,0,e)},$.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:$.selector(t)||t;var i,n,s,o;if((p(t)||P(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat($.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(o=n[i],s=i;--s>-1;)o===n[s]&&n.splice(i,1)}else for(n=W(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},$.killTweensOf=$.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=$.getTweensOf(t,e),s=n.length;--s>-1;)n[s]._kill(i,t)};var G=_("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=G.prototype},!0);if(o=G.prototype,G.version="1.10.1",G.API=2,o._firstPT=null,o._addTween=function(t,e,i,n,s,o){var r,a;return null!=n&&(r="number"==typeof n||"="!==n.charAt(1)?Number(n)-i:parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)))?(this._firstPT=a={_next:this._firstPT,t:t,p:e,s:i,c:r,f:"function"==typeof t[e],n:s||e,r:o},a._next&&(a._next._prev=a),a):void 0},o.setRatio=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.c*t+i.s,i.r?e=Math.round(e):n>e&&e>-n&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},o._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},o._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},$._onPluginEvent=function(t,e){var i,n,s,o,r,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(r=a._next,n=s;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:o)?a._prev._next=a:s=a,(a._next=n)?n._prev=a:o=a,a=r}a=e._firstPT=s}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},G.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===G.API&&(z[(new t[e])._propName]=t[e]);return!0},g.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,s=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},r=_("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){G.call(this,i,n),this._overwriteProps=s||[]},t.global===!0),a=r.prototype=new G(i);a.constructor=r,r.API=t.API;for(e in o)"function"==typeof t[e]&&(a[o[e]]=t[e]);return r.version=t.version,G.activate([r]),r},n=t._gsQueue){for(s=0;n.length>s;s++)n[s]();for(o in f)f[o].func||t.console.log("GSAP encountered missing dependency: com.greensock."+o)}a=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,s,o,r=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=r.prototype.setRatio},a=_gsScope._gsDefine.globals,l={},d=r.prototype=new t("css");d.constructor=r,r.version="1.15.1",r.API=2,r.defaultTransformPerspective=0,r.defaultSkewType="compensated",d="px",r.suffixMap={top:d,right:d,bottom:d,left:d,width:d,height:d,fontSize:d,padding:d,margin:d,perspective:d,lineHeight:""};var h,c,u,p,f,m,g=/(?:\d|\-\d|\.\d|\-\.\d)+/g,_=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,b=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,x=/alpha\(opacity *=.+?\)/i,k=/^(rgb|hsl)/,L=/([A-Z])/g,S=/-([a-z])/gi,C=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,E=function(t,e){return e.toUpperCase()},D=/(?:Left|Right|Width)/i,M=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,$=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,P=/,(?=[^\)]*(?:\(|$))/gi,O=Math.PI/180,A=180/Math.PI,N={},I=document,z=function(t){return I.createElementNS?I.createElementNS("http://www.w3.org/1999/xhtml",t):I.createElement(t)},j=z("div"),R=z("img"),F=r._internals={_specialProps:l},U=navigator.userAgent,H=function(){var t=U.indexOf("Android"),e=z("a");return u=-1!==U.indexOf("Safari")&&-1===U.indexOf("Chrome")&&(-1===t||Number(U.substr(t+8,1))>3),f=u&&6>Number(U.substr(U.indexOf("Version/")+8,1)),p=-1!==U.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(U)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(U))&&(m=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),B=function(t){return b.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},q=function(t){window.console&&console.log(t)},W="",X="",Y=function(t,e){e=e||j;var i,n,s=e.style;if(void 0!==s[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===s[i[n]+t];);return n>=0?(X=3===n?"ms":i[n],W="-"+X.toLowerCase()+"-",X+t):null},V=I.defaultView?I.defaultView.getComputedStyle:function(){},G=r.getStyle=function(t,e,i,n,s){var o;return H||"opacity"!==e?(!n&&t.style[e]?o=t.style[e]:(i=i||V(t))?o=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(L,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==s||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:s):B(t)},Z=F.convertToPixels=function(t,i,n,s,o){if("px"===s||!s)return n;if("auto"===s||!n)return 0;var a,l,d,h=D.test(i),c=t,u=j.style,p=0>n;if(p&&(n=-n),"%"===s&&-1!==i.indexOf("border"))a=n/100*(h?t.clientWidth:t.clientHeight);else{if(u.cssText="border:0 solid red;position:"+G(t,"position")+";line-height:0;","%"!==s&&c.appendChild)u[h?"borderLeftWidth":"borderTopWidth"]=n+s;else{if(c=t.parentNode||I.body,l=c._gsCache,d=e.ticker.frame,l&&h&&l.time===d)return l.width*n/100;u[h?"width":"height"]=n+s}c.appendChild(j),a=parseFloat(j[h?"offsetWidth":"offsetHeight"]),c.removeChild(j),h&&"%"===s&&r.cacheWidths!==!1&&(l=c._gsCache=c._gsCache||{},l.time=d,l.width=100*(a/n)),0!==a||o||(a=Z(t,i,n,s,!0))}return p?-a:a},Q=F.calculateOffset=function(t,e,i){if("absolute"!==G(t,"position",i))return 0;var n="left"===e?"Left":"Top",s=G(t,"margin"+n,i);return t["offset"+n]-(Z(t,e,parseFloat(s),s.replace(w,""))||0)},J=function(t,e){var i,n,s={};if(e=e||V(t,null))for(i in e)(-1===i.indexOf("Transform")||Tt===i)&&(s[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===s[i]&&(s[i.replace(S,E)]=e[i]);return H||(s.opacity=B(t)),n=Pt(t,e,!1),s.rotation=n.rotation,s.skewX=n.skewX,s.scaleX=n.scaleX,s.scaleY=n.scaleY,s.x=n.x,s.y=n.y,Lt&&(s.z=n.z,s.rotationX=n.rotationX,s.rotationY=n.rotationY,s.scaleZ=n.scaleZ),s.filters&&delete s.filters,s},K=function(t,e,i,n,s){var o,r,a,l={},d=t.style;for(r in i)"cssText"!==r&&"length"!==r&&isNaN(r)&&(e[r]!==(o=i[r])||s&&s[r])&&-1===r.indexOf("Origin")&&("number"==typeof o||"string"==typeof o)&&(l[r]="auto"!==o||"left"!==r&&"top"!==r?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[r]||""===e[r].replace(y,"")?o:0:Q(t,r),void 0!==d[r]&&(a=new pt(d,r,d[r],a)));if(n)for(r in n)"className"!==r&&(l[r]=n[r]);return{difs:l,firstMPT:a}},tt={width:["Left","Right"],height:["Top","Bottom"]},et=["marginLeft","marginRight","marginTop","marginBottom"],it=function(t,e,i){var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),s=tt[e],o=s.length;for(i=i||V(t,null);--o>-1;)n-=parseFloat(G(t,"padding"+s[o],i,!0))||0,n-=parseFloat(G(t,"border"+s[o]+"Width",i,!0))||0;return n},nt=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var i=t.split(" "),n=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],s=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==s?s="center"===n?"50%":"0":"center"===s&&(s="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),e&&(e.oxp=-1!==n.indexOf("%"),e.oyp=-1!==s.indexOf("%"),e.oxr="="===n.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(n.replace(y,"")),e.oy=parseFloat(s.replace(y,""))),n+" "+s+(i.length>2?" "+i[2]:"")},st=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},ot=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},rt=function(t,e,i,n){var s,o,r,a,l,d=1e-6;return null==t?a=e:"number"==typeof t?a=t:(s=360,o=t.split("_"),l="="===t.charAt(1),r=(l?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===t.indexOf("rad")?1:A)-(l?0:e),o.length&&(n&&(n[i]=e+r),-1!==t.indexOf("short")&&(r%=s,r!==r%(s/2)&&(r=0>r?r+s:r-s)),-1!==t.indexOf("_cw")&&0>r?r=(r+9999999999*s)%s-(0|r/s)*s:-1!==t.indexOf("ccw")&&r>0&&(r=(r-9999999999*s)%s-(0|r/s)*s)),a=e+r),d>a&&a>-d&&(a=0),a},at={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},lt=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,0|255*(1>6*t?e+6*(i-e)*t:.5>t?i:2>3*t?e+6*(i-e)*(2/3-t):e)+.5},dt=r.parseColor=function(t){var e,i,n,s,o,r;return t&&""!==t?"number"==typeof t?[t>>16,255&t>>8,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),at[t]?at[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),i=t.charAt(2),n=t.charAt(3),t="#"+e+e+i+i+n+n),t=parseInt(t.substr(1),16),[t>>16,255&t>>8,255&t]):"hsl"===t.substr(0,3)?(t=t.match(g),s=Number(t[0])%360/360,o=Number(t[1])/100,r=Number(t[2])/100,i=.5>=r?r*(o+1):r+o-r*o,e=2*r-i,t.length>3&&(t[3]=Number(t[3])),t[0]=lt(s+1/3,e,i),t[1]=lt(s,e,i),t[2]=lt(s-1/3,e,i),t):(t=t.match(g)||at.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):at.black},ht="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(d in at)ht+="|"+d+"\\b";ht=RegExp(ht+")","gi");var ct=function(t,e,i,n){if(null==t)return function(t){return t};var s,o=e?(t.match(ht)||[""])[0]:"",r=t.split(o).join("").match(v)||[],a=t.substr(0,t.indexOf(r[0])),l=")"===t.charAt(t.length-1)?")":"",d=-1!==t.indexOf(" ")?" ":",",h=r.length,c=h>0?r[0].replace(g,""):"";return h?s=e?function(t){var e,u,p,f;if("number"==typeof t)t+=c;else if(n&&P.test(t)){for(f=t.replace(P,"|").split("|"),p=0;f.length>p;p++)f[p]=s(f[p]);return f.join(",")}if(e=(t.match(ht)||[o])[0],u=t.split(e).join("").match(v)||[],p=u.length,h>p--)for(;h>++p;)u[p]=i?u[0|(p-1)/2]:r[p];return a+u.join(d)+d+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,o,u;if("number"==typeof t)t+=c;else if(n&&P.test(t)){for(o=t.replace(P,"|").split("|"),u=0;o.length>u;u++)o[u]=s(o[u]);return o.join(",")}if(e=t.match(v)||[],u=e.length,h>u--)for(;h>++u;)e[u]=i?e[0|(u-1)/2]:r[u];return a+e.join(d)+l}:function(t){return t}},ut=function(t){return t=t.split(","),function(e,i,n,s,o,r,a){var l,d=(i+"").split(" ");for(a={},l=0;4>l;l++)a[t[l]]=d[l]=d[l]||d[(l-1)/2>>0];return s.parse(e,a,o,r)}},pt=(F._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,s,o=this.data,r=o.proxy,a=o.firstMPT,l=1e-6;a;)e=r[a.v],a.r?e=Math.round(e):l>e&&e>-l&&(e=0),a.t[a.p]=e,a=a._next;if(o.autoRotate&&(o.autoRotate.rotation=r.rotation),1===t)for(a=o.firstMPT;a;){if(i=a.t,i.type){if(1===i.type){for(s=i.xs0+i.s+i.xs1,n=1;i.l>n;n++)s+=i["xn"+n]+i["xs"+(n+1)];i.e=s}}else i.e=i.s+i.xs0;a=a._next}},function(t,e,i,n,s){this.t=t,this.p=e,this.v=i,this.r=s,n&&(n._prev=this,this._next=n)}),ft=(F._parseToProxy=function(t,e,i,n,s,o){var r,a,l,d,h,c=n,u={},p={},f=i._transform,m=N;for(i._transform=null,N=e,n=h=i.parse(t,e,n,s),N=m,o&&(i._transform=f,c&&(c._prev=null,c._prev&&(c._prev._next=null)));n&&n!==c;){if(1>=n.type&&(a=n.p,p[a]=n.s+n.c,u[a]=n.s,o||(d=new pt(n,"s",a,d,n.r),n.c=0),1===n.type))for(r=n.l;--r>0;)l="xn"+r,a=n.p+"_"+l,p[a]=n.data[l],u[a]=n[l],o||(d=new pt(n,l,a,d,n.rxp[l]));n=n._next}return{proxy:u,end:p,firstMPT:d,pt:h}},F.CSSPropTween=function(t,e,n,s,r,a,l,d,h,c,u){this.t=t,this.p=e,this.s=n,this.c=s,this.n=l||e,t instanceof ft||o.push(this.n),this.r=d,this.type=a||0,h&&(this.pr=h,i=!0),this.b=void 0===c?n:c,this.e=void 0===u?n+s:u,r&&(this._next=r,r._prev=this)}),mt=r.parseComplex=function(t,e,i,n,s,o,r,a,l,d){i=i||o||"",r=new ft(t,e,0,0,r,d?2:1,null,(!1),a,i,n),n+="";var c,u,p,f,m,v,y,w,b,T,x,L,S=i.split(", ").join(",").split(" "),C=n.split(", ").join(",").split(" "),E=S.length,D=h!==!1;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(S=S.join(" ").replace(P,", ").split(" "),C=C.join(" ").replace(P,", ").split(" "),E=S.length),E!==C.length&&(S=(o||"").split(" "),E=S.length),r.plugin=l,r.setRatio=d,c=0;E>c;c++)if(f=S[c],m=C[c],w=parseFloat(f),w||0===w)r.appendXtra("",w,st(m,w),m.replace(_,""),D&&-1!==m.indexOf("px"),!0);else if(s&&("#"===f.charAt(0)||at[f]||k.test(f)))L=","===m.charAt(m.length-1)?"),":")",f=dt(f),m=dt(m),b=f.length+m.length>6,b&&!H&&0===m[3]?(r["xs"+r.l]+=r.l?" transparent":"transparent",r.e=r.e.split(C[c]).join("transparent")):(H||(b=!1),r.appendXtra(b?"rgba(":"rgb(",f[0],m[0]-f[0],",",!0,!0).appendXtra("",f[1],m[1]-f[1],",",!0).appendXtra("",f[2],m[2]-f[2],b?",":L,!0),b&&(f=4>f.length?1:f[3],r.appendXtra("",f,(4>m.length?1:m[3])-f,L,!1)));else if(v=f.match(g)){if(y=m.match(_),!y||y.length!==v.length)return r;for(p=0,u=0;v.length>u;u++)x=v[u],T=f.indexOf(x,p),r.appendXtra(f.substr(p,T-p),Number(x),st(y[u],x),"",D&&"px"===f.substr(T+x.length,2),0===u),p=T+x.length;r["xs"+r.l]+=f.substr(p)}else r["xs"+r.l]+=r.l?" "+f:f;if(-1!==n.indexOf("=")&&r.data){for(L=r.xs0+r.data.s,c=1;r.l>c;c++)L+=r["xs"+c]+r.data["xn"+c];r.e=L+r["xs"+c]}return r.l||(r.type=-1,r.xs0=r.e),r.xfirst||r},gt=9;for(d=ft.prototype,d.l=d.pr=0;--gt>0;)d["xn"+gt]=0,d["xs"+gt]="";d.xs0="",d._next=d._prev=d.xfirst=d.data=d.plugin=d.setRatio=d.rxp=null,d.appendXtra=function(t,e,i,n,s,o){var r=this,a=r.l;return r["xs"+a]+=o&&a?" "+t:t||"",i||0===a||r.plugin?(r.l++,r.type=r.setRatio?2:1,r["xs"+r.l]=n||"",a>0?(r.data["xn"+a]=e+i,r.rxp["xn"+a]=s,r["xn"+a]=e,r.plugin||(r.xfirst=new ft(r,"xn"+a,e,i,r.xfirst||r,0,r.n,s,r.pr),r.xfirst.xs0=0),r):(r.data={s:e+i},r.rxp={},r.s=e,r.c=i,r.r=s,r)):(r["xs"+a]+=e+(n||""),r)};var _t=function(t,e){e=e||{},this.p=e.prefix?Y(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||ct(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},vt=F._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,s,o=t.split(","),r=e.defaultValue;for(i=i||[r],n=0;o.length>n;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||r,s=new _t(o[n],e)},yt=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";vt(t,{parser:function(t,i,n,s,o,r,d){var h=a.com.greensock.plugins[e];return h?(h._cssRegister(),l[n].parse(t,i,n,s,o,r,d)):(q("Error: "+e+" js file not loaded."),o)}})}};d=_t.prototype,d.parseComplex=function(t,e,i,n,s,o){var r,a,l,d,h,c,u=this.keyword;if(this.multi&&(P.test(i)||P.test(e)?(a=e.replace(P,"|").split("|"),l=i.replace(P,"|").split("|")):u&&(a=[e],l=[i])),l){for(d=l.length>a.length?l.length:a.length,r=0;d>r;r++)e=a[r]=a[r]||this.dflt,i=l[r]=l[r]||this.dflt,u&&(h=e.indexOf(u),c=i.indexOf(u),h!==c&&(i=-1===c?l:a,i[r]+=" "+u));e=a.join(", "),i=l.join(", ")}return mt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,s,o)},d.parse=function(t,e,i,n,o,r){return this.parseComplex(t.style,this.format(G(t,this.p,s,!1,this.dflt)),this.format(e),o,r)},r.registerSpecialProp=function(t,e,i){vt(t,{parser:function(t,n,s,o,r,a){var l=new ft(t,s,0,0,r,2,s,(!1),i);return l.plugin=a,l.setRatio=e(t,n,o._tween,s),l},priority:i})};var wt,bt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Tt=Y("transform"),xt=W+"transform",kt=Y("transformOrigin"),Lt=null!==Y("perspective"),St=F.Transform=function(){this.perspective=parseFloat(r.defaultTransformPerspective)||0,this.force3D=!(r.defaultForce3D===!1||!Lt)&&(r.defaultForce3D||"auto")},Ct=window.SVGElement,Et=function(t,e,i){var n,s=I.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(n in i)s.setAttributeNS(null,n.replace(o,"$1-$2").toLowerCase(),i[n]);return e.appendChild(s),s},Dt=document.documentElement,Mt=function(){var t,e,i,n=m||/Android/i.test(U)&&!window.chrome;return I.createElementNS&&!n&&(t=Et("svg",Dt),e=Et("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[kt]="50% 50%",e.style[Tt]="scaleX(0.5)",n=i===e.getBoundingClientRect().width&&!(p&&Lt),Dt.removeChild(t)),n}(),$t=function(t,e,i){var n=t.getBBox();e=nt(e).split(" "),i.xOrigin=(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*n.width:parseFloat(e[0]))+n.x,i.yOrigin=(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*n.height:parseFloat(e[1]))+n.y},Pt=F.getTransform=function(t,e,i,n){if(t._gsTransform&&i&&!n)return t._gsTransform;var o,a,l,d,h,c,u,p,f,m,g=i?t._gsTransform||new St:new St,_=0>g.scaleX,v=2e-5,y=1e5,w=Lt?parseFloat(G(t,kt,e,!1,"0 0 0").split(" ")[2])||g.zOrigin||0:0,b=parseFloat(r.defaultTransformPerspective)||0;if(Tt?a=G(t,xt,e,!0):t.currentStyle&&(a=t.currentStyle.filter.match(M),a=a&&4===a.length?[a[0].substr(4),Number(a[2].substr(4)),Number(a[1].substr(4)),a[3].substr(4),g.x||0,g.y||0].join(","):""),o=!a||"none"===a||"matrix(1, 0, 0, 1, 0, 0)"===a,g.svg=!!(Ct&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM)),g.svg&&($t(t,G(t,kt,s,!1,"50% 50%")+"",g),wt=r.useSVGTransformAttr||Mt,l=t.getAttribute("transform"),o&&l&&-1!==l.indexOf("matrix")&&(a=l,o=0)),!o){for(l=(a||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],d=l.length;--d>-1;)h=Number(l[d]),l[d]=(c=h-(h|=0))?(0|c*y+(0>c?-.5:.5))/y+h:h;if(16===l.length){var T,x,k,L,S,C=l[0],E=l[1],D=l[2],$=l[3],P=l[4],O=l[5],N=l[6],I=l[7],z=l[8],j=l[9],R=l[10],F=l[12],U=l[13],H=l[14],B=l[11],q=Math.atan2(N,R);g.zOrigin&&(H=-g.zOrigin,F=z*H-l[12],U=j*H-l[13],H=R*H+g.zOrigin-l[14]),g.rotationX=q*A,q&&(L=Math.cos(-q),S=Math.sin(-q),T=P*L+z*S,x=O*L+j*S,k=N*L+R*S,z=P*-S+z*L,j=O*-S+j*L,R=N*-S+R*L,B=I*-S+B*L,P=T,O=x,N=k),q=Math.atan2(z,R),g.rotationY=q*A,q&&(L=Math.cos(-q),S=Math.sin(-q),T=C*L-z*S,x=E*L-j*S,k=D*L-R*S,j=E*S+j*L,R=D*S+R*L,B=$*S+B*L,C=T,E=x,D=k),q=Math.atan2(E,C),g.rotation=q*A,q&&(L=Math.cos(-q),S=Math.sin(-q),C=C*L+P*S,x=E*L+O*S,O=E*-S+O*L,N=D*-S+N*L,E=x),g.rotationX&&Math.abs(g.rotationX)+Math.abs(g.rotation)>359.9&&(g.rotationX=g.rotation=0,g.rotationY+=180),g.scaleX=(0|Math.sqrt(C*C+E*E)*y+.5)/y,g.scaleY=(0|Math.sqrt(O*O+j*j)*y+.5)/y,g.scaleZ=(0|Math.sqrt(N*N+R*R)*y+.5)/y,g.skewX=0,g.perspective=B?1/(0>B?-B:B):0,g.x=F,g.y=U,g.z=H}else if(!(Lt&&!n&&l.length&&g.x===l[4]&&g.y===l[5]&&(g.rotationX||g.rotationY)||void 0!==g.x&&"none"===G(t,"display",e))){var W=l.length>=6,X=W?l[0]:1,Y=l[1]||0,V=l[2]||0,Z=W?l[3]:1;g.x=l[4]||0,g.y=l[5]||0,u=Math.sqrt(X*X+Y*Y),p=Math.sqrt(Z*Z+V*V),f=X||Y?Math.atan2(Y,X)*A:g.rotation||0,m=V||Z?Math.atan2(V,Z)*A+f:g.skewX||0,Math.abs(m)>90&&270>Math.abs(m)&&(_?(u*=-1,m+=0>=f?180:-180,f+=0>=f?180:-180):(p*=-1,m+=0>=m?180:-180)),g.scaleX=u,g.scaleY=p,g.rotation=f,g.skewX=m,Lt&&(g.rotationX=g.rotationY=g.z=0,g.perspective=b,g.scaleZ=1)}g.zOrigin=w;for(d in g)v>g[d]&&g[d]>-v&&(g[d]=0)}return i&&(t._gsTransform=g),g},Ot=function(t){var e,i,n=this.data,s=-n.rotation*O,o=s+n.skewX*O,r=1e5,a=(0|Math.cos(s)*n.scaleX*r)/r,l=(0|Math.sin(s)*n.scaleX*r)/r,d=(0|Math.sin(o)*-n.scaleY*r)/r,h=(0|Math.cos(o)*n.scaleY*r)/r,c=this.t.style,u=this.t.currentStyle;if(u){i=l,l=-d,d=-i,e=u.filter,c.filter="";var p,f,g=this.t.offsetWidth,_=this.t.offsetHeight,v="absolute"!==u.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+l+", M21="+d+", M22="+h,T=n.x+g*n.xPercent/100,x=n.y+_*n.yPercent/100;if(null!=n.ox&&(p=(n.oxp?.01*g*n.ox:n.ox)-g/2,f=(n.oyp?.01*_*n.oy:n.oy)-_/2,T+=p-(p*a+f*l),x+=f-(p*d+f*h)),v?(p=g/2,f=_/2,y+=", Dx="+(p-(p*a+f*l)+T)+", Dy="+(f-(p*d+f*h)+x)+")"):y+=", sizingMethod='auto expand')",c.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace($,y):y+" "+e,(0===t||1===t)&&1===a&&0===l&&0===d&&1===h&&(v&&-1===y.indexOf("Dx=0, Dy=0")||b.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&c.removeAttribute("filter")),!v){var k,L,S,C=8>m?1:-1;for(p=n.ieOffsetX||0,f=n.ieOffsetY||0,n.ieOffsetX=Math.round((g-((0>a?-a:a)*g+(0>l?-l:l)*_))/2+T),n.ieOffsetY=Math.round((_-((0>h?-h:h)*_+(0>d?-d:d)*g))/2+x),gt=0;4>gt;gt++)L=et[gt],k=u[L],i=-1!==k.indexOf("px")?parseFloat(k):Z(this.t,L,parseFloat(k),k.replace(w,""))||0,S=i!==n[L]?2>gt?-n.ieOffsetX:-n.ieOffsetY:2>gt?p-n.ieOffsetX:f-n.ieOffsetY,c[L]=(n[L]=Math.round(i-S*(0===gt||2===gt?1:C)))+"px"}}},At=F.set3DTransformRatio=function(t){var e,i,n,s,o,r,a,l,d,h,c,u,f,m,g,_,v,y,w,b,T,x=this.data,k=this.t.style,L=x.rotation*O,S=x.scaleX,C=x.scaleY,E=x.scaleZ,D=x.x,M=x.y,$=x.z,P=x.perspective;if(!(1!==t&&0!==t&&x.force3D||x.force3D===!0||x.rotationY||x.rotationX||1!==E||P||$))return void Nt.call(this,t);if(p&&(m=1e-4,m>S&&S>-m&&(S=E=2e-5),m>C&&C>-m&&(C=E=2e-5),!P||x.z||x.rotationX||x.rotationY||(P=0)),L||x.skewX)g=e=Math.cos(L),_=s=Math.sin(L),x.skewX&&(L-=x.skewX*O,g=Math.cos(L),_=Math.sin(L),"simple"===x.skewType&&(v=Math.tan(x.skewX*O),v=Math.sqrt(1+v*v),g*=v,_*=v)),i=-_,o=g;else{if(!(x.rotationY||x.rotationX||1!==E||P||x.svg))return void(k[Tt]=(x.xPercent||x.yPercent?"translate("+x.xPercent+"%,"+x.yPercent+"%) translate3d(":"translate3d(")+D+"px,"+M+"px,"+$+"px)"+(1!==S||1!==C?" scale("+S+","+C+")":""));e=o=1,i=s=0}d=1,n=r=a=l=h=c=0,u=P?-1/P:0,f=x.zOrigin,m=1e-6,b=",",T="0",L=x.rotationY*O,L&&(g=Math.cos(L),_=Math.sin(L),a=-_,h=u*-_,n=e*_,r=s*_,d=g,u*=g,e*=g,s*=g),L=x.rotationX*O,L&&(g=Math.cos(L),_=Math.sin(L),v=i*g+n*_,y=o*g+r*_,l=d*_,c=u*_,n=i*-_+n*g,r=o*-_+r*g,d*=g,u*=g,i=v,o=y),1!==E&&(n*=E,r*=E,d*=E,u*=E),1!==C&&(i*=C,o*=C,l*=C,c*=C),1!==S&&(e*=S,s*=S,a*=S,h*=S),(f||x.svg)&&(f&&(D+=n*-f,M+=r*-f,$+=d*-f+f),x.svg&&(D+=x.xOrigin-(x.xOrigin*e+x.yOrigin*i),M+=x.yOrigin-(x.xOrigin*s+x.yOrigin*o)),m>D&&D>-m&&(D=T),m>M&&M>-m&&(M=T),m>$&&$>-m&&($=0)),w=x.xPercent||x.yPercent?"translate("+x.xPercent+"%,"+x.yPercent+"%) matrix3d(":"matrix3d(",w+=(m>e&&e>-m?T:e)+b+(m>s&&s>-m?T:s)+b+(m>a&&a>-m?T:a),w+=b+(m>h&&h>-m?T:h)+b+(m>i&&i>-m?T:i)+b+(m>o&&o>-m?T:o),x.rotationX||x.rotationY?(w+=b+(m>l&&l>-m?T:l)+b+(m>c&&c>-m?T:c)+b+(m>n&&n>-m?T:n),w+=b+(m>r&&r>-m?T:r)+b+(m>d&&d>-m?T:d)+b+(m>u&&u>-m?T:u)+b):w+=",0,0,0,0,1,0,",w+=D+b+M+b+$+b+(P?1+-$/P:1)+")",k[Tt]=w},Nt=F.set2DTransformRatio=function(t){var e,i,n,s,o,r,a,l,d,h,c,u=this.data,p=this.t,f=p.style,m=u.x,g=u.y;return!(u.rotationX||u.rotationY||u.z||u.force3D===!0||"auto"===u.force3D&&1!==t&&0!==t)||u.svg&&wt||!Lt?(s=u.scaleX,o=u.scaleY,void(u.rotation||u.skewX||u.svg?(e=u.rotation*O,i=e-u.skewX*O,n=1e5,r=Math.cos(e)*s,a=Math.sin(e)*s,l=Math.sin(i)*-o,d=Math.cos(i)*o,u.svg&&(m+=u.xOrigin-(u.xOrigin*r+u.yOrigin*l),g+=u.yOrigin-(u.xOrigin*a+u.yOrigin*d),c=1e-6,c>m&&m>-c&&(m=0),c>g&&g>-c&&(g=0)),h=(0|r*n)/n+","+(0|a*n)/n+","+(0|l*n)/n+","+(0|d*n)/n+","+m+","+g+")",u.svg&&wt?p.setAttribute("transform","matrix("+h):f[Tt]=(u.xPercent||u.yPercent?"translate("+u.xPercent+"%,"+u.yPercent+"%) matrix(":"matrix(")+h):f[Tt]=(u.xPercent||u.yPercent?"translate("+u.xPercent+"%,"+u.yPercent+"%) matrix(":"matrix(")+s+",0,0,"+o+","+m+","+g+")")):(this.setRatio=At,void At.call(this,t))};d=St.prototype,d.x=d.y=d.z=d.skewX=d.skewY=d.rotation=d.rotationX=d.rotationY=d.zOrigin=d.xPercent=d.yPercent=0,d.scaleX=d.scaleY=d.scaleZ=1,vt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(t,e,i,n,o,a,l){if(n._lastParsedTransform===l)return o;n._lastParsedTransform=l;var d,h,c,u,p,f,m,g=n._transform=Pt(t,s,!0,l.parseTransform),_=t.style,v=1e-6,y=bt.length,w=l,b={};if("string"==typeof w.transform&&Tt)c=j.style,c[Tt]=w.transform,c.display="block",c.position="absolute",I.body.appendChild(j),d=Pt(j,null,!1),I.body.removeChild(j);else if("object"==typeof w){if(d={scaleX:ot(null!=w.scaleX?w.scaleX:w.scale,g.scaleX),scaleY:ot(null!=w.scaleY?w.scaleY:w.scale,g.scaleY),scaleZ:ot(w.scaleZ,g.scaleZ),x:ot(w.x,g.x),y:ot(w.y,g.y),z:ot(w.z,g.z),xPercent:ot(w.xPercent,g.xPercent),yPercent:ot(w.yPercent,g.yPercent),perspective:ot(w.transformPerspective,g.perspective)},m=w.directionalRotation,null!=m)if("object"==typeof m)for(c in m)w[c]=m[c];else w.rotation=m;"string"==typeof w.x&&-1!==w.x.indexOf("%")&&(d.x=0,d.xPercent=ot(w.x,g.xPercent)),"string"==typeof w.y&&-1!==w.y.indexOf("%")&&(d.y=0,d.yPercent=ot(w.y,g.yPercent)),d.rotation=rt("rotation"in w?w.rotation:"shortRotation"in w?w.shortRotation+"_short":"rotationZ"in w?w.rotationZ:g.rotation,g.rotation,"rotation",b),Lt&&(d.rotationX=rt("rotationX"in w?w.rotationX:"shortRotationX"in w?w.shortRotationX+"_short":g.rotationX||0,g.rotationX,"rotationX",b),d.rotationY=rt("rotationY"in w?w.rotationY:"shortRotationY"in w?w.shortRotationY+"_short":g.rotationY||0,g.rotationY,"rotationY",b)),d.skewX=null==w.skewX?g.skewX:rt(w.skewX,g.skewX),d.skewY=null==w.skewY?g.skewY:rt(w.skewY,g.skewY),(h=d.skewY-g.skewY)&&(d.skewX+=h,d.rotation+=h)}for(Lt&&null!=w.force3D&&(g.force3D=w.force3D,f=!0),g.skewType=w.skewType||g.skewType||r.defaultSkewType,p=g.force3D||g.z||g.rotationX||g.rotationY||d.z||d.rotationX||d.rotationY||d.perspective,p||null==w.scale||(d.scaleZ=1);--y>-1;)i=bt[y],u=d[i]-g[i],(u>v||-v>u||null!=w[i]||null!=N[i])&&(f=!0,o=new ft(g,i,g[i],u,o),i in b&&(o.e=b[i]),o.xs0=0,o.plugin=a,n._overwriteProps.push(o.n));return u=w.transformOrigin,u&&g.svg&&($t(t,nt(u),d),o=new ft(g,"xOrigin",g.xOrigin,d.xOrigin-g.xOrigin,o,(-1),"transformOrigin"),o.b=g.xOrigin,o.e=o.xs0=d.xOrigin,o=new ft(g,"yOrigin",g.yOrigin,d.yOrigin-g.yOrigin,o,(-1),"transformOrigin"),o.b=g.yOrigin,o.e=o.xs0=d.yOrigin,u="0px 0px"),(u||Lt&&p&&g.zOrigin)&&(Tt?(f=!0,i=kt,u=(u||G(t,i,s,!1,"50% 50%"))+"",o=new ft(_,i,0,0,o,(-1),"transformOrigin"),o.b=_[i],o.plugin=a,
Lt?(c=g.zOrigin,u=u.split(" "),g.zOrigin=(u.length>2&&(0===c||"0px"!==u[2])?parseFloat(u[2]):c)||0,o.xs0=o.e=u[0]+" "+(u[1]||"50%")+" 0px",o=new ft(g,"zOrigin",0,0,o,(-1),o.n),o.b=c,o.xs0=o.e=g.zOrigin):o.xs0=o.e=u):nt(u+"",g)),f&&(n._transformType=g.svg&&wt||!p&&3!==this._transformType?2:3),o},prefix:!0}),vt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),vt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,o,r){e=this.format(e);var a,l,d,h,c,u,p,f,m,g,_,v,y,w,b,T,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],k=t.style;for(m=parseFloat(t.offsetWidth),g=parseFloat(t.offsetHeight),a=e.split(" "),l=0;x.length>l;l++)this.p.indexOf("border")&&(x[l]=Y(x[l])),c=h=G(t,x[l],s,!1,"0px"),-1!==c.indexOf(" ")&&(h=c.split(" "),c=h[0],h=h[1]),u=d=a[l],p=parseFloat(c),v=c.substr((p+"").length),y="="===u.charAt(1),y?(f=parseInt(u.charAt(0)+"1",10),u=u.substr(2),f*=parseFloat(u),_=u.substr((f+"").length-(0>f?1:0))||""):(f=parseFloat(u),_=u.substr((f+"").length)),""===_&&(_=n[i]||v),_!==v&&(w=Z(t,"borderLeft",p,v),b=Z(t,"borderTop",p,v),"%"===_?(c=100*(w/m)+"%",h=100*(b/g)+"%"):"em"===_?(T=Z(t,"borderLeft",1,"em"),c=w/T+"em",h=b/T+"em"):(c=w+"px",h=b+"px"),y&&(u=parseFloat(c)+f+_,d=parseFloat(h)+f+_)),r=mt(k,x[l],c+" "+h,u+" "+d,!1,"0px",r);return r},prefix:!0,formatter:ct("0px 0px 0px 0px",!1,!0)}),vt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,o,r){var a,l,d,h,c,u,p="background-position",f=s||V(t,null),g=this.format((f?m?f.getPropertyValue(p+"-x")+" "+f.getPropertyValue(p+"-y"):f.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),_=this.format(e);if(-1!==g.indexOf("%")!=(-1!==_.indexOf("%"))&&(u=G(t,"backgroundImage").replace(C,""),u&&"none"!==u)){for(a=g.split(" "),l=_.split(" "),R.setAttribute("src",u),d=2;--d>-1;)g=a[d],h=-1!==g.indexOf("%"),h!==(-1!==l[d].indexOf("%"))&&(c=0===d?t.offsetWidth-R.width:t.offsetHeight-R.height,a[d]=h?parseFloat(g)/100*c+"px":100*(parseFloat(g)/c)+"%");g=a.join(" ")}return this.parseComplex(t.style,g,_,o,r)},formatter:nt}),vt("backgroundSize",{defaultValue:"0 0",formatter:nt}),vt("perspective",{defaultValue:"0px",prefix:!0}),vt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),vt("transformStyle",{prefix:!0}),vt("backfaceVisibility",{prefix:!0}),vt("userSelect",{prefix:!0}),vt("margin",{parser:ut("marginTop,marginRight,marginBottom,marginLeft")}),vt("padding",{parser:ut("paddingTop,paddingRight,paddingBottom,paddingLeft")}),vt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,o,r){var a,l,d;return 9>m?(l=t.currentStyle,d=8>m?" ":",",a="rect("+l.clipTop+d+l.clipRight+d+l.clipBottom+d+l.clipLeft+")",e=this.format(e).split(",").join(d)):(a=this.format(G(t,this.p,s,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,o,r)}}),vt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),vt("autoRound,strictUnits",{parser:function(t,e,i,n,s){return s}}),vt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,o,r){return this.parseComplex(t.style,this.format(G(t,"borderTopWidth",s,!1,"0px")+" "+G(t,"borderTopStyle",s,!1,"solid")+" "+G(t,"borderTopColor",s,!1,"#000")),this.format(e),o,r)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ht)||["#000"])[0]}}),vt("borderWidth",{parser:ut("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),vt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,s){var o=t.style,r="cssFloat"in o?"cssFloat":"styleFloat";return new ft(o,r,0,0,s,(-1),i,(!1),0,o[r],e)}});var It=function(t){var e,i=this.t,n=i.filter||G(this.data,"filter")||"",s=0|this.s+this.c*t;100===s&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!G(this.data,"filter")):(i.filter=n.replace(x,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+s+")"),-1===n.indexOf("pacity")?0===s&&this.xn1||(i.filter=n+" alpha(opacity="+s+")"):i.filter=n.replace(b,"opacity="+s))};vt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,o,r){var a=parseFloat(G(t,"opacity",s,!1,"1")),l=t.style,d="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),d&&1===a&&"hidden"===G(t,"visibility",s)&&0!==e&&(a=0),H?o=new ft(l,"opacity",a,e-a,o):(o=new ft(l,"opacity",100*a,100*(e-a),o),o.xn1=d?1:0,l.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=r,o.setRatio=It),d&&(o=new ft(l,"visibility",0,0,o,(-1),null,(!1),0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit"),o.xs0="inherit",n._overwriteProps.push(o.n),n._overwriteProps.push(i)),o}});var zt=function(t,e){e&&(t.removeProperty?("ms"===e.substr(0,2)&&(e="M"+e.substr(1)),t.removeProperty(e.replace(L,"-$1").toLowerCase())):t.removeAttribute(e))},jt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:zt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};vt("className",{parser:function(t,e,n,o,r,a,l){var d,h,c,u,p,f=t.getAttribute("class")||"",m=t.style.cssText;if(r=o._classNamePT=new ft(t,n,0,0,r,2),r.setRatio=jt,r.pr=-11,i=!0,r.b=f,h=J(t,s),c=t._gsClassPT){for(u={},p=c.data;p;)u[p.p]=1,p=p._next;c.setRatio(1)}return t._gsClassPT=r,r.e="="!==e.charAt(1)?e:f.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),o._tween._duration&&(t.setAttribute("class",r.e),d=K(t,h,J(t),l,u),t.setAttribute("class",f),r.data=d.firstMPT,t.style.cssText=m,r=r.xfirst=o.parse(t,d.difs,r,a)),r}});var Rt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,s,o=this.t.style,r=l.transform.parse;if("all"===this.e)o.cssText="",s=!0;else for(e=this.e.split(" ").join("").split(","),n=e.length;--n>-1;)i=e[n],l[i]&&(l[i].parse===r?s=!0:i="transformOrigin"===i?kt:l[i].p),zt(o,i);s&&(zt(o,Tt),this.t._gsTransform&&delete this.t._gsTransform)}};for(vt("clearProps",{parser:function(t,e,n,s,o){return o=new ft(t,n,0,0,o,2),o.setRatio=Rt,o.e=e,o.pr=-10,o.data=s._tween,i=!0,o}}),d="bezier,throwProps,physicsProps,physics2D".split(","),gt=d.length;gt--;)yt(d[gt]);d=r.prototype,d._firstPT=d._lastParsedTransform=d._transform=null,d._onInitTween=function(t,e,a){if(!t.nodeType)return!1;this._target=t,this._tween=a,this._vars=e,h=e.autoRound,i=!1,n=e.suffixMap||r.suffixMap,s=V(t,""),o=this._overwriteProps;var l,d,p,m,g,_,v,y,w,b=t.style;if(c&&""===b.zIndex&&(l=G(t,"zIndex",s),("auto"===l||""===l)&&this._addLazySet(b,"zIndex",0)),"string"==typeof e&&(m=b.cssText,l=J(t,s),b.cssText=m+";"+e,l=K(t,l,J(t)).difs,!H&&T.test(e)&&(l.opacity=parseFloat(RegExp.$1)),e=l,b.cssText=m),this._firstPT=d=this.parse(t,e,null),this._transformType){for(w=3===this._transformType,Tt?u&&(c=!0,""===b.zIndex&&(v=G(t,"zIndex",s),("auto"===v||""===v)&&this._addLazySet(b,"zIndex",0)),f&&this._addLazySet(b,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(w?"visible":"hidden"))):b.zoom=1,p=d;p&&p._next;)p=p._next;y=new ft(t,"transform",0,0,null,2),this._linkCSSP(y,null,p),y.setRatio=w&&Lt?At:Tt?Nt:Ot,y.data=this._transform||Pt(t,s,!0),o.pop()}if(i){for(;d;){for(_=d._next,p=m;p&&p.pr>d.pr;)p=p._next;(d._prev=p?p._prev:g)?d._prev._next=d:m=d,(d._next=p)?p._prev=d:g=d,d=_}this._firstPT=m}return!0},d.parse=function(t,e,i,o){var r,a,d,c,u,p,f,m,g,_,v=t.style;for(r in e)p=e[r],a=l[r],a?i=a.parse(t,p,r,this,i,o,e):(u=G(t,r,s)+"",g="string"==typeof p,"color"===r||"fill"===r||"stroke"===r||-1!==r.indexOf("Color")||g&&k.test(p)?(g||(p=dt(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),i=mt(v,r,u,p,!0,"transparent",i,0,o)):!g||-1===p.indexOf(" ")&&-1===p.indexOf(",")?(d=parseFloat(u),f=d||0===d?u.substr((d+"").length):"",(""===u||"auto"===u)&&("width"===r||"height"===r?(d=it(t,r,s),f="px"):"left"===r||"top"===r?(d=Q(t,r,s),f="px"):(d="opacity"!==r?0:1,f="")),_=g&&"="===p.charAt(1),_?(c=parseInt(p.charAt(0)+"1",10),p=p.substr(2),c*=parseFloat(p),m=p.replace(w,"")):(c=parseFloat(p),m=g?p.replace(w,""):""),""===m&&(m=r in n?n[r]:f),p=c||0===c?(_?c+d:c)+m:e[r],f!==m&&""!==m&&(c||0===c)&&d&&(d=Z(t,r,d,f),"%"===m?(d/=Z(t,r,100,"%")/100,e.strictUnits!==!0&&(u=d+"%")):"em"===m?d/=Z(t,r,1,"em"):"px"!==m&&(c=Z(t,r,c,m),m="px"),_&&(c||0===c)&&(p=c+d+m)),_&&(c+=d),!d&&0!==d||!c&&0!==c?void 0!==v[r]&&(p||"NaN"!=p+""&&null!=p)?(i=new ft(v,r,c||d||0,0,i,(-1),r,(!1),0,u,p),i.xs0="none"!==p||"display"!==r&&-1===r.indexOf("Style")?p:u):q("invalid "+r+" tween value: "+e[r]):(i=new ft(v,r,d,c-d,i,0,r,h!==!1&&("px"===m||"zIndex"===r),0,u,p),i.xs0=m)):i=mt(v,r,u,p,!0,null,i,0,o)),o&&i&&!i.plugin&&(i.plugin=o);return i},d.setRatio=function(t){var e,i,n,s=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;s;){if(e=s.c*t+s.s,s.r?e=Math.round(e):o>e&&e>-o&&(e=0),s.type)if(1===s.type)if(n=s.l,2===n)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2;else if(3===n)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3;else if(4===n)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4;else if(5===n)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4+s.xn4+s.xs5;else{for(i=s.xs0+e+s.xs1,n=1;s.l>n;n++)i+=s["xn"+n]+s["xs"+(n+1)];s.t[s.p]=i}else-1===s.type?s.t[s.p]=s.xs0:s.setRatio&&s.setRatio(t);else s.t[s.p]=e+s.xs0;s=s._next}else for(;s;)2!==s.type?s.t[s.p]=s.b:s.setRatio(t),s=s._next;else for(;s;)2!==s.type?s.t[s.p]=s.e:s.setRatio(t),s=s._next},d._enableTransforms=function(t){this._transform=this._transform||Pt(this._target,s,!0),this._transformType=this._transform.svg&&wt||!t&&3!==this._transformType?2:3};var Ft=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};d._addLazySet=function(t,e,i){var n=this._firstPT=new ft(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=Ft,n.data=this},d._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},d._kill=function(e){var i,n,s,o=e;if(e.autoAlpha||e.alpha){o={};for(n in e)o[n]=e[n];o.opacity=1,o.autoAlpha&&(o.visibility=1)}return e.className&&(i=this._classNamePT)&&(s=i.xfirst,s&&s._prev?this._linkCSSP(s._prev,i._next,s._prev._prev):s===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,s._prev),this._classNamePT=null),t.prototype._kill.call(this,o)};var Ut=function(t,e,i){var n,s,o,r;if(t.slice)for(s=t.length;--s>-1;)Ut(t[s],e,i);else for(n=t.childNodes,s=n.length;--s>-1;)o=n[s],r=o.type,o.style&&(e.push(J(o)),i&&i.push(o)),1!==r&&9!==r&&11!==r||!o.childNodes.length||Ut(o,e,i)};return r.cascadeTo=function(t,i,n){var s,o,r,a=e.to(t,i,n),l=[a],d=[],h=[],c=[],u=e._internals.reservedProps;for(t=a._targets||a.target,Ut(t,d,c),a.render(i,!0),Ut(t,h),a.render(0,!0),a._enabled(!0),s=c.length;--s>-1;)if(o=K(c[s],d[s],h[s]),o.firstMPT){o=o.difs;for(r in n)u[r]&&(o[r]=n[r]);l.push(e.to(c[s],i,o))}return l},t.activate([r]),r},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=e())}("CSSPlugin"),!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.ScrollMagic=e()}(this,function(){"use strict";var t=function(){};t.version="2.0.5",window.addEventListener("mousewheel",function(){});var e="data-scrollmagic-pin-spacer";t.Controller=function(n){var o,r,a="ScrollMagic.Controller",l="FORWARD",d="REVERSE",h="PAUSED",c=i.defaults,u=this,p=s.extend({},c,n),f=[],m=!1,g=0,_=h,v=!0,y=0,w=!0,b=function(){for(var t in p)c.hasOwnProperty(t)||delete p[t];if(p.container=s.get.elements(p.container)[0],!p.container)throw a+" init failed.";v=p.container===window||p.container===document.body||!document.body.contains(p.container),v&&(p.container=window),y=k(),p.container.addEventListener("resize",E),p.container.addEventListener("scroll",E),p.refreshInterval=parseInt(p.refreshInterval)||c.refreshInterval,T()},T=function(){p.refreshInterval>0&&(r=window.setTimeout(D,p.refreshInterval))},x=function(){return p.vertical?s.get.scrollTop(p.container):s.get.scrollLeft(p.container)},k=function(){return p.vertical?s.get.height(p.container):s.get.width(p.container)},L=this._setScrollPos=function(t){p.vertical?v?window.scrollTo(s.get.scrollLeft(),t):p.container.scrollTop=t:v?window.scrollTo(t,s.get.scrollTop()):p.container.scrollLeft=t},S=function(){if(w&&m){var t=s.type.Array(m)?m:f.slice(0);m=!1;var e=g;g=u.scrollPos();var i=g-e;0!==i&&(_=i>0?l:d),_===d&&t.reverse(),t.forEach(function(t){t.update(!0)})}},C=function(){o=s.rAF(S)},E=function(t){"resize"==t.type&&(y=k(),_=h),m!==!0&&(m=!0,C())},D=function(){if(!v&&y!=k()){var t;try{t=new Event("resize",{bubbles:!1,cancelable:!1})}catch(e){t=document.createEvent("Event"),t.initEvent("resize",!1,!1)}p.container.dispatchEvent(t)}f.forEach(function(t){t.refresh()}),T()};this._options=p;var M=function(t){if(t.length<=1)return t;var e=t.slice(0);return e.sort(function(t,e){return t.scrollOffset()>e.scrollOffset()?1:-1}),e};return this.addScene=function(e){if(s.type.Array(e))e.forEach(function(t){u.addScene(t)});else if(e instanceof t.Scene)if(e.controller()!==u)e.addTo(u);else if(f.indexOf(e)<0){f.push(e),f=M(f),e.on("shift.controller_sort",function(){f=M(f)});for(var i in p.globalSceneOptions)e[i]&&e[i].call(e,p.globalSceneOptions[i])}return u},this.removeScene=function(t){if(s.type.Array(t))t.forEach(function(t){u.removeScene(t)});else{var e=f.indexOf(t);e>-1&&(t.off("shift.controller_sort"),f.splice(e,1),t.remove())}return u},this.updateScene=function(e,i){return s.type.Array(e)?e.forEach(function(t){u.updateScene(t,i)}):i?e.update(!0):m!==!0&&e instanceof t.Scene&&(m=m||[],-1==m.indexOf(e)&&m.push(e),m=M(m),C()),u},this.update=function(t){return E({type:"resize"}),t&&S(),u},this.scrollTo=function(i,n){if(s.type.Number(i))L.call(p.container,i,n);else if(i instanceof t.Scene)i.controller()===u&&u.scrollTo(i.scrollOffset(),n);else if(s.type.Function(i))L=i;else{var o=s.get.elements(i)[0];if(o){for(;o.parentNode.hasAttribute(e);)o=o.parentNode;var r=p.vertical?"top":"left",a=s.get.offset(p.container),l=s.get.offset(o);v||(a[r]-=u.scrollPos()),u.scrollTo(l[r]-a[r],n)}}return u},this.scrollPos=function(t){return arguments.length?(s.type.Function(t)&&(x=t),u):x.call(u)},this.info=function(t){var e={size:y,vertical:p.vertical,scrollPos:g,scrollDirection:_,container:p.container,isDocument:v};return arguments.length?void 0!==e[t]?e[t]:void 0:e},this.loglevel=function(){return u},this.enabled=function(t){return arguments.length?(w!=t&&(w=!!t,u.updateScene(f,!0)),u):w},this.destroy=function(t){window.clearTimeout(r);for(var e=f.length;e--;)f[e].destroy(t);return p.container.removeEventListener("resize",E),p.container.removeEventListener("scroll",E),s.cAF(o),null},b(),u};var i={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};t.Controller.addOption=function(t,e){i.defaults[t]=e},t.Controller.extend=function(e){var i=this;t.Controller=function(){return i.apply(this,arguments),this.$super=s.extend({},this),e.apply(this,arguments)||this},s.extend(t.Controller,i),t.Controller.prototype=i.prototype,t.Controller.prototype.constructor=t.Controller},t.Scene=function(i){var o,r,a="BEFORE",l="DURING",d="AFTER",h=n.defaults,c=this,u=s.extend({},h,i),p=a,f=0,m={start:0,end:0},g=0,_=!0,v=function(){for(var t in u)h.hasOwnProperty(t)||delete u[t];for(var e in h)C(e);L()},y={};this.on=function(t,e){return s.type.Function(e)&&(t=t.trim().split(" "),t.forEach(function(t){var i=t.split("."),n=i[0],s=i[1];"*"!=n&&(y[n]||(y[n]=[]),y[n].push({namespace:s||"",callback:e}))})),c},this.off=function(t,e){return t?(t=t.trim().split(" "),t.forEach(function(t){var i=t.split("."),n=i[0],s=i[1]||"",o="*"===n?Object.keys(y):[n];o.forEach(function(t){for(var i=y[t]||[],n=i.length;n--;){var o=i[n];!o||s!==o.namespace&&"*"!==s||e&&e!=o.callback||i.splice(n,1)}i.length||delete y[t]})}),c):c},this.trigger=function(e,i){if(e){var n=e.trim().split("."),s=n[0],o=n[1],r=y[s];r&&r.forEach(function(e){o&&o!==e.namespace||e.callback.call(c,new t.Event(s,e.namespace,c,i))})}return c},c.on("change.internal",function(t){"loglevel"!==t.what&&"tweenChanges"!==t.what&&("triggerElement"===t.what?T():"reverse"===t.what&&c.update())}).on("shift.internal",function(){w(),c.update()}),this.addTo=function(e){return e instanceof t.Controller&&r!=e&&(r&&r.removeScene(c),r=e,L(),b(!0),T(!0),w(),r.info("container").addEventListener("resize",x),e.addScene(c),c.trigger("add",{controller:r}),c.update()),c},this.enabled=function(t){return arguments.length?(_!=t&&(_=!!t,c.update(!0)),c):_},this.remove=function(){if(r){r.info("container").removeEventListener("resize",x);var t=r;r=void 0,t.removeScene(c),c.trigger("remove")}return c},this.destroy=function(t){return c.trigger("destroy",{reset:t}),c.remove(),c.off("*.*"),null},this.update=function(t){if(r)if(t)if(r.enabled()&&_){var e,i=r.info("scrollPos");e=u.duration>0?(i-m.start)/(m.end-m.start):i>=m.start?1:0,c.trigger("update",{startPos:m.start,endPos:m.end,scrollPos:i}),c.progress(e)}else E&&p===l&&M(!0);else r.updateScene(c,!1);return c},this.refresh=function(){return b(),T(),c},this.progress=function(t){if(arguments.length){var e=!1,i=p,n=r?r.info("scrollDirection"):"PAUSED",s=u.reverse||t>=f;if(0===u.duration?(e=f!=t,f=1>t&&s?0:1,p=0===f?a:l):0>t&&p!==a&&s?(f=0,p=a,e=!0):t>=0&&1>t&&s?(f=t,p=l,e=!0):t>=1&&p!==d?(f=1,p=d,e=!0):p!==l||s||M(),e){var o={progress:f,state:p,scrollDirection:n},h=p!=i,m=function(t){c.trigger(t,o)};h&&i!==l&&(m("enter"),m(i===a?"start":"end")),m("progress"),h&&p!==l&&(m(p===a?"start":"end"),m("leave"))}return c}return f};var w=function(){m={start:g+u.offset},r&&u.triggerElement&&(m.start-=r.info("size")*u.triggerHook),m.end=m.start+u.duration},b=function(t){if(o){var e="duration";S(e,o.call(c))&&!t&&(c.trigger("change",{what:e,newval:u[e]}),c.trigger("shift",{reason:e}))}},T=function(t){var i=0,n=u.triggerElement;if(r&&n){for(var o=r.info(),a=s.get.offset(o.container),l=o.vertical?"top":"left";n.parentNode.hasAttribute(e);)n=n.parentNode;var d=s.get.offset(n);o.isDocument||(a[l]-=r.scrollPos()),i=d[l]-a[l]}var h=i!=g;g=i,h&&!t&&c.trigger("shift",{reason:"triggerElementPosition"})},x=function(){u.triggerHook>0&&c.trigger("shift",{reason:"containerResize"})},k=s.extend(n.validate,{duration:function(t){if(s.type.String(t)&&t.match(/^(\.|\d)*\d+%$/)){var e=parseFloat(t)/100;t=function(){return r?r.info("size")*e:0}}if(s.type.Function(t)){o=t;try{t=parseFloat(o())}catch(e){t=-1}}if(t=parseFloat(t),!s.type.Number(t)||0>t)throw o?(o=void 0,0):0;return t}}),L=function(t){t=arguments.length?[t]:Object.keys(k),t.forEach(function(t){var e;if(k[t])try{e=k[t](u[t])}catch(i){e=h[t]}finally{u[t]=e}})},S=function(t,e){var i=!1,n=u[t];return u[t]!=e&&(u[t]=e,L(t),i=n!=u[t]),i},C=function(t){c[t]||(c[t]=function(e){return arguments.length?("duration"===t&&(o=void 0),S(t,e)&&(c.trigger("change",{what:t,newval:u[t]}),n.shifts.indexOf(t)>-1&&c.trigger("shift",{reason:t})),c):u[t]})};this.controller=function(){return r},this.state=function(){return p},this.scrollOffset=function(){return m.start},this.triggerPosition=function(){var t=u.offset;return r&&(t+=u.triggerElement?g:r.info("size")*c.triggerHook()),t};var E,D;c.on("shift.internal",function(t){var e="duration"===t.reason;(p===d&&e||p===l&&0===u.duration)&&M(),e&&$()}).on("progress.internal",function(){M()}).on("add.internal",function(){$()}).on("destroy.internal",function(t){c.removePin(t.reset)});var M=function(t){if(E&&r){var e=r.info(),i=D.spacer.firstChild;if(t||p!==l){var n={position:D.inFlow?"relative":"absolute",top:0,left:0},o=s.css(i,"position")!=n.position;D.pushFollowers?u.duration>0&&(p===d&&0===parseFloat(s.css(D.spacer,"padding-top"))?o=!0:p===a&&0===parseFloat(s.css(D.spacer,"padding-bottom"))&&(o=!0)):n[e.vertical?"top":"left"]=u.duration*f,s.css(i,n),o&&$()}else{"fixed"!=s.css(i,"position")&&(s.css(i,{position:"fixed"}),$());var h=s.get.offset(D.spacer,!0),c=u.reverse||0===u.duration?e.scrollPos-m.start:Math.round(f*u.duration*10)/10;h[e.vertical?"top":"left"]+=c,s.css(D.spacer.firstChild,{top:h.top,left:h.left})}}},$=function(){if(E&&r&&D.inFlow){var t=p===l,e=r.info("vertical"),i=D.spacer.firstChild,n=s.isMarginCollapseType(s.css(D.spacer,"display")),o={};D.relSize.width||D.relSize.autoFullWidth?t?s.css(E,{width:s.get.width(D.spacer)}):s.css(E,{width:"100%"}):(o["min-width"]=s.get.width(e?E:i,!0,!0),o.width=t?o["min-width"]:"auto"),D.relSize.height?t?s.css(E,{height:s.get.height(D.spacer)-(D.pushFollowers?u.duration:0)}):s.css(E,{height:"100%"}):(o["min-height"]=s.get.height(e?i:E,!0,!n),o.height=t?o["min-height"]:"auto"),D.pushFollowers&&(o["padding"+(e?"Top":"Left")]=u.duration*f,o["padding"+(e?"Bottom":"Right")]=u.duration*(1-f)),s.css(D.spacer,o)}},P=function(){r&&E&&p===l&&!r.info("isDocument")&&M()},O=function(){r&&E&&p===l&&((D.relSize.width||D.relSize.autoFullWidth)&&s.get.width(window)!=s.get.width(D.spacer.parentNode)||D.relSize.height&&s.get.height(window)!=s.get.height(D.spacer.parentNode))&&$()},A=function(t){r&&E&&p===l&&!r.info("isDocument")&&(t.preventDefault(),r._setScrollPos(r.info("scrollPos")-((t.wheelDelta||t[r.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-t.detail)))};this.setPin=function(t,i){var n={pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"};if(i=s.extend({},n,i),t=s.get.elements(t)[0],!t)return c;if("fixed"===s.css(t,"position"))return c;if(E){if(E===t)return c;c.removePin()}E=t;var o=E.parentNode.style.display,r=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];E.parentNode.style.display="none";var a="absolute"!=s.css(E,"position"),l=s.css(E,r.concat(["display"])),d=s.css(E,["width","height"]);E.parentNode.style.display=o,!a&&i.pushFollowers&&(i.pushFollowers=!1);var h=E.parentNode.insertBefore(document.createElement("div"),E),u=s.extend(l,{position:a?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(a||s.extend(u,s.css(E,["width","height"])),s.css(h,u),h.setAttribute(e,""),s.addClass(h,i.spacerClass),D={spacer:h,relSize:{width:"%"===d.width.slice(-1),height:"%"===d.height.slice(-1),autoFullWidth:"auto"===d.width&&a&&s.isMarginCollapseType(l.display)},pushFollowers:i.pushFollowers,inFlow:a},!E.___origStyle){E.___origStyle={};var p=E.style,f=r.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]);f.forEach(function(t){E.___origStyle[t]=p[t]||""})}return D.relSize.width&&s.css(h,{width:d.width}),D.relSize.height&&s.css(h,{height:d.height}),h.appendChild(E),s.css(E,{position:a?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(D.relSize.width||D.relSize.autoFullWidth)&&s.css(E,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",P),window.addEventListener("resize",P),window.addEventListener("resize",O),E.addEventListener("mousewheel",A),E.addEventListener("DOMMouseScroll",A),M(),c},this.removePin=function(t){if(E){if(p===l&&M(!0),t||!r){var i=D.spacer.firstChild;if(i.hasAttribute(e)){var n=D.spacer.style,o=["margin","marginLeft","marginRight","marginTop","marginBottom"];margins={},o.forEach(function(t){margins[t]=n[t]||""}),s.css(i,margins)}D.spacer.parentNode.insertBefore(i,D.spacer),D.spacer.parentNode.removeChild(D.spacer),E.parentNode.hasAttribute(e)||(s.css(E,E.___origStyle),delete E.___origStyle)}window.removeEventListener("scroll",P),window.removeEventListener("resize",P),window.removeEventListener("resize",O),E.removeEventListener("mousewheel",A),E.removeEventListener("DOMMouseScroll",A),E=void 0}return c};var N,I=[];return c.on("destroy.internal",function(t){c.removeClassToggle(t.reset)}),this.setClassToggle=function(t,e){var i=s.get.elements(t);return 0!==i.length&&s.type.String(e)?(I.length>0&&c.removeClassToggle(),N=e,I=i,c.on("enter.internal_class leave.internal_class",function(t){var e="enter"===t.type?s.addClass:s.removeClass;I.forEach(function(t){e(t,N)})}),c):c},this.removeClassToggle=function(t){return t&&I.forEach(function(t){s.removeClass(t,N)}),c.off("start.internal_class end.internal_class"),N=void 0,I=[],c},v(),c};var n={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(t){if(t=parseFloat(t),!s.type.Number(t))throw 0;return t},triggerElement:function(t){if(t=t||void 0){var e=s.get.elements(t)[0];if(!e)throw 0;t=e}return t},triggerHook:function(t){var e={onCenter:.5,onEnter:1,onLeave:0};if(s.type.Number(t))t=Math.max(0,Math.min(parseFloat(t),1));else{if(!(t in e))throw 0;t=e[t]}return t},reverse:function(t){return!!t}},shifts:["duration","offset","triggerHook"]};t.Scene.addOption=function(t,e,i,s){t in n.defaults||(n.defaults[t]=e,n.validate[t]=i,s&&n.shifts.push(t))},t.Scene.extend=function(e){var i=this;t.Scene=function(){return i.apply(this,arguments),this.$super=s.extend({},this),e.apply(this,arguments)||this},s.extend(t.Scene,i),t.Scene.prototype=i.prototype,t.Scene.prototype.constructor=t.Scene},t.Event=function(t,e,i,n){n=n||{};for(var s in n)this[s]=n[s];return this.type=t,this.target=this.currentTarget=i,this.namespace=e||"",this.timeStamp=this.timestamp=Date.now(),this};var s=t._util=function(t){var e,i={},n=function(t){return parseFloat(t)||0},s=function(e){return e.currentStyle?e.currentStyle:t.getComputedStyle(e)},o=function(e,i,o,r){if(i=i===document?t:i,i===t)r=!1;else if(!c.DomElement(i))return 0;e=e.charAt(0).toUpperCase()+e.substr(1).toLowerCase();var a=(o?i["offset"+e]||i["outer"+e]:i["client"+e]||i["inner"+e])||0;if(o&&r){var l=s(i);a+="Height"===e?n(l.marginTop)+n(l.marginBottom):n(l.marginLeft)+n(l.marginRight)}return a},r=function(t){return t.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})};i.extend=function(t){for(t=t||{},e=1;e<arguments.length;e++)if(arguments[e])for(var i in arguments[e])arguments[e].hasOwnProperty(i)&&(t[i]=arguments[e][i]);return t},i.isMarginCollapseType=function(t){return["block","flex","list-item","table","-webkit-box"].indexOf(t)>-1};var a=0,l=["ms","moz","webkit","o"],d=t.requestAnimationFrame,h=t.cancelAnimationFrame;for(e=0;!d&&e<l.length;++e)d=t[l[e]+"RequestAnimationFrame"],h=t[l[e]+"CancelAnimationFrame"]||t[l[e]+"CancelRequestAnimationFrame"];d||(d=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-a)),s=t.setTimeout(function(){e(i+n)},n);return a=i+n,s}),h||(h=function(e){t.clearTimeout(e)}),i.rAF=d.bind(t),i.cAF=h.bind(t);var c=i.type=function(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};c.String=function(t){return"string"===c(t)},c.Function=function(t){return"function"===c(t)},c.Array=function(t){return Array.isArray(t)},c.Number=function(t){return!c.Array(t)&&t-parseFloat(t)+1>=0},c.DomElement=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName};var u=i.get={};return u.elements=function(e){var i=[];if(c.String(e))try{e=document.querySelectorAll(e)}catch(t){return i}if("nodelist"===c(e)||c.Array(e))for(var n=0,s=i.length=e.length;s>n;n++){var o=e[n];i[n]=c.DomElement(o)?o:u.elements(o)}else(c.DomElement(e)||e===document||e===t)&&(i=[e]);return i},u.scrollTop=function(e){return e&&"number"==typeof e.scrollTop?e.scrollTop:t.pageYOffset||0},u.scrollLeft=function(e){return e&&"number"==typeof e.scrollLeft?e.scrollLeft:t.pageXOffset||0},u.width=function(t,e,i){return o("width",t,e,i)},u.height=function(t,e,i){return o("height",t,e,i)},u.offset=function(t,e){var i={top:0,left:0};if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect();i.top=n.top,i.left=n.left,e||(i.top+=u.scrollTop(),i.left+=u.scrollLeft())}return i},i.addClass=function(t,e){e&&(t.classList?t.classList.add(e):t.className+=" "+e)},i.removeClass=function(t,e){e&&(t.classList?t.classList.remove(e):t.className=t.className.replace(RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))},i.css=function(t,e){if(c.String(e))return s(t)[r(e)];if(c.Array(e)){var i={},n=s(t);return e.forEach(function(t){i[t]=n[r(t)]}),i}for(var o in e){var a=e[o];a==parseFloat(a)&&(a+="px"),t.style[r(o)]=a}},i}(window||{});return t}),!function(t,e){"function"==typeof define&&define.amd?define(["ScrollMagic","TweenMax","TimelineMax"],e):"object"==typeof exports?(require("gsap"),e(require("scrollmagic"),TweenMax,TimelineMax)):e(t.ScrollMagic||t.jQuery&&t.jQuery.ScrollMagic,t.TweenMax||t.TweenLite,t.TimelineMax||t.TimelineLite)}(this,function(t,e,i){"use strict";t.Scene.addOption("tweenChanges",!1,function(t){return!!t}),t.Scene.extend(function(){var t,n=this;n.on("progress.plugin_gsap",function(){s()}),n.on("destroy.plugin_gsap",function(t){n.removeTween(t.reset)});var s=function(){if(t){var e=n.progress(),i=n.state();t.repeat&&-1===t.repeat()?"DURING"===i&&t.paused()?t.play():"DURING"===i||t.paused()||t.pause():e!=t.progress()&&(0===n.duration()?e>0?t.play():t.reverse():n.tweenChanges()&&t.tweenTo?t.tweenTo(e*t.duration()):t.progress(e).pause())}};n.setTween=function(o,r,a){var l;arguments.length>1&&(arguments.length<3&&(a=r,r=1),o=e.to(o,r,a));try{l=i?new i({smoothChildTiming:!0}).add(o):o,l.pause()}catch(t){return n}return t&&n.removeTween(),t=l,o.repeat&&-1===o.repeat()&&(t.repeat(-1),t.yoyo(o.yoyo())),s(),n},n.removeTween=function(e){return t&&(e&&t.progress(0).pause(),t.kill(),t=void 0),n}})}),function(){var t=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice;!function(t,e){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(i){return e(i,t)}):e(t.jQuery,t)}(this,function(i,n){var s,o,r,a,l,d,h,c,u,p,f,m,g,_,v,y;return s=i(n),c=t.call(n,"ontouchstart")>=0,a={horizontal:{},vertical:{}},l=1,h={},d="waypoints-context-id",f="resize.waypoints",m="scroll.waypoints",g=1,_="waypoints-waypoint-ids",v="waypoint",y="waypoints",o=function(){function t(t){var e=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},t.data(d,this.id),h[this.id]=this,t.bind(m,function(){var t;if(!e.didScroll&&!c)return e.didScroll=!0,t=function(){return e.doScroll(),e.didScroll=!1},n.setTimeout(t,i[y].settings.scrollThrottle)}),t.bind(f,function(){var t;if(!e.didResize)return e.didResize=!0,t=function(){return i[y]("refresh"),e.didResize=!1},n.setTimeout(t,i[y].settings.resizeThrottle)})}return t.prototype.doScroll=function(){var t,e=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!c||t.vertical.oldScroll&&t.vertical.newScroll||i[y]("refresh"),i.each(t,function(t,n){var s,o,r;return r=[],o=n.newScroll>n.oldScroll,s=o?n.forward:n.backward,i.each(e.waypoints[t],function(t,e){var i,s;return n.oldScroll<(i=e.offset)&&i<=n.newScroll?r.push(e):n.newScroll<(s=e.offset)&&s<=n.oldScroll?r.push(e):void 0}),r.sort(function(t,e){return t.offset-e.offset}),o||r.reverse(),i.each(r,function(t,e){if(e.options.continuous||t===r.length-1)return e.trigger([s])})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){
var t,e,n,s=this;return n=i.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:n?0:e.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:e.top,contextScroll:n?0:this.oldScroll.y,contextDimension:n?i[y]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},i.each(t,function(t,e){return i.each(s.waypoints[t],function(t,n){var s,o,r,a,l;if(s=n.options.offset,r=n.offset,o=i.isWindow(n.element)?0:n.$element.offset()[e.offsetProp],i.isFunction(s)?s=s.apply(n.element):"string"==typeof s&&(s=parseFloat(s),n.options.offset.indexOf("%")>-1&&(s=Math.ceil(e.contextDimension*s/100))),n.offset=o-e.contextOffset+e.contextScroll-s,(!n.options.onlyOnScroll||null==r)&&n.enabled)return null!==r&&r<(a=e.oldScroll)&&a<=n.offset?n.trigger([e.backward]):null!==r&&r>(l=e.oldScroll)&&l>=n.offset?n.trigger([e.forward]):null===r&&e.oldScroll>=n.offset?n.trigger([e.forward]):void 0})})},t.prototype.checkEmpty=function(){if(i.isEmptyObject(this.waypoints.horizontal)&&i.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([f,m].join(" ")),delete h[this.id]},t}(),r=function(){function t(t,e,n){var s,o;n=i.extend({},i.fn[v].defaults,n),"bottom-in-view"===n.offset&&(n.offset=function(){var t;return t=i[y]("viewportHeight"),i.isWindow(e.element)||(t=e.$element.height()),t-i(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=n.horizontal?"horizontal":"vertical",this.callback=n.handler,this.context=e,this.enabled=n.enabled,this.id="waypoints"+g++,this.offset=null,this.options=n,e.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,s=null!=(o=t.data(_))?o:[],s.push(this.id),t.data(_,s)}return t.prototype.trigger=function(t){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,n;return(n=i(t).data(_))?(e=i.extend({},a.horizontal,a.vertical),i.map(n,function(t){return e[t]})):[]},t}(),p={init:function(t,e){var n;return null==e&&(e={}),null==(n=e.handler)&&(e.handler=t),this.each(function(){var t,n,s,a;return t=i(this),s=null!=(a=e.context)?a:i.fn[v].defaults.context,i.isWindow(s)||(s=t.closest(s)),s=i(s),n=h[s.data(d)],n||(n=new o(s)),new r(t,n,e)}),i[y]("refresh"),this},disable:function(){return p._invoke(this,"disable")},enable:function(){return p._invoke(this,"enable")},destroy:function(){return p._invoke(this,"destroy")},prev:function(t,e){return p._traverse.call(this,t,e,function(t,e,i){if(e>0)return t.push(i[e-1])})},next:function(t,e){return p._traverse.call(this,t,e,function(t,e,i){if(e<i.length-1)return t.push(i[e+1])})},_traverse:function(t,e,s){var o,r;return null==t&&(t="vertical"),null==e&&(e=n),r=u.aggregate(e),o=[],this.each(function(){var e;return e=i.inArray(this,r[t]),s(o,e,r[t])}),this.pushStack(o)},_invoke:function(t,e){return t.each(function(){var t;return t=r.getWaypointsByElement(this),i.each(t,function(t,i){return i[e](),!0})}),this}},i.fn[v]=function(){var t,n;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],p[n]?p[n].apply(this,t):i.isFunction(n)?p.init.apply(this,arguments):i.isPlainObject(n)?p.init.apply(this,[null,n]):n?i.error("The "+n+" method does not exist in jQuery Waypoints."):i.error("jQuery Waypoints needs a callback function or handler option.")},i.fn[v].defaults={context:n,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},u={refresh:function(){return i.each(h,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return null!=(t=n.innerHeight)?t:s.height()},aggregate:function(t){var e,n,s;return e=a,t&&(e=null!=(s=h[i(t).data(d)])?s.waypoints:void 0),e?(n={horizontal:[],vertical:[]},i.each(n,function(t,s){return i.each(e[t],function(t,e){return s.push(e)}),s.sort(function(t,e){return t.offset-e.offset}),n[t]=i.map(s,function(t){return t.element}),n[t]=i.unique(n[t])}),n):[]},above:function(t){return null==t&&(t=n),u._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=n),u._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=n),u._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=n),u._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return u._invoke("enable")},disable:function(){return u._invoke("disable")},destroy:function(){return u._invoke("destroy")},extendFn:function(t,e){return p[t]=e},_invoke:function(t){var e;return e=i.extend({},a.vertical,a.horizontal),i.each(e,function(e,i){return i[t](),!0})},_filter:function(t,e,n){var s,o;return(s=h[i(t).data(d)])?(o=[],i.each(s.waypoints[e],function(t,e){if(n(s,e))return o.push(e)}),o.sort(function(t,e){return t.offset-e.offset}),i.map(o,function(t){return t.element})):[]}},i[y]=function(){var t,i;return i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],u[i]?u[i].apply(null,t):u.aggregate.call(null,i)},i[y].settings={resizeThrottle:100,scrollThrottle:30},s.load(function(){return i[y]("refresh")})})}.call(this),function(t){"use strict";t.fn.counterUp=function(e){var i=t.extend({time:400,delay:10},e);return this.each(function(){var e=t(this),n=i,s=function(){var t=[],i=n.time/n.delay,s=e.text(),o=/[0-9]+,[0-9]+/.test(s);s=s.replace(/,/g,"");for(var r=(/^[0-9]+$/.test(s),/^[0-9]+\.[0-9]+$/.test(s)),a=r?(s.split(".")[1]||[]).length:0,l=i;l>=1;l--){var d=parseInt(s/i*l);if(r&&(d=parseFloat(s/i*l).toFixed(a)),o)for(;/(\d+)(\d{3})/.test(d.toString());)d=d.toString().replace(/(\d+)(\d{3})/,"$1,$2");t.unshift(d)}e.data("counterup-nums",t),e.text("0");var h=function(){e.text(e.data("counterup-nums").shift()),e.data("counterup-nums").length?setTimeout(e.data("counterup-func"),n.delay):(delete e.data("counterup-nums"),e.data("counterup-nums",null),e.data("counterup-func",null))};e.data("counterup-func",h),setTimeout(e.data("counterup-func"),n.delay)};e.waypoint(s,{offset:"100%",triggerOnce:!0})})}}(jQuery),!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e=window.Slick||{};e=function(){function e(e,n){var s,o=this;o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(e),appendDots:t(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,i){return t('<button type="button" data-role="none" role="button" tabindex="0" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.focussed=!1,o.interrupted=!1,o.hidden="hidden",o.paused=!0,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=t(e),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,s=t(e).data("slick")||{},o.options=t.extend({},o.defaults,n,s),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,"undefined"!=typeof document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange"),o.autoPlay=t.proxy(o.autoPlay,o),o.autoPlayClear=t.proxy(o.autoPlayClear,o),o.autoPlayIterator=t.proxy(o.autoPlayIterator,o),o.changeSlide=t.proxy(o.changeSlide,o),o.clickHandler=t.proxy(o.clickHandler,o),o.selectHandler=t.proxy(o.selectHandler,o),o.setPosition=t.proxy(o.setPosition,o),o.swipeHandler=t.proxy(o.swipeHandler,o),o.dragHandler=t.proxy(o.dragHandler,o),o.keyHandler=t.proxy(o.keyHandler,o),o.instanceUid=i++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.registerBreakpoints(),o.init(!0)}var i=0;return e}(),e.prototype.activateADA=function(){var t=this;t.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,i,n){var s=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=s.slideCount)return!1;s.unload(),"number"==typeof i?0===i&&0===s.$slides.length?t(e).appendTo(s.$slideTrack):n?t(e).insertBefore(s.$slides.eq(i)):t(e).insertAfter(s.$slides.eq(i)):n===!0?t(e).prependTo(s.$slideTrack):t(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,i){t(i).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&t.options.adaptiveHeight===!0&&t.options.vertical===!1){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,i){var n={},s=this;s.animateHeight(),s.options.rtl===!0&&s.options.vertical===!1&&(e=-e),s.transformsEnabled===!1?s.options.vertical===!1?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,i):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,i):s.cssTransitions===!1?(s.options.rtl===!0&&(s.currentLeft=-s.currentLeft),t({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(t){t=Math.ceil(t),s.options.vertical===!1?(n[s.animType]="translate("+t+"px, 0px)",s.$slideTrack.css(n)):(n[s.animType]="translate(0px,"+t+"px)",s.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(s.applyTransition(),e=Math.ceil(e),s.options.vertical===!1?n[s.animType]="translate3d("+e+"px, 0px, 0px)":n[s.animType]="translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(n),i&&setTimeout(function(){s.disableTransition(),i.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this,i=e.options.asNavFor;return i&&null!==i&&(i=t(i).not(e.$slider)),i},e.prototype.asNavFor=function(e){var i=this,n=i.getNavTarget();null!==n&&"object"==typeof n&&n.each(function(){var i=t(this).slick("getSlick");i.unslicked||i.slideHandler(e,!0)})},e.prototype.applyTransition=function(t){var e=this,i={};e.options.fade===!1?i[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:i[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,e.options.fade===!1?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(t.options.infinite===!1&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1===0&&(t.direction=1))),t.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;e.options.arrows===!0&&(e.$prevArrow=t(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=t(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),e.options.infinite!==!0&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,i,n=this;if(n.options.dots===!0&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),i=t("<ul />").addClass(n.options.dotsClass),e=0;e<=n.getDotCount();e+=1)i.append(t("<li />").append(n.options.customPaging.call(this,n,e)));n.$dots=i.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,i){t(i).attr("data-slick-index",e).data("originalStyling",t(i).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),(e.options.centerMode===!0||e.options.swipeToSlide===!0)&&(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.options.draggable===!0&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var t,e,i,n,s,o,r,a=this;if(n=document.createDocumentFragment(),o=a.$slider.children(),a.options.rows>1){for(r=a.options.slidesPerRow*a.options.rows,s=Math.ceil(o.length/r),t=0;s>t;t++){var l=document.createElement("div");for(e=0;e<a.options.rows;e++){var d=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var h=t*r+(e*a.options.slidesPerRow+i);o.get(h)&&d.appendChild(o.get(h))}l.appendChild(d)}n.appendChild(l)}a.$slider.empty().append(n),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,i){var n,s,o,r=this,a=!1,l=r.$slider.width(),d=window.innerWidth||t(window).width();if("window"===r.respondTo?o=d:"slider"===r.respondTo?o=l:"min"===r.respondTo&&(o=Math.min(d,l)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){s=null;for(n in r.breakpoints)r.breakpoints.hasOwnProperty(n)&&(r.originalSettings.mobileFirst===!1?o<r.breakpoints[n]&&(s=r.breakpoints[n]):o>r.breakpoints[n]&&(s=r.breakpoints[n]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||i)&&(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=t.extend({},r.originalSettings,r.breakpointSettings[s]),e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),a=s):(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=t.extend({},r.originalSettings,r.breakpointSettings[s]),e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),a=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(e),a=s),e||a===!1||r.$slider.trigger("breakpoint",[r,a])}},e.prototype.changeSlide=function(e,i){var n,s,o,r=this,a=t(e.currentTarget);switch(a.is("a")&&e.preventDefault(),a.is("li")||(a=a.closest("li")),o=r.slideCount%r.options.slidesToScroll!==0,n=o?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":s=0===n?r.options.slidesToScroll:r.options.slidesToShow-n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-s,!1,i);break;case"next":s=0===n?r.options.slidesToScroll:n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+s,!1,i);break;case"index":var l=0===e.data.index?0:e.data.index||a.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(l),!1,i),a.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(t){var e,i,n=this;if(e=n.getNavigableIndexes(),i=0,t>e[e.length-1])t=e[e.length-1];else for(var s in e){if(t<e[s]){t=i;break}i=e[s]}return t},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&t("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",t.proxy(e.interrupt,e,!0)).off("mouseleave.slick",t.proxy(e.interrupt,e,!1)),e.$slider.off("focus.slick blur.slick"),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide)),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),e.options.accessibility===!0&&e.$list.off("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).off("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>1&&(t=e.$slides.children().children(),t.removeAttr("style"),e.$slider.empty().append(t))},e.prototype.clickHandler=function(t){var e=this;e.shouldClick===!1&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(e){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),t(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){t(this).attr("style",t(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,e||i.$slider.trigger("destroy",[i])},e.prototype.disableTransition=function(t){var e=this,i={};i[e.transitionType]="",e.options.fade===!1?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.fadeSlide=function(t,e){var i=this;i.cssTransitions===!1?(i.$slides.eq(t).css({zIndex:i.options.zIndex}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:i.options.zIndex}),e&&setTimeout(function(){i.disableTransition(t),e.call()},i.options.speed))},e.prototype.fadeSlideOut=function(t){var e=this;e.cssTransitions===!1?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(i){i.stopImmediatePropagation();var n=t(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=n.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){var t=this;return t.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,i=0,n=0;if(t.options.infinite===!0)for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(t.options.centerMode===!0)n=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else n=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return n-1},e.prototype.getLeft=function(t){var e,i,n,s=this,o=0;return s.slideOffset=0,i=s.$slides.first().outerHeight(!0),s.options.infinite===!0?(s.slideCount>s.options.slidesToShow&&(s.slideOffset=s.slideWidth*s.options.slidesToShow*-1,o=i*s.options.slidesToShow*-1),s.slideCount%s.options.slidesToScroll!==0&&t+s.options.slidesToScroll>s.slideCount&&s.slideCount>s.options.slidesToShow&&(t>s.slideCount?(s.slideOffset=(s.options.slidesToShow-(t-s.slideCount))*s.slideWidth*-1,o=(s.options.slidesToShow-(t-s.slideCount))*i*-1):(s.slideOffset=s.slideCount%s.options.slidesToScroll*s.slideWidth*-1,o=s.slideCount%s.options.slidesToScroll*i*-1))):t+s.options.slidesToShow>s.slideCount&&(s.slideOffset=(t+s.options.slidesToShow-s.slideCount)*s.slideWidth,o=(t+s.options.slidesToShow-s.slideCount)*i),s.slideCount<=s.options.slidesToShow&&(s.slideOffset=0,o=0),s.options.centerMode===!0&&s.options.infinite===!0?s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)-s.slideWidth:s.options.centerMode===!0&&(s.slideOffset=0,s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)),e=s.options.vertical===!1?t*s.slideWidth*-1+s.slideOffset:t*i*-1+o,s.options.variableWidth===!0&&(n=s.slideCount<=s.options.slidesToShow||s.options.infinite===!1?s.$slideTrack.children(".slick-slide").eq(t):s.$slideTrack.children(".slick-slide").eq(t+s.options.slidesToShow),e=s.options.rtl===!0?n[0]?-1*(s.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,s.options.centerMode===!0&&(n=s.slideCount<=s.options.slidesToShow||s.options.infinite===!1?s.$slideTrack.children(".slick-slide").eq(t):s.$slideTrack.children(".slick-slide").eq(t+s.options.slidesToShow+1),e=s.options.rtl===!0?n[0]?-1*(s.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,e+=(s.$list.width()-n.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){var e=this;return e.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,i=0,n=0,s=[];for(e.options.infinite===!1?t=e.slideCount:(i=-1*e.options.slidesToScroll,n=-1*e.options.slidesToScroll,t=2*e.slideCount);t>i;)s.push(i),i=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,i,n,s=this;return n=s.options.centerMode===!0?s.slideWidth*Math.floor(s.options.slidesToShow/2):0,s.options.swipeToSlide===!0?(s.$slideTrack.find(".slick-slide").each(function(e,o){return o.offsetLeft-n+t(o).outerWidth()/2>-1*s.swipeLeft?(i=o,!1):void 0}),e=Math.abs(t(i).attr("data-slick-index")-s.currentSlide)||1):s.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){var i=this;i.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(e){var i=this;t(i.$slider).hasClass("slick-initialized")||(t(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),e&&i.$slider.trigger("init",[i]),i.options.accessibility===!0&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},e.prototype.initADA=function(){var e=this;e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),e.$slideTrack.attr("role","listbox"),e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(i){t(this).attr({role:"option","aria-describedby":"slick-slide"+e.instanceUid+i})}),null!==e.$dots&&e.$dots.attr("role","tablist").find("li").each(function(i){t(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+e.instanceUid+i,id:"slick-slide"+e.instanceUid+i})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),e.activateADA()},e.prototype.initArrowEvents=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide))},e.prototype.initDotEvents=function(){var e=this;e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),e.options.dots===!0&&e.options.pauseOnDotsHover===!0&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.interrupt,e,!0)).on("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),e.options.accessibility===!0&&e.$list.on("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.initUI=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},e.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&e.options.accessibility===!0?e.changeSlide({data:{message:e.options.rtl===!0?"next":"previous"}}):39===t.keyCode&&e.options.accessibility===!0&&e.changeSlide({data:{message:e.options.rtl===!0?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){t("img[data-lazy]",e).each(function(){var e=t(this),i=t(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){e.animate({opacity:0},100,function(){e.attr("src",i).animate({opacity:1},200,function(){e.removeAttr("data-lazy").removeClass("slick-loading")}),r.$slider.trigger("lazyLoaded",[r,e,i])})},n.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,e,i])},n.src=i})}var i,n,s,o,r=this;r.options.centerMode===!0?r.options.infinite===!0?(s=r.currentSlide+(r.options.slidesToShow/2+1),o=s+r.options.slidesToShow+2):(s=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),o=2+(r.options.slidesToShow/2+1)+r.currentSlide):(s=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,o=Math.ceil(s+r.options.slidesToShow),r.options.fade===!0&&(s>0&&s--,o<=r.slideCount&&o++)),i=r.$slider.find(".slick-slide").slice(s,o),e(i),r.slideCount<=r.options.slidesToShow?(n=r.$slider.find(".slick-slide"),e(n)):r.currentSlide>=r.slideCount-r.options.slidesToShow?(n=r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow),e(n)):0===r.currentSlide&&(n=r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow),e(n))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){var t=this;t.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var t=this;t.checkResponsive(),t.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var t=this;t.autoPlayClear(),t.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},e.prototype.postSlide=function(t){var e=this;e.unslicked||(e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.setPosition(),e.swipeLeft=null,e.options.autoplay&&e.autoPlay(),e.options.accessibility===!0&&e.initADA())},e.prototype.prev=e.prototype.slickPrev=function(){var t=this;t.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var i,n,s,o=this,r=t("img[data-lazy]",o.$slider);r.length?(i=r.first(),n=i.attr("data-lazy"),s=document.createElement("img"),s.onload=function(){i.attr("src",n).removeAttr("data-lazy").removeClass("slick-loading"),o.options.adaptiveHeight===!0&&o.setPosition(),o.$slider.trigger("lazyLoaded",[o,i,n]),o.progressiveLazyLoad()},s.onerror=function(){3>e?setTimeout(function(){o.progressiveLazyLoad(e+1)},500):(i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,i,n]),o.progressiveLazyLoad())},s.src=n):o.$slider.trigger("allImagesLoaded",[o])},e.prototype.refresh=function(e){var i,n,s=this;n=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>n&&(s.currentSlide=n),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),i=s.currentSlide,s.destroy(!0),t.extend(s,s.initials,{currentSlide:i}),s.init(),e||s.changeSlide({data:{message:"index",index:i}},!1)},e.prototype.registerBreakpoints=function(){var e,i,n,s=this,o=s.options.responsive||null;if("array"===t.type(o)&&o.length){s.respondTo=s.options.respondTo||"window";
for(e in o)if(n=s.breakpoints.length-1,i=o[e].breakpoint,o.hasOwnProperty(e)){for(;n>=0;)s.breakpoints[n]&&s.breakpoints[n]===i&&s.breakpoints.splice(n,1),n--;s.breakpoints.push(i),s.breakpointSettings[i]=o[e].settings}s.breakpoints.sort(function(t,e){return s.options.mobileFirst?t-e:e-t})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,i){var n=this;return"boolean"==typeof t?(e=t,t=e===!0?0:n.slideCount-1):t=e===!0?--t:t,!(n.slideCount<1||0>t||t>n.slideCount-1)&&(n.unload(),i===!0?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(t).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,void n.reinit())},e.prototype.setCSS=function(t){var e,i,n=this,s={};n.options.rtl===!0&&(t=-t),e="left"==n.positionProp?Math.ceil(t)+"px":"0px",i="top"==n.positionProp?Math.ceil(t)+"px":"0px",s[n.positionProp]=t,n.transformsEnabled===!1?n.$slideTrack.css(s):(s={},n.cssTransitions===!1?(s[n.animType]="translate("+e+", "+i+")",n.$slideTrack.css(s)):(s[n.animType]="translate3d("+e+", "+i+", 0px)",n.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var t=this;t.options.vertical===!1?t.options.centerMode===!0&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),t.options.centerMode===!0&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),t.options.vertical===!1&&t.options.variableWidth===!1?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):t.options.variableWidth===!0?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();t.options.variableWidth===!1&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,i=this;i.$slides.each(function(n,s){e=i.slideWidth*n*-1,i.options.rtl===!0?t(s).css({position:"relative",right:e,top:0,zIndex:i.options.zIndex-2,opacity:0}):t(s).css({position:"relative",left:e,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&t.options.adaptiveHeight===!0&&t.options.vertical===!1){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,i,n,s,o,r=this,a=!1;if("object"===t.type(arguments[0])?(n=arguments[0],a=arguments[1],o="multiple"):"string"===t.type(arguments[0])&&(n=arguments[0],s=arguments[1],a=arguments[2],"responsive"===arguments[0]&&"array"===t.type(arguments[1])?o="responsive":"undefined"!=typeof arguments[1]&&(o="single")),"single"===o)r.options[n]=s;else if("multiple"===o)t.each(n,function(t,e){r.options[t]=e});else if("responsive"===o)for(i in s)if("array"!==t.type(r.options.responsive))r.options.responsive=[s[i]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===s[i].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(s[i])}a&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),t.options.fade===!1?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=t.options.vertical===!0?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),(void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.msTransition)&&t.options.useCSS===!0&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&t.animType!==!1&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&t.animType!==!1},e.prototype.setSlideClasses=function(t){var e,i,n,s,o=this;i=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(t).addClass("slick-current"),o.options.centerMode===!0?(e=Math.floor(o.options.slidesToShow/2),o.options.infinite===!0&&(t>=e&&t<=o.slideCount-1-e?o.$slides.slice(t-e,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(n=o.options.slidesToShow+t,i.slice(n-e+1,n+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?i.eq(i.length-1-o.options.slidesToShow).addClass("slick-center"):t===o.slideCount-1&&i.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(t).addClass("slick-center")):t>=0&&t<=o.slideCount-o.options.slidesToShow?o.$slides.slice(t,t+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=o.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(s=o.slideCount%o.options.slidesToShow,n=o.options.infinite===!0?o.options.slidesToShow+t:t,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-t<o.options.slidesToShow?i.slice(n-(o.options.slidesToShow-s),n+s).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},e.prototype.setupInfinite=function(){var e,i,n,s=this;if(s.options.fade===!0&&(s.options.centerMode=!1),s.options.infinite===!0&&s.options.fade===!1&&(i=null,s.slideCount>s.options.slidesToShow)){for(n=s.options.centerMode===!0?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-n;e-=1)i=e-1,t(s.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;n>e;e+=1)i=e,t(s.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},e.prototype.interrupt=function(t){var e=this;t||e.autoPlay(),e.interrupted=t},e.prototype.selectHandler=function(e){var i=this,n=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),s=parseInt(n.attr("data-slick-index"));return s||(s=0),i.slideCount<=i.options.slidesToShow?(i.setSlideClasses(s),void i.asNavFor(s)):void i.slideHandler(s)},e.prototype.slideHandler=function(t,e,i){var n,s,o,r,a,l=null,d=this;return e=e||!1,d.animating===!0&&d.options.waitForAnimate===!0||d.options.fade===!0&&d.currentSlide===t||d.slideCount<=d.options.slidesToShow?void 0:(e===!1&&d.asNavFor(t),n=t,l=d.getLeft(n),r=d.getLeft(d.currentSlide),d.currentLeft=null===d.swipeLeft?r:d.swipeLeft,d.options.infinite===!1&&d.options.centerMode===!1&&(0>t||t>d.getDotCount()*d.options.slidesToScroll)?void(d.options.fade===!1&&(n=d.currentSlide,i!==!0?d.animateSlide(r,function(){d.postSlide(n)}):d.postSlide(n))):d.options.infinite===!1&&d.options.centerMode===!0&&(0>t||t>d.slideCount-d.options.slidesToScroll)?void(d.options.fade===!1&&(n=d.currentSlide,i!==!0?d.animateSlide(r,function(){d.postSlide(n)}):d.postSlide(n))):(d.options.autoplay&&clearInterval(d.autoPlayTimer),s=0>n?d.slideCount%d.options.slidesToScroll!==0?d.slideCount-d.slideCount%d.options.slidesToScroll:d.slideCount+n:n>=d.slideCount?d.slideCount%d.options.slidesToScroll!==0?0:n-d.slideCount:n,d.animating=!0,d.$slider.trigger("beforeChange",[d,d.currentSlide,s]),o=d.currentSlide,d.currentSlide=s,d.setSlideClasses(d.currentSlide),d.options.asNavFor&&(a=d.getNavTarget(),a=a.slick("getSlick"),a.slideCount<=a.options.slidesToShow&&a.setSlideClasses(d.currentSlide)),d.updateDots(),d.updateArrows(),d.options.fade===!0?(i!==!0?(d.fadeSlideOut(o),d.fadeSlide(s,function(){d.postSlide(s)})):d.postSlide(s),void d.animateHeight()):void(i!==!0?d.animateSlide(l,function(){d.postSlide(s)}):d.postSlide(s))))},e.prototype.startLoad=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,i,n,s=this;return t=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,i=Math.atan2(e,t),n=Math.round(180*i/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?s.options.rtl===!1?"left":"right":360>=n&&n>=315?s.options.rtl===!1?"left":"right":n>=135&&225>=n?s.options.rtl===!1?"right":"left":s.options.verticalSwiping===!0?n>=35&&135>=n?"down":"up":"vertical"},e.prototype.swipeEnd=function(t){var e,i,n=this;if(n.dragging=!1,n.interrupted=!1,n.shouldClick=!(n.touchObject.swipeLength>10),void 0===n.touchObject.curX)return!1;if(n.touchObject.edgeHit===!0&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=i&&(n.slideHandler(e),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(e.options.swipe===!1||"ontouchend"in document&&e.options.swipe===!1||e.options.draggable===!1&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,e.options.verticalSwiping===!0&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,i,n,s,o,r=this;return o=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!r.dragging||o&&1!==o.length)&&(e=r.getLeft(r.currentSlide),r.touchObject.curX=void 0!==o?o[0].pageX:t.clientX,r.touchObject.curY=void 0!==o?o[0].pageY:t.clientY,r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curX-r.touchObject.startX,2))),r.options.verticalSwiping===!0&&(r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curY-r.touchObject.startY,2)))),i=r.swipeDirection(),"vertical"!==i?(void 0!==t.originalEvent&&r.touchObject.swipeLength>4&&t.preventDefault(),s=(r.options.rtl===!1?1:-1)*(r.touchObject.curX>r.touchObject.startX?1:-1),r.options.verticalSwiping===!0&&(s=r.touchObject.curY>r.touchObject.startY?1:-1),n=r.touchObject.swipeLength,r.touchObject.edgeHit=!1,r.options.infinite===!1&&(0===r.currentSlide&&"right"===i||r.currentSlide>=r.getDotCount()&&"left"===i)&&(n=r.touchObject.swipeLength*r.options.edgeFriction,r.touchObject.edgeHit=!0),r.options.vertical===!1?r.swipeLeft=e+n*s:r.swipeLeft=e+n*(r.$list.height()/r.listWidth)*s,r.options.verticalSwiping===!0&&(r.swipeLeft=e+n*s),r.options.fade!==!0&&r.options.touchMove!==!1&&(r.animating===!0?(r.swipeLeft=null,!1):void r.setCSS(r.swipeLeft))):void 0)},e.prototype.swipeStart=function(t){var e,i=this;return i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,void(i.dragging=!0))},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},e.prototype.updateArrows=function(){var t,e=this;t=Math.floor(e.options.slidesToShow/2),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&e.options.centerMode===!1?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&e.options.centerMode===!0&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},e.prototype.visibility=function(){var t=this;t.options.autoplay&&(document[t.hidden]?t.interrupted=!0:t.interrupted=!1)},t.fn.slick=function(){var t,i,n=this,s=arguments[0],o=Array.prototype.slice.call(arguments,1),r=n.length;for(t=0;r>t;t++)if("object"==typeof s||"undefined"==typeof s?n[t].slick=new e(n[t],s):i=n[t].slick[s].apply(n[t].slick,o),"undefined"!=typeof i)return i;return n}}),function(t){t.TL={VERSION:"0.1",_originalL:t.TL}}(this),TL.debug=!1,TL.Bind=function(t,e){return function(){return t.apply(e,arguments)}},trace=function(t){TL.debug&&(window.console?console.log(t):"undefined"!=typeof jsTrace&&jsTrace.send(t))},TL_Error.prototype=Object.create(Error.prototype),TL_Error.prototype.constructor=TL_Error,TL.Error=TL_Error,TL.Util={mergeData:function(t,e){var i;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},extend:function(t){for(var e,i=Array.prototype.slice.call(arguments,1),n=0,s=i.length;n<s;n++)e=i[n]||{},TL.Util.mergeData(t,e);return t},isEven:function(t){return t==parseFloat(t)?!(t%2):void 0},isTrue:function(t){return null!=t&&(1==t||"true"==String(t).toLowerCase()||1==Number(t))},findArrayNumberByUniqueID:function(t,e,i,n){for(var s=n||0,o=0;o<e.length;o++)e[o].data[i]==t&&(s=o);return s},convertUnixTime:function(t){var e,i,n,s,o,r,a=[],l={ymd:"",time:"",time_array:[],date_array:[],full_array:[]};l.ymd=t.split(" ")[0],l.time=t.split(" ")[1],l.date_array=l.ymd.split("-"),l.time_array=l.time.split(":"),l.full_array=l.date_array.concat(l.time_array);for(var d=0;d<l.full_array.length;d++)a.push(parseInt(l.full_array[d]));return e=new Date(a[0],a[1],a[2],a[3],a[4],a[5]),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=e.getFullYear(),s=i[e.getMonth()],o=e.getDate(),r=s+", "+o+" "+n},setData:function(t,e){t.data=TL.Util.extend({},t.data,e),""===t.data.unique_id&&(t.data.unique_id=TL.Util.unique_ID(6))},stamp:function(){var t=0,e="_tl_id";return function(i){return i[e]=i[e]||++t,i[e]}}(),isArray:function(){if(Array.isArray)return Array.isArray;var t=Object.prototype.toString,e=t.call([]);return function(i){return t.call(i)===e}}(),getRandomNumber:function(t){return Math.floor(Math.random()*t)},unique_ID:function(t,e){var i=function(t){return Math.floor(Math.random()*t)},n=function(){var t="abcdefghijklmnopqurstuvwxyz";return t.substr(i(32),1)},s=function(t){for(var e="",i=0;i<t;i++)e+=n();return e};return e?e+"-"+s(t):"tl-"+s(t)},ensureUniqueKey:function(t,e){if(e||(e=TL.Util.unique_ID(6)),!(e in t))return e;var i=e.match(/^(.+)(-\d+)?$/)[1],n=[];for(key in t)key.match(/^(.+?)(-\d+)?$/)[1]==i&&n.push(key);e=i+"-"+(n.length+1);for(var s=n.length;n.indexOf(e)!=-1;s++)e=i+"-"+s;return e},htmlify:function(t){return t.match(/<p>[\s\S]*?<\/p>/)?t:"<p>"+t+"</p>"},linkify:function(t,e,i){var n=function(t,e,i){i||(i="");var n=30;return e&&e.length>n&&(e=e.substring(0,n)+""),i+"<a class='tl-makelink' href='"+t+"' onclick='void(0)'>"+e+"</a>"},s=/\b(?:https?|ftp):\/\/([a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|])/gim,o=/(^|[^\/>])(www\.[\S]+(\b|$))/gim,r=/([a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+)/gim;return t.replace(s,function(t,e,i,s){if(i>0){var o=s[i-1];if('"'==o||"'"==o||"="==o)return t}return n(t,e)}).replace(o,function(t,e,i,s,o){return n("http://"+i,i,e)}).replace(r,function(t,e,i,s){return n("mailto:"+e,e)})},unlinkify:function(t){return t?(t=t.replace(/<a\b[^>]*>/i,""),t=t.replace(/<\/a>/i,"")):t},getParamString:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+"="+t[i]);return"?"+e.join("&")},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},falseFn:function(){return!1},requestAnimFrame:function(){function t(t){window.setTimeout(t,1e3/60)}var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||t;return function(i,n,s,o){i=n?TL.Util.bind(i,n):i,s&&e===t?i():e(i,o)}}(),bind:function(t,e){return function(){return t.apply(e,arguments)}},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,i){var n=e[i];if(!e.hasOwnProperty(i))throw new TL.Error("template_value_err",t);return n})},hexToRgb:function(t){TL.Util.css_named_colors[t.toLowerCase()]&&(t=TL.Util.css_named_colors[t.toLowerCase()]);var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},rgbToHex:function(t){var e,i,n;if("object"==typeof t)e=t.r,i=t.g,n=t.b;else if("function"==typeof t.match){var s=t.match(/^rgb\((\d+),(\d+),(\d+)\)$/);s&&(e=s[1],i=s[2],n=s[3])}if(isNaN(e)||isNaN(n)||isNaN(i))throw new TL.Error("invalid_rgb_err");return"#"+TL.Util.intToHexString(e)+TL.Util.intToHexString(i)+TL.Util.intToHexString(n)},colorObjToHex:function(t){var e=[t.r,t.g,t.b];return TL.Util.rgbToHex("rgb("+e.join(",")+")")},css_named_colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},ratio:{square:function(t){var e={w:0,h:0};return t.w>t.h&&t.h>0?(e.h=t.h,e.w=t.h):(e.w=t.w,e.h=t.w),e},r16_9:function(t){return null!==t.w&&""!==t.w?Math.round(t.w/16*9):null!==t.h&&""!==t.h?Math.round(t.h/9*16):0},r4_3:function(t){return null!==t.w&&""!==t.w?Math.round(t.w/4*3):null!==t.h&&""!==t.h?Math.round(t.h/3*4):void 0}},getObjectAttributeByIndex:function(t,e){if("undefined"!=typeof t){var i=0;for(var n in t){if(e===i)return t[n];i++}return""}return""},getUrlVars:function(t){var e,i,n,s=[];e=t.toString(),e.match("&#038;")?e=e.replace("&#038;","&"):e.match("&#38;")?e=e.replace("&#38;","&"):e.match("&amp;")&&(e=e.replace("&amp;","&")),n=e.slice(e.indexOf("?")+1).split("&");for(var o=0;o<n.length;o++)i=n[o].split("="),s.push(i[0]),s[i[0]]=i[1];return s},trim:function(t){return t&&"function"==typeof t.replace?t.replace(/^\s+|\s+$/g,""):""},slugify:function(t){t=TL.Util.trim(t),t=t.toLowerCase();for(var e=" /_,:;",i="aaaaaeeeeeiiiiooooouuuunc------",n=0,s=e.length;n<s;n++)t=t.replace(new RegExp(e.charAt(n),"g"),i.charAt(n));return t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),t=t.replace(/^([0-9])/,"_$1")},maxDepth:function(t){for(var e=[],i=0,n=0;n<t.length;n++){if(e.push(t[n]),e.length>1){for(var s=e[e.length-1],o=-1,r=0;r<e.length-1;r++)e[r][1]<s[0]&&(o=r);o>=0&&(e=e.slice(o+1))}e.length>i&&(i=e.length)}return i},pad:function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t},intToHexString:function(t){return TL.Util.pad(parseInt(t,10).toString(16))},findNextGreater:function(t,e,i){for(var n=0;n<t.length;n++)if(e<t[n])return t[n];return i?i:e},findNextLesser:function(t,e,i){for(var n=t.length-1;n>=0;n--)if(e>t[n])return t[n];return i?i:e},isEmptyObject:function(t){var e=[];if(Object.keys)e=Object.keys(t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);for(var n=0;n<e.length;n++){var s=e[n];if(null!=t[s]&&"string"!=typeof t[s])return!1;if(0!=TL.Util.trim(t[s]).length)return!1}return!0},parseYouTubeTime:function(t){if("string"==typeof t){if(parts=t.match(/^\s*(\d+h)?(\d+m)?(\d+s)?\s*/i),parts){var e=parseInt(parts[1])||0,i=parseInt(parts[2])||0,n=parseInt(parts[3])||0;return n+60*i+60*e*60}}else if("number"==typeof t)return t;return 0},transformImageURL:function(t){return t.replace(/(.*)www.dropbox.com\/(.*)/,"$1dl.dropboxusercontent.com/$2")},base58:function(t){var e=t||"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",i=e.length;return{encode:function(t){if("number"!=typeof t||t!==parseInt(t))throw'"encode" only accepts integers.';for(var n="";t;){var s=t%i;t=Math.floor(t/i),n=e[s].toString()+n}return n},decode:function(t){if("string"!=typeof t)throw'"decode" only accepts strings.';for(var n=0;t;){var s=e.indexOf(t[0]);if(s<0)throw'"decode" can\'t find "'+t[0]+'" in the alphabet: "'+e+'"';var o=t.length-1;n+=s*Math.pow(i,o),t=t.substring(1)}return n}}}()},function(t){var e=function(){function t(t){return null==t?String(t):X[Y.call(t)]||"object"}function e(e){return"function"==t(e)}function i(t){return null!=t&&t==t.window}function n(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function s(e){return"object"==t(e)}function o(t){return s(t)&&!i(t)&&Object.getPrototypeOf(t)==Object.prototype}function r(t){return"number"==typeof t.length}function a(t){return D.call(t,function(t){return null!=t})}function l(t){return t.length>0?x.fn.concat.apply([],t):t}function d(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function h(t){return t in P?P[t]:P[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function c(t,e){return"number"!=typeof e||O[d(t)]?e:e+"px"}function u(t){var e,i;return $[t]||(e=M.createElement(t),M.body.appendChild(e),i=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==i&&(i="block"),$[t]=i),$[t]}function p(t){return"children"in t?E.call(t.children):x.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function f(t,e,i){for(T in e)i&&(o(e[T])||Q(e[T]))?(o(e[T])&&!o(t[T])&&(t[T]={}),Q(e[T])&&!Q(t[T])&&(t[T]=[]),f(t[T],e[T],i)):e[T]!==b&&(t[T]=e[T])}function m(t,e){return null==e?x(t):x(t).filter(e)}function g(t,i,n,s){return e(i)?i.call(t,n,s):i}function _(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i)}function v(t,e){var i=t.className,n=i&&i.baseVal!==b;return e===b?n?i.baseVal:i:void(n?i.baseVal=e:t.className=e)}function y(t){var e;try{return t?"true"==t||"false"!=t&&("null"==t?null:/^0/.test(t)||isNaN(e=Number(t))?/^[\[\{]/.test(t)?x.parseJSON(t):t:e):t}catch(e){return t}}function w(t,e){e(t);for(var i in t.childNodes)w(t.childNodes[i],e)}var b,T,x,k,L,S,C=[],E=C.slice,D=C.filter,M=window.document,$={},P={},O={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:5},A=/^\s*<(\w+|!)[^>]*>/,N=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,I=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,z=/^(?:body|html)$/i,j=/([A-Z])/g,R=["val","css","html","text","data","width","height","offset"],F=["after","prepend","before","append"],U=M.createElement("table"),H=M.createElement("tr"),B={tr:M.createElement("tbody"),tbody:U,thead:U,tfoot:U,td:H,th:H,"*":M.createElement("div")},q=/complete|loaded|interactive/,W=/^[\w-]*$/,X={},Y=X.toString,V={},G=M.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Q=Array.isArray||function(t){return t instanceof Array};return V.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var i=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var n,s=t.parentNode,o=!s;return o&&(s=G).appendChild(t),n=~V.qsa(s,e).indexOf(t),o&&G.removeChild(t),n},L=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},S=function(t){return D.call(t,function(e,i){return t.indexOf(e)==i})},V.fragment=function(t,e,i){var n,s,r;return N.test(t)&&(n=x(M.createElement(RegExp.$1))),n||(t.replace&&(t=t.replace(I,"<$1></$2>")),e===b&&(e=A.test(t)&&RegExp.$1),e in B||(e="*"),r=B[e],r.innerHTML=""+t,n=x.each(E.call(r.childNodes),function(){r.removeChild(this)})),o(i)&&(s=x(n),x.each(i,function(t,e){R.indexOf(t)>-1?s[t](e):s.attr(t,e)})),n},V.Z=function(t,e){return t=t||[],t.__proto__=x.fn,t.selector=e||"",t},V.isZ=function(t){return t instanceof V.Z},V.init=function(t,i){var n;if(!t)return V.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&A.test(t))n=V.fragment(t,RegExp.$1,i),t=null;else{if(i!==b)return x(i).find(t);n=V.qsa(M,t)}else{if(e(t))return x(M).ready(t);if(V.isZ(t))return t;if(Q(t))n=a(t);else if(s(t))n=[t],t=null;else if(A.test(t))n=V.fragment(t.trim(),RegExp.$1,i),t=null;else{if(i!==b)return x(i).find(t);n=V.qsa(M,t)}}return V.Z(n,t)},x=function(t,e){return V.init(t,e)},x.extend=function(t){var e,i=E.call(arguments,1);return"boolean"==typeof t&&(e=t,t=i.shift()),i.forEach(function(i){f(t,i,e)}),t},V.qsa=function(t,e){var i,s="#"==e[0],o=!s&&"."==e[0],r=s||o?e.slice(1):e,a=W.test(r);return n(t)&&a&&s?(i=t.getElementById(r))?[i]:[]:1!==t.nodeType&&9!==t.nodeType?[]:E.call(a&&!s?o?t.getElementsByClassName(r):t.getElementsByTagName(e):t.querySelectorAll(e))},x.contains=function(t,e){return t!==e&&t.contains(e)},x.type=t,x.isFunction=e,x.isWindow=i,x.isArray=Q,x.isPlainObject=o,x.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},x.inArray=function(t,e,i){return C.indexOf.call(e,t,i)},x.camelCase=L,x.trim=function(t){return null==t?"":String.prototype.trim.call(t)},x.uuid=0,x.support={},x.expr={},x.map=function(t,e){var i,n,s,o=[];if(r(t))for(n=0;n<t.length;n++)i=e(t[n],n),null!=i&&o.push(i);else for(s in t)i=e(t[s],s),null!=i&&o.push(i);return l(o)},x.each=function(t,e){var i,n;if(r(t)){for(i=0;i<t.length;i++)if(e.call(t[i],i,t[i])===!1)return t}else for(n in t)if(e.call(t[n],n,t[n])===!1)return t;return t},x.grep=function(t,e){return D.call(t,e)},window.JSON&&(x.parseJSON=JSON.parse),x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){X["[object "+e+"]"]=e.toLowerCase()}),x.fn={forEach:C.forEach,reduce:C.reduce,push:C.push,sort:C.sort,indexOf:C.indexOf,concat:C.concat,map:function(t){return x(x.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return x(E.apply(this,arguments))},ready:function(t){return q.test(M.readyState)&&M.body?t(x):M.addEventListener("DOMContentLoaded",function(){
t(x)},!1),this},get:function(t){return t===b?E.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return C.every.call(this,function(e,i){return t.call(e,i,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):x(D.call(this,function(e){return V.matches(e,t)}))},add:function(t,e){return x(S(this.concat(x(t,e))))},is:function(t){return this.length>0&&V.matches(this[0],t)},not:function(t){var i=[];if(e(t)&&t.call!==b)this.each(function(e){t.call(this,e)||i.push(this)});else{var n="string"==typeof t?this.filter(t):r(t)&&e(t.item)?E.call(t):x(t);this.forEach(function(t){n.indexOf(t)<0&&i.push(t)})}return x(i)},has:function(t){return this.filter(function(){return s(t)?x.contains(this,t):x(this).find(t).size()})},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!s(t)?t:x(t)},last:function(){var t=this[this.length-1];return t&&!s(t)?t:x(t)},find:function(t){var e,i=this;return e="object"==typeof t?x(t).filter(function(){var t=this;return C.some.call(i,function(e){return x.contains(e,t)})}):1==this.length?x(V.qsa(this[0],t)):this.map(function(){return V.qsa(this,t)})},closest:function(t,e){var i=this[0],s=!1;for("object"==typeof t&&(s=x(t));i&&!(s?s.indexOf(i)>=0:V.matches(i,t));)i=i!==e&&!n(i)&&i.parentNode;return x(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=x.map(i,function(t){if((t=t.parentNode)&&!n(t)&&e.indexOf(t)<0)return e.push(t),t});return m(e,t)},parent:function(t){return m(S(this.pluck("parentNode")),t)},children:function(t){return m(this.map(function(){return p(this)}),t)},contents:function(){return this.map(function(){return E.call(this.childNodes)})},siblings:function(t){return m(this.map(function(t,e){return D.call(p(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return x.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=u(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var i=e(t);if(this[0]&&!i)var n=x(t).get(0),s=n.parentNode||this.length>1;return this.each(function(e){x(this).wrapAll(i?t.call(this,e):s?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){x(this[0]).before(t=x(t));for(var e;(e=t.children()).length;)t=e.first();x(t).append(this)}return this},wrapInner:function(t){var i=e(t);return this.each(function(e){var n=x(this),s=n.contents(),o=i?t.call(this,e):t;s.length?s.wrapAll(o):n.append(o)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=x(this);(t===b?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return x(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return x(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(e){var i=this.innerHTML;x(this).empty().append(g(this,t,e,i))})},text:function(t){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t===b?"":""+t})},attr:function(t,e){var i;return"string"==typeof t&&e===b?0==this.length||1!==this[0].nodeType?b:"value"==t&&"INPUT"==this[0].nodeName?this.val():!(i=this[0].getAttribute(t))&&t in this[0]?this[0][t]:i:this.each(function(i){if(1===this.nodeType)if(s(t))for(T in t)_(this,T,t[T]);else _(this,t,g(this,e,i,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){1===this.nodeType&&_(this,t)})},prop:function(t,e){return t=Z[t]||t,e===b?this[0]&&this[0][t]:this.each(function(i){this[t]=g(this,e,i,this[t])})},data:function(t,e){var i=this.attr("data-"+t.replace(j,"-$1").toLowerCase(),e);return null!==i?y(i):b},val:function(t){return 0===arguments.length?this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(e){this.value=g(this,t,e,this.value)})},offset:function(t){if(t)return this.each(function(e){var i=x(this),n=g(this,t,e,i.offset()),s=i.offsetParent().offset(),o={top:n.top-s.top,left:n.left-s.left};"static"==i.css("position")&&(o.position="relative"),i.css(o)});if(0==this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,i){if(arguments.length<2){var n=this[0],s=getComputedStyle(n,"");if(!n)return;if("string"==typeof e)return n.style[L(e)]||s.getPropertyValue(e);if(Q(e)){var o={};return x.each(Q(e)?e:[e],function(t,e){o[e]=n.style[L(e)]||s.getPropertyValue(e)}),o}}var r="";if("string"==t(e))i||0===i?r=d(e)+":"+c(e,i):this.each(function(){this.style.removeProperty(d(e))});else for(T in e)e[T]||0===e[T]?r+=d(T)+":"+c(T,e[T])+";":this.each(function(){this.style.removeProperty(d(T))});return this.each(function(){this.style.cssText+=";"+r})},index:function(t){return t?this.indexOf(x(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&C.some.call(this,function(t){return this.test(v(t))},h(t))},addClass:function(t){return t?this.each(function(e){k=[];var i=v(this),n=g(this,t,e,i);n.split(/\s+/g).forEach(function(t){x(this).hasClass(t)||k.push(t)},this),k.length&&v(this,i+(i?" ":"")+k.join(" "))}):this},removeClass:function(t){return this.each(function(e){return t===b?v(this,""):(k=v(this),g(this,t,e,k).split(/\s+/g).forEach(function(t){k=k.replace(h(t)," ")}),void v(this,k.trim()))})},toggleClass:function(t,e){return t?this.each(function(i){var n=x(this),s=g(this,t,i,v(this));s.split(/\s+/g).forEach(function(t){(e===b?!n.hasClass(t):e)?n.addClass(t):n.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===b?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===b?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),n=z.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(x(t).css("margin-top"))||0,i.left-=parseFloat(x(t).css("margin-left"))||0,n.top+=parseFloat(x(e[0]).css("border-top-width"))||0,n.left+=parseFloat(x(e[0]).css("border-left-width"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||M.body;t&&!z.test(t.nodeName)&&"static"==x(t).css("position");)t=t.offsetParent;return t})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});x.fn[t]=function(s){var o,r=this[0];return s===b?i(r)?r["inner"+e]:n(r)?r.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){r=x(this),r.css(t,g(this,s,e,r[t]()))})}}),F.forEach(function(e,i){var n=i%2;x.fn[e]=function(){var e,s,o=x.map(arguments,function(i){return e=t(i),"object"==e||"array"==e||null==i?i:V.fragment(i)}),r=this.length>1;return o.length<1?this:this.each(function(t,e){s=n?e:e.parentNode,e=0==i?e.nextSibling:1==i?e.firstChild:2==i?e:null,o.forEach(function(t){if(r)t=t.cloneNode(!0);else if(!s)return x(t).remove();w(s.insertBefore(t,e),function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},x.fn[n?e+"To":"insert"+(i?"Before":"After")]=function(t){return x(t)[e](this),this}}),V.Z.prototype=x.fn,V.uniq=S,V.deserializeValue=y,x.zepto=V,x}();window.Zepto=e,void 0===window.$&&(window.$=e),function(t){function e(t){return t._zid||(t._zid=u++)}function i(t,i,o,r){if(i=n(i),i.ns)var a=s(i.ns);return(g[e(t)]||[]).filter(function(t){return t&&(!i.e||t.e==i.e)&&(!i.ns||a.test(t.ns))&&(!o||e(t.fn)===e(o))&&(!r||t.sel==r)})}function n(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function s(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t,e){return t.del&&!v&&t.e in y||!!e}function r(t){return w[t]||v&&y[t]||t}function a(i,s,a,l,h,u,p){var f=e(i),m=g[f]||(g[f]=[]);s.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(a);var s=n(e);s.fn=a,s.sel=h,s.e in w&&(a=function(e){var i=e.relatedTarget;if(!i||i!==this&&!t.contains(this,i))return s.fn.apply(this,arguments)}),s.del=u;var f=u||a;s.proxy=function(t){if(t=d(t),!t.isImmediatePropagationStopped()){t.data=l;var e=f.apply(i,t._args==c?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},s.i=m.length,m.push(s),"addEventListener"in i&&i.addEventListener(r(s.e),s.proxy,o(s,p))})}function l(t,n,s,a,l){var d=e(t);(n||"").split(/\s/).forEach(function(e){i(t,e,s,a).forEach(function(e){delete g[d][e.i],"removeEventListener"in t&&t.removeEventListener(r(e.e),e.proxy,o(e,l))})})}function d(e,i){return!i&&e.isDefaultPrevented||(i||(i=e),t.each(k,function(t,n){var s=i[t];e[t]=function(){return this[n]=b,s&&s.apply(i,arguments)},e[n]=T}),(i.defaultPrevented!==c?i.defaultPrevented:"returnValue"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=b)),e}function h(t){var e,i={originalEvent:t};for(e in t)x.test(e)||t[e]===c||(i[e]=t[e]);return d(i,t)}var c,u=(t.zepto.qsa,1),p=Array.prototype.slice,f=t.isFunction,m=function(t){return"string"==typeof t},g={},_={},v="onfocusin"in window,y={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};_.click=_.mousedown=_.mouseup=_.mousemove="MouseEvents",t.event={add:a,remove:l},t.proxy=function(i,n){if(f(i)){var s=function(){return i.apply(n,arguments)};return s._zid=e(i),s}if(m(n))return t.proxy(i[n],i);throw new TypeError("expected function")},t.fn.bind=function(t,e,i){return this.on(t,e,i)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,i,n){return this.on(t,e,i,n,1)};var b=function(){return!0},T=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,k={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,i){return this.on(e,t,i)},t.fn.undelegate=function(t,e,i){return this.off(e,t,i)},t.fn.live=function(e,i){return t(document.body).delegate(this.selector,e,i),this},t.fn.die=function(e,i){return t(document.body).undelegate(this.selector,e,i),this},t.fn.on=function(e,i,n,s,o){var r,d,u=this;return e&&!m(e)?(t.each(e,function(t,e){u.on(t,i,n,e,o)}),u):(m(i)||f(s)||s===!1||(s=n,n=i,i=c),(f(n)||n===!1)&&(s=n,n=c),s===!1&&(s=T),u.each(function(c,u){o&&(r=function(t){return l(u,t.type,s),s.apply(this,arguments)}),i&&(d=function(e){var n,o=t(e.target).closest(i,u).get(0);if(o&&o!==u)return n=t.extend(h(e),{currentTarget:o,liveFired:u}),(r||s).apply(o,[n].concat(p.call(arguments,1)))}),a(u,e,s,n,i,d||r)}))},t.fn.off=function(e,i,n){var s=this;return e&&!m(e)?(t.each(e,function(t,e){s.off(t,i,e)}),s):(m(i)||f(n)||n===!1||(n=i,i=c),n===!1&&(n=T),s.each(function(){l(this,e,n,i)}))},t.fn.trigger=function(e,i){return e=m(e)||t.isPlainObject(e)?t.Event(e):d(e),e._args=i,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,i)})},t.fn.triggerHandler=function(e,n){var s,o;return this.each(function(r,a){s=h(m(e)?t.Event(e):e),s._args=n,s.target=a,t.each(i(a,e.type||e),function(t,e){if(o=e.proxy(s),s.isImmediatePropagationStopped())return!1})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each(function(){try{this[e]()}catch(t){}}),this}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var i=document.createEvent(_[t]||"Events"),n=!0;if(e)for(var s in e)"bubbles"==s?n=!!e[s]:i[s]=e[s];return i.initEvent(t,n,!0),d(i)}}(e),function(t){function e(e,i,n){var s=t.Event(i);return t(e).trigger(s,n),!s.isDefaultPrevented()}function i(t,i,n,s){if(t.global)return e(i||v,n,s)}function n(e){e.global&&0===t.active++&&i(e,null,"ajaxStart")}function s(e){e.global&&!--t.active&&i(e,null,"ajaxStop")}function o(t,e){var n=e.context;return e.beforeSend.call(n,t,e)!==!1&&i(e,n,"ajaxBeforeSend",[t,e])!==!1&&void i(e,n,"ajaxSend",[t,e])}function r(t,e,n,s){var o=n.context,r="success";n.success.call(o,t,r,e),s&&s.resolveWith(o,[t,r,e]),i(n,o,"ajaxSuccess",[e,n,t]),l(r,e,n)}function a(t,e,n,s,o){var r=s.context;s.error.call(r,n,e,t),o&&o.rejectWith(r,[n,e,t]),i(s,r,"ajaxError",[n,s,t||e]),l(e,n,s)}function l(t,e,n){var o=n.context;n.complete.call(o,e,t),i(n,o,"ajaxComplete",[e,n]),s(n)}function d(){}function h(t){return t&&(t=t.split(";",2)[0]),t&&(t==x?"html":t==T?"json":w.test(t)?"script":b.test(t)&&"xml")||"text"}function c(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function u(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=c(e.url,e.data),e.data=void 0)}function p(e,i,n,s){var o=!t.isFunction(i);return{url:e,data:o?i:void 0,success:o?t.isFunction(n)?n:void 0:i,dataType:o?s||n:n}}function f(e,i,n,s){var o,r=t.isArray(i),a=t.isPlainObject(i);t.each(i,function(i,l){o=t.type(l),s&&(i=n?s:s+"["+(a||"object"==o||"array"==o?i:"")+"]"),!s&&r?e.add(l.name,l.value):"array"==o||!n&&"object"==o?f(e,l,n,i):e.add(i,l)})}var m,g,_=0,v=window.document,y=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,b=/^(?:text|application)\/xml/i,T="application/json",x="text/html",k=/^\s*$/;t.active=0,t.ajaxJSONP=function(e,i){if(!("type"in e))return t.ajax(e);var n,s,l=e.jsonpCallback,d=(t.isFunction(l)?l():l)||"jsonp"+ ++_,h=v.createElement("script"),c=window[d],u=function(e){t(h).triggerHandler("error",e||"abort")},p={abort:u};return i&&i.promise(p),t(h).on("load error",function(o,l){clearTimeout(s),t(h).off().remove(),"error"!=o.type&&n?r(n[0],p,e,i):a(null,l||"error",p,e,i),window[d]=c,n&&t.isFunction(c)&&c(n[0]),c=n=void 0}),o(p,e)===!1?(u("abort"),p):(window[d]=function(){n=arguments},h.src=e.url.replace(/\?(.+)=\?/,"?$1="+d),v.head.appendChild(h),e.timeout>0&&(s=setTimeout(function(){u("timeout")},e.timeout)),p)},t.ajaxSettings={type:"GET",beforeSend:d,success:d,error:d,complete:d,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:T,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var i=t.extend({},e||{}),s=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===i[m]&&(i[m]=t.ajaxSettings[m]);n(i),i.crossDomain||(i.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(i.url)&&RegExp.$2!=window.location.host),i.url||(i.url=window.location.toString()),u(i),i.cache===!1&&(i.url=c(i.url,"_="+Date.now()));var l=i.dataType,p=/\?.+=\?/.test(i.url);if("jsonp"==l||p)return p||(i.url=c(i.url,i.jsonp?i.jsonp+"=?":i.jsonp===!1?"":"callback=?")),t.ajaxJSONP(i,s);var f,_=i.accepts[l],v={},y=function(t,e){v[t.toLowerCase()]=[t,e]},w=/^([\w-]+:)\/\//.test(i.url)?RegExp.$1:window.location.protocol,b=i.xhr(),T=b.setRequestHeader;if(s&&s.promise(b),i.crossDomain||y("X-Requested-With","XMLHttpRequest"),y("Accept",_||"*/*"),(_=i.mimeType||_)&&(_.indexOf(",")>-1&&(_=_.split(",",2)[0]),b.overrideMimeType&&b.overrideMimeType(_)),(i.contentType||i.contentType!==!1&&i.data&&"GET"!=i.type.toUpperCase())&&y("Content-Type",i.contentType||"application/x-www-form-urlencoded"),i.headers)for(g in i.headers)y(g,i.headers[g]);if(b.setRequestHeader=y,b.onreadystatechange=function(){if(4==b.readyState){b.onreadystatechange=d,clearTimeout(f);var e,n=!1;if(b.status>=200&&b.status<300||304==b.status||0==b.status&&"file:"==w){l=l||h(i.mimeType||b.getResponseHeader("content-type")),e=b.responseText;try{"script"==l?(0,eval)(e):"xml"==l?e=b.responseXML:"json"==l&&(e=k.test(e)?null:t.parseJSON(e))}catch(t){n=t}n?a(n,"parsererror",b,i,s):r(e,b,i,s)}else a(b.statusText||null,b.status?"error":"abort",b,i,s)}},o(b,i)===!1)return b.abort(),a(null,"abort",b,i,s),b;if(i.xhrFields)for(g in i.xhrFields)b[g]=i.xhrFields[g];var x=!("async"in i)||i.async;b.open(i.type,i.url,x,i.username,i.password);for(g in v)T.apply(b,v[g]);return i.timeout>0&&(f=setTimeout(function(){b.onreadystatechange=d,b.abort(),a(null,"timeout",b,i,s)},i.timeout)),b.send(i.data?i.data:null),b},t.get=function(e,i,n,s){return t.ajax(p.apply(null,arguments))},t.post=function(e,i,n,s){var o=p.apply(null,arguments);return o.type="POST",t.ajax(o)},t.getJSON=function(e,i,n){var s=p.apply(null,arguments);return s.dataType="json",t.ajax(s)},t.fn.load=function(e,i,n){if(!this.length)return this;var s,o=this,r=e.split(/\s/),a=p(e,i,n),l=a.success;return r.length>1&&(a.url=r[0],s=r[1]),a.success=function(e){o.html(s?t("<div>").html(e.replace(y,"")).find(s):e),l&&l.apply(o,arguments)},t.ajax(a),this};var L=encodeURIComponent;t.param=function(t,e){var i=[];return i.add=function(t,e){this.push(L(t)+"="+L(e))},f(i,t,e),i.join("&").replace(/%20/g,"+")}}(e),function(t){t.fn.serializeArray=function(){var e,i=[];return t([].slice.call(this.get(0).elements)).each(function(){e=t(this);var n=e.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&("radio"!=n&&"checkbox"!=n||this.checked)&&i.push({name:e.attr("name"),value:e.val()})}),i},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var i=t.Event("submit");this.eq(0).trigger(i),i.isDefaultPrevented()||this.get(0).submit()}return this}}(e),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,i){return e=e||[],t.extend(e,t.fn),e.selector=i||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(t){try{return e(t)}catch(t){return null}}}}(e),t.getJSON=e.getJSON,t.ajax=e.ajax}(TL),TL.Class=function(){},TL.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments)},i=function(){};i.prototype=this.prototype;var n=new i;n.constructor=e,e.prototype=n,e.superclass=this.prototype;for(var s in this)this.hasOwnProperty(s)&&"prototype"!==s&&"superclass"!==s&&(e[s]=this[s]);return t.statics&&(TL.Util.extend(e,t.statics),delete t.statics),t.includes&&(TL.Util.extend.apply(null,[n].concat(t.includes)),delete t.includes),t.options&&n.options&&(t.options=TL.Util.extend({},n.options,t.options)),TL.Util.extend(n,t),e.extend=TL.Class.extend,e.include=function(t){TL.Util.extend(this.prototype,t)},e},TL.Events={addEventListener:function(t,e,i){var n=this._tl_events=this._tl_events||{};return n[t]=n[t]||[],n[t].push({action:e,context:i||this}),this},hasEventListeners:function(t){var e="_tl_events";return e in this&&t in this[e]&&this[e][t].length>0},removeEventListener:function(t,e,i){if(!this.hasEventListeners(t))return this;for(var n=0,s=this._tl_events,o=s[t].length;n<o;n++)if(s[t][n].action===e&&(!i||s[t][n].context===i))return s[t].splice(n,1),this;return this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;for(var i=TL.Util.mergeData({type:t,target:this},e),n=this._tl_events[t].slice(),s=0,o=n.length;s<o;s++)n[s].action.call(n[s].context||this,i);return this}},TL.Events.on=TL.Events.addEventListener,TL.Events.off=TL.Events.removeEventListener,TL.Events.fire=TL.Events.fireEvent,function(){var t=navigator.userAgent.toLowerCase(),e=document.documentElement,i="ActiveXObject"in window,n=t.indexOf("webkit")!==-1,s=t.indexOf("phantom")!==-1,o=t.search("android [23]")!==-1,r="undefined"!=typeof orientation,a=navigator.msPointerEnabled&&navigator.msMaxTouchPoints&&!window.PointerEvent,l=window.PointerEvent&&navigator.pointerEnabled&&navigator.maxTouchPoints||a,d=i&&"transition"in e.style,h="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!o,c="MozPerspective"in e.style,u="OTransition"in e.style,p=(window.opera,"devicePixelRatio"in window&&window.devicePixelRatio>1);if(!p&&"matchMedia"in window){var f=window.matchMedia("(min-resolution:144dpi)");p=f&&f.matches}var m=!window.L_NO_TOUCH&&!s&&(l||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);TL.Browser={ie:i,ua:t,ie9:Boolean(i&&t.match(/MSIE 9/i)),ielt9:i&&!document.addEventListener,webkit:n,firefox:t.indexOf("gecko")!==-1&&!n&&!window.opera&&!i,android:t.indexOf("android")!==-1,android23:o,chrome:t.indexOf("chrome")!==-1,edge:t.indexOf("edge/")!==-1,ie3d:d,webkit3d:h,gecko3d:c,opera3d:u,any3d:!window.L_DISABLE_3D&&(d||h||c||u)&&!s,mobile:r,mobileWebkit:r&&n,mobileWebkit3d:r&&h,mobileOpera:r&&window.opera,touch:!!m,msPointer:!!a,pointer:!!l,retina:!!p,orientation:function(){var t=window.innerWidth,e=window.innerHeight,i="portrait";return t>e&&(i="landscape"),90==Math.abs(window.orientation),trace(i),i}}}(),TL.Load=function(t){function e(t){var e=0,n=!1;for(e=0;e<i.length;e++)i[e]==t&&(n=!0);return!!n||(i.push(t),!1)}var i=[];return{css:function(t,i,n,s){e(t)?i():TL.LoadIt.css(t,i,n,s)},js:function(t,i,n,s){e(t)?i():TL.LoadIt.js(t,i,n,s)}}}(this.document),TL.LoadIt=function(t){function e(e,i){var n,s=t.createElement(e);for(n in i)i.hasOwnProperty(n)&&s.setAttribute(n,i[n]);return s}function i(t){var e,i,n=d[t];n&&(e=n.callback,i=n.urls,i.shift(),h=0,i.length||(e&&e.call(n.context,n.obj),d[t]=null,c[t].length&&s(t)))}function n(){var e=navigator.userAgent;a={async:t.createElement("script").async===!0},(a.webkit=/AppleWebKit\//.test(e))||(a.ie=/MSIE/.test(e))||(a.opera=/Opera/.test(e))||(a.gecko=/Gecko\//.test(e))||(a.unknown=!0)}function s(s,h,u,p,f){var m,g,_,v,y,w,b=function(){i(s)},T="css"===s,x=[];if(a||n(),h)if(h="string"==typeof h?[h]:h.concat(),T||a.async||a.gecko||a.opera)c[s].push({urls:h,callback:u,obj:p,context:f});else for(m=0,g=h.length;m<g;++m)c[s].push({urls:[h[m]],callback:m===g-1?u:null,obj:p,context:f});if(!d[s]&&(v=d[s]=c[s].shift())){for(l||(l=t.head||t.getElementsByTagName("head")[0]),y=v.urls,m=0,g=y.length;m<g;++m)w=y[m],T?_=a.gecko?e("style"):e("link",{href:w,rel:"stylesheet"}):(_=e("script",{src:w}),_.async=!1),_.className="lazyload",_.setAttribute("charset","utf-8"),a.ie&&!T?_.onreadystatechange=function(){/loaded|complete/.test(_.readyState)&&(_.onreadystatechange=null,b())}:T&&(a.gecko||a.webkit)?a.webkit?(v.urls[m]=_.href,r()):(_.innerHTML='@import "'+w+'";',o(_)):_.onload=_.onerror=b,x.push(_);for(m=0,g=x.length;m<g;++m)l.appendChild(x[m])}}function o(t){var e;try{e=!!t.sheet.cssRules}catch(n){return h+=1,void(h<200?setTimeout(function(){o(t)},50):e&&i("css"))}i("css")}function r(){var t,e=d.css;if(e){for(t=u.length;--t>=0;)if(u[t].href===e.urls[0]){i("css");break}h+=1,e&&(h<200?setTimeout(r,50):i("css"))}}var a,l,d={},h=0,c={css:[],js:[]},u=t.styleSheets;return{css:function(t,e,i,n){s("css",t,e,i,n)},js:function(t,e,i,n){s("js",t,e,i,n)}}}(this.document),TL.TimelineConfig=TL.Class.extend({includes:[],initialize:function(t){if(this.title="",this.scale="",this.events=[],this.eras=[],this.event_dict={},this.messages={errors:[],warnings:[]},"object"==typeof t&&t.events){if(this.scale=t.scale,this.events=[],this._ensureValidScale(t.events),t.title){var e=this._assignID(t.title);this._tidyFields(t.title),this.title=t.title,this.event_dict[e]=this.title}for(var i=0;i<t.events.length;i++)try{this.addEvent(t.events[i],!0)}catch(t){this.logError(t)}if(t.eras)for(var i=0;i<t.eras.length;i++)try{this.addEra(t.eras[i],!0)}catch(t){this.logError("Era "+i+": "+t)}TL.DateUtil.sortByDate(this.events),TL.DateUtil.sortByDate(this.eras)}},logError:function(t){trace(t),this.messages.errors.push(t)},getErrors:function(t){return t?this.messages.errors.join(t):this.messages.errors},validate:function(){"undefined"!=typeof this.events&&"undefined"!=typeof this.events.length&&0!=this.events.length||this.logError("Timeline configuration has no events.");for(var t=0;t<this.eras.length;t++)if("undefined"==typeof this.eras[t].start_date||"undefined"==typeof this.eras[t].end_date){var e;e=this.eras[t].text&&this.eras[t].text.headline?this.eras[t].text.headline:"era "+(t+1),this.logError("All eras must have start and end dates. ["+e+"]")}},isValid:function(){return 0==this.messages.errors.length},addEvent:function(t,e){var i=this._assignID(t);if("undefined"==typeof t.start_date)throw new TL.Error("missing_start_date_err",i);return this._processDates(t),this._tidyFields(t),this.events.push(t),this.event_dict[i]=t,e||TL.DateUtil.sortByDate(this.events),i},addEra:function(t,e){var i=this._assignID(t);if("undefined"==typeof t.start_date)throw new TL.Error("missing_start_date_err",i);return this._processDates(t),this._tidyFields(t),this.eras.push(t),this.event_dict[i]=t,e||TL.DateUtil.sortByDate(this.eras),i},_assignID:function(t){var e=t.unique_id;return TL.Util.trim(e)||(e=t.text?TL.Util.slugify(t.text.headline):null),t.unique_id=TL.Util.ensureUniqueKey(this.event_dict,e),t.unique_id},_makeUniqueIdentifiers:function(t,e){for(var i=[t],n=0;n<e.length;n++)TL.Util.trim(e[n].unique_id)&&(e[n].unique_id=TL.Util.slugify(e[n].unique_id),i.indexOf(e[n].unique_id)==-1?i.push(e[n].unique_id):e[n].unique_id="");if(i.length!=e.length+1)for(var n=0;n<e.length;n++)if(!e[n].unique_id){var s=e[n].text?TL.Util.slugify(e[n].text.headline):null;s||(s=TL.Util.unique_ID(6)),i.indexOf(s)!=-1&&(s=s+"-"+n),i.push(s),e[n].unique_id=s}},_ensureValidScale:function(t){if(!this.scale){trace("Determining scale dynamically"),this.scale="human";for(var e=0;e<t.length;e++){if("cosmological"==t[e].scale){this.scale="cosmological";break}if(t[e].start_date&&"undefined"!=typeof t[e].start_date.year){var i=new TL.BigDate(t[e].start_date),n=i.data.date_obj.year;if(n<-271820||n>275759){this.scale="cosmological";break}}}}var s=TL.DateUtil.SCALE_DATE_CLASSES[this.scale];s||this.logError("Don't know how to process dates on scale "+this.scale)},_processDates:function(t){var e=TL.DateUtil.SCALE_DATE_CLASSES[this.scale];if(!(t.start_date instanceof e)){var i=t.start_date;if(t.start_date=new e(i),"undefined"!=typeof t.end_date&&!(t.end_date instanceof e)){var n=t.end_date,s=!0;for(property in i)s=s&&i[property]==n[property];s?(trace("End date same as start date is redundant; dropping end date"),delete t.end_date):t.end_date=new e(n)}}},getEarliestDate:function(){var t=this.events[0].start_date;return this.eras&&this.eras.length>0&&this.eras[0].start_date.isBefore(t)?this.eras[0].start_date:t},getLatestDate:function(){for(var t=[],e=0;e<this.events.length;e++)this.events[e].end_date?t.push({date:this.events[e].end_date}):t.push({date:this.events[e].start_date});for(var e=0;e<this.eras.length;e++)this.eras[e].end_date?t.push({date:this.eras[e].end_date}):t.push({date:this.eras[e].start_date});return TL.DateUtil.sortByDate(t,"date"),t.slice(-1)[0].date},_tidyFields:function(t){function e(t,e,i){i||(i=""),t.hasOwnProperty(e)||(t[e]=i)}t.group&&(t.group=TL.Util.trim(t.group)),t.text||(t.text={}),e(t.text,"text"),e(t.text,"headline")}}),function(t){function e(t){parts={key:null,worksheet:0};var e=/\bkey=([-_A-Za-z0-9]+)&?/i,i=/docs.google.com\/spreadsheets(.*?)\/d\//;if(t.match(e))parts.key=t.match(e)[1];else if(t.match(i)){var n=t.search(i)+t.match(i)[0].length,s=t.substr(n);parts.key=s.split("/")[0],t.match(/\?gid=(\d+)/)&&(parts.worksheet=t.match(/\?gid=(\d+)/)[1])}else t.match(/^\b[-_A-Za-z0-9]+$/)&&(parts.key=t);return parts.key?parts:null}function i(e){var i={};for(k in e)0==k.indexOf("gsx$")&&(i[k.substr(4)]=e[k].$t);if(t.Util.isEmptyObject(i))return null;var n={media:{caption:i.mediacaption||"",credit:i.mediacredit||"",url:i.media||"",thumbnail:i.mediathumbnail||""},text:{headline:i.headline||"",text:i.text||""},group:i.tag||"",type:i.type||""};return i.startdate&&(n.start_date=t.Date.parseDate(i.startdate)),i.enddate&&(n.end_date=t.Date.parseDate(i.enddate)),n}function n(e){function i(t){if(t)return t.replace(/[\s,]+/g,"")}var n={};for(k in e)0==k.indexOf("gsx$")&&(n[k.substr(4)]=t.Util.trim(e[k].$t));if(t.Util.isEmptyObject(n))return null;var s={media:{caption:n.mediacaption||"",credit:n.mediacredit||"",url:n.media||"",thumbnail:n.mediathumbnail||""},text:{headline:n.headline||"",text:n.text||""},start_date:{year:i(n.year),month:i(n.month)||"",day:i(n.day)||""},end_date:{year:i(n.endyear)||"",month:i(n.endmonth)||"",day:i(n.endday)||""},display_date:n.displaydate||"",type:n.type||""};if(n.time&&t.Util.mergeData(s.start_date,t.DateUtil.parseTime(n.time)),n.endtime&&t.Util.mergeData(s.end_date,t.DateUtil.parseTime(n.endtime)),n.group&&(s.group=n.group),""==s.end_date.year){var o=s.end_date;if(delete s.end_date,""!=o.month||""!=o.day||""!=o.time){s.text.headline||trace("Invalid end date for spreadsheet row. Must have a year if any other date fields are specified.");trace(e)}}return n.background&&(n.background.match(/^(https?:)?\/\/?/)?s.background={url:n.background}:s.background={color:n.background}),s}var s=function(e){if("undefined"==typeof e.feed.entry||0==e.feed.entry.length)throw new t.Error("empty_feed_err");var s=e.feed.entry[0];if("undefined"!=typeof s.gsx$startdate)return i;if("undefined"!=typeof s.gsx$year){return n}throw new t.Error("invalid_data_format_err")},o=function(t){return"https://spreadsheets.google.com/feeds/list/"+t.key+"/1/public/values?alt=json"},r=function(i){var i=o(e(i)),n=t.ajax({url:i,async:!1});return n=JSON.parse(n.responseText),a(n)},a=function(t){for(var e={events:[],errors:[],warnings:[],eras:[]},i=s(t),n=0;n<t.feed.entry.length;n++)try{var o=i(t.feed.entry[n]);if(o){var r="event";"undefined"!=typeof o.type&&(r=o.type,delete o.type),"title"==r?e.title?(e.warnings.push("Multiple title slides detected."),e.events.push(o)):e.title=o:"era"==r?e.eras.push(o):e.events.push(o)}}catch(t){t.message&&(t=t.message),e.errors.push(t+" ["+n+"]")}return e},l=function(i,n){var s,o=e(i);if(o){try{var a=r(i)}catch(e){return s=new t.TimelineConfig,"NetworkError"==e.name?s.logError(new t.Error("network_err")):"TL.Error"==e.name?s.logError(e):s.logError(new t.Error("unknown_read_err",e.name)),void n(s)}if(s=new t.TimelineConfig(a),a.errors)for(var l=0;l<a.errors.length;l++)s.logError(a.errors[l]);n(s)}else t.getJSON(i,function(e){try{s=new t.TimelineConfig(e)}catch(e){s=new t.TimelineConfig,s.logError(e)}n(s)})};t.ConfigFactory={parseGoogleSpreadsheetURL:e,googleFeedJSONtoTimelineJSON:a,fromGoogle:function(t){return console.warn("TL.ConfigFactory.fromGoogle is deprecated and will be removed soon. Use TL.ConfigFactory.makeConfig(url,callback)"),r(t)},makeConfig:l}}(TL),TL.Language=function(t){for(k in TL.Language.languages.en)this[k]=TL.Language.languages.en[k];if(t&&t.language&&"string"==typeof t.language&&"en"!=t.language){var e=t.language;if(!(e in TL.Language.languages)){if(/\.json$/.test(e))var i=e;else{var n="/locale/"+e+".json",s=t.script_path||TL.Timeline.source_path;/\/$/.test(s)&&(n=n.substr(1));var i=s+n}var o=TL.ajax({url:i,async:!1});if(200!=o.status)throw"Could not load language ["+e+"]: "+o.statusText;TL.Language.languages[e]=JSON.parse(o.responseText)}TL.Util.mergeData(this,TL.Language.languages[e])}},TL.Language.formatNumber=function(t,e){
if(e.match(/%(\.(\d+))?f/)){var i=e.match(/%(\.(\d+))?f/),n=i[0];return i[2]&&(t=t.toFixed(i[2])),e.replace(n,t)}return e},TL.Language.prototype.mergeData=function(t){for(k in TL.Language.languages.en)t[k]&&("object"==typeof this[k]?TL.Util.mergeData(t[k],this[k]):this[k]=t[k])},TL.Language.fallback={messages:{}},TL.Language.prototype.getMessage=function(t){return this.messages[t]||TL.Language.fallback.messages[t]||t},TL.Language.prototype._=TL.Language.prototype.getMessage,TL.Language.prototype.formatDate=function(t,e){return t.constructor==Date?this.formatJSDate(t,e):t.constructor==TL.BigYear?this.formatBigYear(t,e):t.data&&t.data.date_obj?this.formatDate(t.data.date_obj,e):(trace("Unfamiliar date presented for formatting"),t.toString())},TL.Language.prototype.formatBigYear=function(t,e){var i=t.year,n=this.bigdateformats[e]||this.bigdateformats.fallback;if(n){for(var s=0;s<n.length;s++){var o=n[s];if(Math.abs(i/o[0])>1)return TL.Language.formatNumber(Math.abs(i/o[0]),o[1])}return i.toString()}return trace("Language file dateformats missing cosmological. Falling back."),TL.Language.formatNumber(i,e)},TL.Language.prototype.formatJSDate=function(t,e){var i=this,n=function(t,e){var n=i.period_labels[t];if(n)var t=e<12?n[0]:n[1];return"<span class='tl-timeaxis-timesuffix'>"+t+"</span>"},s=!1,o=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g;e||(e="full");var a=this.dateformats[e]||TL.Language.fallback.dateformats[e];a||(a=e);var l=s?"getUTC":"get",d=t[l+"Date"](),h=t[l+"Day"](),c=t[l+"Month"](),u=t[l+"FullYear"](),p=t[l+"Hours"](),f=t[l+"Minutes"](),m=t[l+"Seconds"](),g=t[l+"Milliseconds"](),_=s?0:t.getTimezoneOffset(),v={d:d,dd:TL.Util.pad(d),ddd:this.date.day_abbr[h],dddd:this.date.day[h],m:c+1,mm:TL.Util.pad(c+1),mmm:this.date.month_abbr[c],mmmm:this.date.month[c],yy:String(u).slice(2),yyyy:u<0&&this.has_negative_year_modifier()?Math.abs(u):u,h:p%12||12,hh:TL.Util.pad(p%12||12),H:p,HH:TL.Util.pad(p),M:f,MM:TL.Util.pad(f),s:m,ss:TL.Util.pad(m),l:TL.Util.pad(g,3),L:TL.Util.pad(g>99?Math.round(g/10):g),t:n("t",p),tt:n("tt",p),T:n("T",p),TT:n("TT",p),Z:s?"UTC":(String(t).match(o)||[""]).pop().replace(r,""),o:(_>0?"-":"+")+TL.Util.pad(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10]},y=a.replace(TL.Language.DATE_FORMAT_TOKENS,function(t){return t in v?v[t]:t.slice(1,t.length-1)});return this._applyEra(y,u)},TL.Language.prototype.has_negative_year_modifier=function(){return Boolean(this.era_labels.negative_year.prefix||this.era_labels.negative_year.suffix)},TL.Language.prototype._applyEra=function(t,e){var i=e<0?this.era_labels.negative_year:this.era_labels.positive_year,n="";return i.prefix&&(n+="<span>"+i.prefix+"</span> "),n+=t,i.suffix&&(n+=" <span>"+i.suffix+"</span>"),n},TL.Language.DATE_FORMAT_TOKENS=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,TL.Language.languages={en:{name:"English",lang:"en",api:{wikipedia:"en"},messages:{loading:"Loading",wikipedia:"From Wikipedia, the free encyclopedia",error:"Error",contract_timeline:"Contract Timeline",return_to_title:"Return to Title",loading_content:"Loading Content",expand_timeline:"Expand Timeline",loading_timeline:"Loading Timeline... ",swipe_to_navigate:"Swipe to Navigate<br><span class='tl-button'>OK</span>",unknown_read_err:"An unexpected error occurred trying to read your spreadsheet data",network_err:"Unable to read your Google Spreadsheet. Make sure you have published it to the web.",empty_feed_err:"No data entries found",missing_start_date_err:"Missing start_date",invalid_data_format_err:"Header row has been modified.",date_compare_err:"Can't compare TL.Dates on different scales",invalid_scale_err:"Invalid scale",invalid_date_err:"Invalid date: month, day and year must be numbers.",invalid_separator_error:"Invalid time: misuse of : or . as separator.",invalid_hour_err:"Invalid time (hour)",invalid_minute_err:"Invalid time (minute)",invalid_second_err:"Invalid time (second)",invalid_fractional_err:"Invalid time (fractional seconds)",invalid_second_fractional_err:"Invalid time (seconds and fractional seconds)",invalid_year_err:"Invalid year",flickr_notfound_err:"Photo not found or private",flickr_invalidurl_err:"Invalid Flickr URL",imgur_invalidurl_err:"Invalid Imgur URL",twitter_invalidurl_err:"Invalid Twitter URL",twitter_load_err:"Unable to load Tweet",twitterembed_invalidurl_err:"Invalid Twitter Embed url",wikipedia_load_err:"Unable to load Wikipedia entry",youtube_invalidurl_err:"Invalid YouTube URL",spotify_invalid_url:"Invalid Spotify URL",template_value_err:"No value provided for variable",invalid_rgb_err:"Invalid RGB argument",time_scale_scale_err:"Don't know how to get date from time for scale",axis_helper_no_options_err:"Axis helper must be configured with options",axis_helper_scale_err:"No AxisHelper available for scale",invalid_integer_option:"Invalid option valuemust be a whole number."},date:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."]},era_labels:{positive_year:{prefix:"",suffix:""},negative_year:{prefix:"",suffix:"BCE"}},period_labels:{t:["a","p"],tt:["am","pm"],T:["A","P"],TT:["AM","PM"]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time:"h:MM:ss TT' <small>'mmmm d',' yyyy'</small>'",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_minutes_short:"h TT",time_no_seconds_small_date:"h:MM TT' <small>'mmmm d',' yyyy'</small>'",time_milliseconds:"l",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT' <small>mmm d',' yyyy'</small>'"},bigdateformats:{fallback:[[1e9,"%.2f billion years ago"],[1e6,"%.1f million years ago"],[1e3,"%.1f thousand years ago"],[1,"%f years ago"]],compact:[[1e9,"%.2f bya"],[1e6,"%.1f mya"],[1e3,"%.1f kya"],[1,"%f years ago"]],verbose:[[1e9,"%.2f billion years ago"],[1e6,"%.1f million years ago"],[1e3,"%.1f thousand years ago"],[1,"%f years ago"]]}}},TL.Language.fallback=new TL.Language,TL.I18NMixins={getLanguage:function(){return this.options&&this.options.language?this.options.language:(trace("Expected a language option"),TL.Language.fallback)},_:function(t){return this.getLanguage()._(t)}},TL.Easings={ease:[.25,.1,.25,1],linear:[0,0,1,1],easein:[.42,0,1,1],easeout:[0,0,.58,1],easeinout:[.42,0,.58,1]},TL.Ease={KeySpline:function(t){function e(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function n(t){return 3*t}function s(t,s,o){return((e(s,o)*t+i(s,o))*t+n(s))*t}function o(t,s,o){return 3*e(s,o)*t*t+2*i(s,o)*t+n(s)}function r(e){for(var i=e,n=0;n<4;++n){var r=o(i,t[0],t[2]);if(0==r)return i;var a=s(i,t[0],t[2])-e;i-=a/r}return i}this.get=function(e){return t[0]==t[1]&&t[2]==t[3]?e:s(r(e),t[1],t[3])}},easeInSpline:function(t){var e=new TL.Ease.KeySpline(TL.Easings.easein);return e.get(t)},easeInOutExpo:function(t){var e=new TL.Ease.KeySpline(TL.Easings.easein);return e.get(t)},easeOut:function(t){return Math.sin(t*Math.PI/2)},easeOutStrong:function(t){return 1==t?1:1-Math.pow(2,-10*t)},easeIn:function(t){return t*t},easeInStrong:function(t){return 0==t?0:Math.pow(2,10*(t-1))},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},bounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bouncePast:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},swingTo:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},swingFrom:function(t){var e=1.70158;return t*t*((e+1)*t-e)},elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)},blink:function(t,e){return Math.round(t*(e||5))%2},pulse:function(t,e){return-Math.cos(t*((e||5)-.5)*2*Math.PI)/2+.5},wobble:function(t){return-Math.cos(t*Math.PI*(9*t))/2+.5},sinusoidal:function(t){return-Math.cos(t*Math.PI)/2+.5},flicker:function(t){var t=t+(Math.random()-.5)/5;return easings.sinusoidal(t<0?0:t>1?1:t)},mirror:function(t){return t<.5?easings.sinusoidal(2*t):easings.sinusoidal(1-2*(t-.5))},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},TL.Animate=function(t,e){var i=new tlanimate(t,e);return i},window.tlanimate=function(){function t(t,e,i){if(Array.prototype.indexOf)return t.indexOf(e);for(i=0;i<t.length;++i)if(t[i]===e)return i}function e(t){var i,n=z.length;for(w&&t>1e12&&(t=b()),x&&(t=b()),i=n;i--;)z[i](t);z.length&&I(e)}function i(t){1===z.push(t)&&I(e)}function n(e){var i,n=t(z,e);n>=0&&(i=z.slice(n+1),z.length=n,z=z.concat(i))}function s(t,e){var i,n={};return(i=t.match(E))&&(n.rotate=m(i[1],e?e.rotate:null)),(i=t.match(D))&&(n.scale=m(i[1],e?e.scale:null)),(i=t.match(M))&&(n.skewx=m(i[1],e?e.skewx:null),n.skewy=m(i[3],e?e.skewy:null)),(i=t.match($))&&(n.translatex=m(i[1],e?e.translatex:null),n.translatey=m(i[3],e?e.translatey:null)),n}function o(t){var e="";return"rotate"in t&&(e+="rotate("+t.rotate+"deg) "),"scale"in t&&(e+="scale("+t.scale+") "),"translatex"in t&&(e+="translate("+t.translatex+"px,"+t.translatey+"px) "),"skewx"in t&&(e+="skew("+t.skewx+"deg,"+t.skewy+"deg)"),e}function r(t,e,i){return"#"+(1<<24|t<<16|e<<8|i).toString(16).slice(1)}function a(t){var e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return(e?r(e[1],e[2],e[3]):t).replace(/#(\w)(\w)(\w)$/,"#$1$1$2$2$3$3")}function l(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function d(t){return"function"==typeof t}function h(t){return Math.sin(t*Math.PI/2)}function c(t,e,s,o,r,a){function l(t){var i=t-f;return i>c||m?(a=isFinite(a)?a:1,m?_&&e(a):e(a),n(l),s&&s.apply(u)):void e(isFinite(a)?p*o(i/c)+r:o(i/c))}o=d(o)?o:g.easings[o]||h;var c=t||k,u=this,p=a-r,f=b(),m=0,_=0;return i(l),{stop:function(t){m=1,_=t,t||(s=null)}}}function u(t,e){var i,n,s=t.length,o=[];for(i=0;i<s;++i)o[i]=[t[i][0],t[i][1]];for(n=1;n<s;++n)for(i=0;i<s-n;++i)o[i][0]=(1-e)*o[i][0]+e*o[parseInt(i+1,10)][0],o[i][1]=(1-e)*o[i][1]+e*o[parseInt(i+1,10)][1];return[o[0][0],o[0][1]]}function p(t,e,i){var n,s,o,r,a=[];for(n=0;n<6;n++)o=Math.min(15,parseInt(e.charAt(n),16)),r=Math.min(15,parseInt(i.charAt(n),16)),s=Math.floor((r-o)*t+o),s=s>15?15:s<0?0:s,a[n]=s.toString(16);return"#"+a.join("")}function f(t,e,i,n,s,o,r){if("transform"==s){r={};for(var a in i[o][s])r[a]=a in n[o][s]?Math.round(((n[o][s][a]-i[o][s][a])*t+i[o][s][a])*k)/k:i[o][s][a];return r}return"string"==typeof i[o][s]?p(t,i[o][s],n[o][s]):(r=Math.round(((n[o][s]-i[o][s])*t+i[o][s])*k)/k,s in P||(r+=e[o][s]||"px"),r)}function m(t,e,i,n,s){return(i=S.exec(t))?(s=parseFloat(i[2]))&&e+("+"==i[1]?1:-1)*s:parseFloat(t)}function g(t,e){var i,n,r,h=t?h=isFinite(t.length)?t:[t]:[],p=e.complete,g=e.duration,_=e.easing,v=e.bezier,y=[],w=[],b=[],T=[];for(v&&(n=e.left,r=e.top,delete e.right,delete e.bottom,delete e.left,delete e.top),i=h.length;i--;){if(y[i]={},w[i]={},b[i]={},v){var x=N(h[i],"left"),k=N(h[i],"top"),S=[m(d(n)?n(h[i]):n||0,parseFloat(x)),m(d(r)?r(h[i]):r||0,parseFloat(k))];T[i]=d(v)?v(h[i],S):v,T[i].push(S),T[i].unshift([parseInt(x,10),parseInt(k,10)])}for(var E in e){switch(E){case"complete":case"duration":case"easing":case"bezier":continue}var D,M=N(h[i],E),$=d(e[E])?e[E](h[i]):e[E];"string"!=typeof $||!L.test($)||L.test(M)?(y[i][E]="transform"==E?s(M):"string"==typeof $&&L.test($)?a(M).slice(1):parseFloat(M),w[i][E]="transform"==E?s($,y[i][E]):"string"==typeof $&&"#"==$.charAt(0)?a($).slice(1):m($,parseFloat(M)),"string"==typeof $&&(D=$.match(C))&&(b[i][E]=D[1])):delete e[E]}}return c.apply(h,[g,function(t,n,s){for(i=h.length;i--;){v&&(s=u(T[i],t),h[i].style.left=s[0]+"px",h[i].style.top=s[1]+"px");for(var r in e)n=f(t,b,y,w,r,i),"transform"==r?h[i].style[O]=o(n):"opacity"!=r||A?h[i].style[l(r)]=n:h[i].style.filter="alpha(opacity="+100*n+")"}},p,_])}var _=document,v=window,y=v.performance,w=y&&(y.now||y.webkitNow||y.msNow||y.mozNow),b=w?function(){return w.call(y)}:function(){return+new Date},T=_.documentElement,x=!1,k=1e3,L=/^rgb\(|#/,S=/^([+\-])=([\d\.]+)/,C=/^(?:[\+\-]=?)?\d+(?:\.\d+)?(%|in|cm|mm|em|ex|pt|pc|px)$/,E=/rotate\(((?:[+\-]=)?([\-\d\.]+))deg\)/,D=/scale\(((?:[+\-]=)?([\d\.]+))\)/,M=/skew\(((?:[+\-]=)?([\-\d\.]+))deg, ?((?:[+\-]=)?([\-\d\.]+))deg\)/,$=/translate\(((?:[+\-]=)?([\-\d\.]+))px, ?((?:[+\-]=)?([\-\d\.]+))px\)/,P={lineHeight:1,zoom:1,zIndex:1,opacity:1,transform:1},O=function(){var t,e=_.createElement("a").style,i=["webkitTransform","MozTransform","OTransform","msTransform","Transform"];for(t=0;t<i.length;t++)if(i[t]in e)return i[t]}(),A=function(){return"undefined"!=typeof _.createElement("a").style.opacity}(),N=_.defaultView&&_.defaultView.getComputedStyle?function(t,e){e="transform"==e?O:e,e=l(e);var i=null,n=_.defaultView.getComputedStyle(t,"");return n&&(i=n[e]),t.style[e]||i}:T.currentStyle?function(t,e){if(e=l(e),"opacity"==e){var i=100;try{i=t.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(e){try{i=t.filters("alpha").opacity}catch(t){}}return i/100}var n=t.currentStyle?t.currentStyle[e]:null;return t.style[e]||n}:function(t,e){return t.style[l(e)]},I=function(){return v.requestAnimationFrame||v.webkitRequestAnimationFrame||v.mozRequestAnimationFrame||v.msRequestAnimationFrame||v.oRequestAnimationFrame||function(t){v.setTimeout(function(){t(+new Date)},17)}}(),z=[];return I(function(t){x=t>1e12!=b()>1e12}),g.tween=c,g.getStyle=N,g.bezier=u,g.transform=O,g.parseTransform=s,g.formatTransform=o,g.easings={},g}(),TL.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},TL.Point.prototype={add:function(t){return this.clone()._add(t)},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(t)},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t,e){return new TL.Point(this.x/t,this.y/t,e)},multiplyBy:function(t){return new TL.Point(this.x*t,this.y*t)},distanceTo:function(t){var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},clone:function(){return new TL.Point(this.x,this.y)},toString:function(){return"Point("+TL.Util.formatNum(this.x)+", "+TL.Util.formatNum(this.y)+")"}},TL.DomMixins={show:function(t){t||(this._el.container.style.display="block")},hide:function(t){this._el.container.style.display="none"},addTo:function(t){t.appendChild(this._el.container),this.onAdd()},removeFrom:function(t){t.removeChild(this._el.container),this.onRemove()},animatePosition:function(t,e){var i={duration:this.options.duration,easing:this.options.ease};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]+"px");this.animator&&this.animator.stop(),this.animator=TL.Animate(e,i)},onLoaded:function(){this.fire("loaded",this.data)},onAdd:function(){this.fire("added",this.data)},onRemove:function(){this.fire("removed",this.data)},setPosition:function(t,e){for(var i in t)t.hasOwnProperty(i)&&(e?e.style[i]=t[i]+"px":this._el.container.style[i]=t[i]+"px")},getPosition:function(){return TL.Dom.getPosition(this._el.container)}},TL.Dom={get:function(t){return"string"==typeof t?document.getElementById(t):t},getByClass:function(t){if(t)return document.getElementsByClassName(t)},create:function(t,e,i){var n=document.createElement(t);return n.className=e,i&&i.appendChild(n),n},createText:function(t,e){var i=document.createTextNode(t);return e&&e.appendChild(i),i},getTranslateString:function(t){return TL.Dom.TRANSLATE_OPEN+t.x+"px,"+t.y+"px"+TL.Dom.TRANSLATE_CLOSE},setPosition:function(t,e){t._tl_pos=e,TL.Browser.webkit3d?(t.style[TL.Dom.TRANSFORM]=TL.Dom.getTranslateString(e),TL.Browser.android&&(t.style["-webkit-perspective"]="1000",t.style["-webkit-backface-visibility"]="hidden")):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){for(var e={x:0,y:0};t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e.x+=t.offsetLeft,e.y+=t.offsetTop,t=t.offsetParent;return e},testProp:function(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}},TL.Util.mergeData(TL.Dom,{TRANSITION:TL.Dom.testProp(["transition","webkitTransition","OTransition","MozTransition","msTransition"]),TRANSFORM:TL.Dom.testProp(["transformProperty","WebkitTransform","OTransform","MozTransform","msTransform"]),TRANSLATE_OPEN:"translate"+(TL.Browser.webkit3d?"3d(":"("),TRANSLATE_CLOSE:TL.Browser.webkit3d?",0)":")"}),TL.DomUtil={get:function(t){return"string"==typeof t?document.getElementById(t):t},getStyle:function(t,e){var i=t.style[e];if(!i&&t.currentStyle&&(i=t.currentStyle[e]),!i||"auto"===i){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i},getViewportOffset:function(t){var e=0,i=0,n=t,s=document.body;do{if(e+=n.offsetTop||0,i+=n.offsetLeft||0,n.offsetParent===s&&"absolute"===TL.DomUtil.getStyle(n,"position"))break;n=n.offsetParent}while(n);n=t;do{if(n===s)break;e-=n.scrollTop||0,i-=n.scrollLeft||0,n=n.parentNode}while(n);return new TL.Point(i,e)},create:function(t,e,i){var n=document.createElement(t);return n.className=e,i&&i.appendChild(n),n},disableTextSelection:function(){document.selection&&document.selection.empty&&document.selection.empty(),this._onselectstart||(this._onselectstart=document.onselectstart,document.onselectstart=TL.Util.falseFn)},enableTextSelection:function(){document.onselectstart=this._onselectstart,this._onselectstart=null},hasClass:function(t,e){return t.className.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},addClass:function(t,e){TL.DomUtil.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},removeClass:function(t,e){t.className=t.className.replace(/(\S+)\s*/g,function(t,i){return i===e?"":t}).replace(/^\s+/,"")},setOpacity:function(t,e){TL.Browser.ie?t.style.filter="alpha(opacity="+Math.round(100*e)+")":t.style.opacity=e},testProp:function(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1},getTranslateString:function(t){return TL.DomUtil.TRANSLATE_OPEN+t.x+"px,"+t.y+"px"+TL.DomUtil.TRANSLATE_CLOSE},getScaleString:function(t,e){var i=TL.DomUtil.getTranslateString(e),n=" scale("+t+") ",s=TL.DomUtil.getTranslateString(e.multiplyBy(-1));return i+n+s},setPosition:function(t,e){t._tl_pos=e,TL.Browser.webkit3d?(t.style[TL.DomUtil.TRANSFORM]=TL.DomUtil.getTranslateString(e),TL.Browser.android&&(t.style["-webkit-perspective"]="1000",t.style["-webkit-backface-visibility"]="hidden")):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._tl_pos}},TL.DomEvent={addListener:function(t,e,i,n){var s=TL.Util.stamp(i),o="_tl_"+e+s;if(!t[o]){var r=function(e){return i.call(n||t,e||TL.DomEvent._getEvent())};if(TL.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener)this.addDoubleTapListener(t,r,s);else if("addEventListener"in t)if("mousewheel"===e)t.addEventListener("DOMMouseScroll",r,!1),t.addEventListener(e,r,!1);else if("mouseenter"===e||"mouseleave"===e){var a=r,l="mouseenter"===e?"mouseover":"mouseout";r=function(e){if(TL.DomEvent._checkMouse(t,e))return a(e)},t.addEventListener(l,r,!1)}else t.addEventListener(e,r,!1);else"attachEvent"in t&&t.attachEvent("on"+e,r);t[o]=r}},removeListener:function(t,e,i){var n=TL.Util.stamp(i),s="_tl_"+e+n,o=t[s];o&&(TL.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,n):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",o,!1),t.removeEventListener(e,o,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",o,!1):t.removeEventListener(e,o,!1):"detachEvent"in t&&t.detachEvent("on"+e,o),t[s]=null)},_checkMouse:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t},_getEvent:function(){var t=window.event;if(!t)for(var e=arguments.callee.caller;e&&(t=e.arguments[0],!t||window.Event!==t.constructor);)e=e.caller;return t},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},disableClickPropagation:function(t){TL.DomEvent.addListener(t,TL.Draggable.START,TL.DomEvent.stopPropagation),TL.DomEvent.addListener(t,"click",TL.DomEvent.stopPropagation),TL.DomEvent.addListener(t,"dblclick",TL.DomEvent.stopPropagation)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},stop:function(t){TL.DomEvent.preventDefault(t),TL.DomEvent.stopPropagation(t)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e}},TL.StyleSheet=TL.Class.extend({includes:[TL.Events],_el:{},initialize:function(){this.style=document.createElement("style"),this.style.appendChild(document.createTextNode("")),document.head.appendChild(this.style),this.sheet=this.style.sheet},addRule:function(t,e,i){var n=0;i&&(n=i),"insertRule"in this.sheet?this.sheet.insertRule(t+"{"+e+"}",n):"addRule"in this.sheet&&this.sheet.addRule(t,e,n)},onLoaded:function(t){this._state.loaded=!0,this.fire("loaded",this.data)}}),TL.Date=TL.Class.extend({initialize:function(t,e,i){"number"==typeof t?this.data={format:"yyyy mmmm",date_obj:new Date(t)}:Date==t.constructor?this.data={format:"yyyy mmmm",date_obj:t}:(this.data=JSON.parse(JSON.stringify(t)),this._createDateObj()),this._setFormat(e,i)},setDateFormat:function(t){this.data.format=t},getDisplayDate:function(t,e){if(this.data.display_date)return this.data.display_date;t||(t=TL.Language.fallback),t.constructor!=TL.Language&&(trace("First argument to getDisplayDate must be TL.Language"),t=TL.Language.fallback);var i=e||this.data.format;return t.formatDate(this.data.date_obj,i)},getMillisecond:function(){return this.getTime()},getTime:function(){return this.data.date_obj.getTime()},isBefore:function(t){if(!this.data.date_obj.constructor==t.data.date_obj.constructor)throw new TL.Error("date_compare_err");return"isBefore"in this.data.date_obj?this.data.date_obj.isBefore(t.data.date_obj):this.data.date_obj<t.data.date_obj},isAfter:function(t){if(!this.data.date_obj.constructor==t.data.date_obj.constructor)throw new TL.Error("date_compare_err");return"isAfter"in this.data.date_obj?this.data.date_obj.isAfter(t.data.date_obj):this.data.date_obj>t.data.date_obj},floor:function(t){for(var e=new Date(this.data.date_obj.getTime()),i=0;i<TL.Date.SCALES.length;i++)if(TL.Date.SCALES[i][2](e),TL.Date.SCALES[i][0]==t)return new TL.Date(e);throw new TL.Error("invalid_scale_err",t)},_getDateData:function(){var t={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0};TL.Util.mergeData(t,this.data);var e=TL.Date.DATE_PARTS;for(var i in e){var n=TL.Util.trim(t[e[i]]);if(!n.match(/^-?\d*$/))throw new TL.Error("invalid_date_err",e[i]+" = '"+t[e[i]]+"'");var s=parseInt(t[e[i]]);isNaN(s)&&(s=4==i||5==i?1:0),t[e[i]]=s}return t.month>0&&t.month<=12&&(t.month=t.month-1),t},_createDateObj:function(){var t=this._getDateData();this.data.date_obj=new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond),this.data.date_obj.getFullYear()!=t.year&&this.data.date_obj.setFullYear(t.year)},findBestFormat:function(t){for(var e=TL.Date.DATE_PARTS,i=0;i<e.length;i++)if(this.data[e[i]])return t?t in TL.Date.BEST_DATEFORMATS||(t="short"):t="base",TL.Date.BEST_DATEFORMATS[t][e[i]];return""},_setFormat:function(t,e){t?this.data.format=t:this.data.format||(this.data.format=this.findBestFormat()),e?this.data.format_short=e:this.data.format_short||(this.data.format_short=this.findBestFormat(!0))}}),TL.Date.makeDate=function(t){var e=new TL.Date(t);return isNaN(e.getTime())?new TL.BigDate(t):e},TL.BigYear=TL.Class.extend({initialize:function(t){if(this.year=parseInt(t),isNaN(this.year))throw new TL.Error("invalid_year_err",t)},isBefore:function(t){return this.year<t.year},isAfter:function(t){return this.year>t.year},getTime:function(){return this.year}}),function(t){t.SCALES=[["millisecond",1,function(t){}],["second",1e3,function(t){t.setMilliseconds(0)}],["minute",6e4,function(t){t.setSeconds(0)}],["hour",36e5,function(t){t.setMinutes(0)}],["day",864e5,function(t){t.setHours(0)}],["month",2592e6,function(t){t.setDate(1)}],["year",31536e6,function(t){t.setMonth(0)}],["decade",31536e7,function(t){var e=t.getFullYear();t.setFullYear(e-e%10)}],["century",31536e8,function(t){var e=t.getFullYear();t.setFullYear(e-e%100)}],["millennium",31536e9,function(t){var e=t.getFullYear();t.setFullYear(e-e%1e3)}]],t.DATE_PARTS=["millisecond","second","minute","hour","day","month","year"];var e=/^([\+-]?\d+?)(-\d{2}?)?(-\d{2}?)?$/,i=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;t.parseISODate=function(t){var e=new Date(t);if(isNaN(e))throw new TL.Error("invalid_date_err",t);return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}},t.parseDate=function(n){if(n.match(e)){var s=n.match(e).slice(1),o={year:s[0].replace("+","")};return s[1]&&(o.month=s[1].replace("-","")),s[2]&&(o.day=s[2].replace("-","")),o}if(n.match(i))return t.parseISODate(n);if(n.match(/^\-?\d+$/))return{year:n};var r={};if(n.match(/\d+\/\d+\/\d+/)){var a=n.match(/\d+\/\d+\/\d+/)[0];n=TL.Util.trim(n.replace(a,""));var l=a.split("/");r.month=l[0],r.day=l[1],r.year=l[2]}if(n.match(/\d+\/\d+/)){var a=n.match(/\d+\/\d+/)[0];n=TL.Util.trim(n.replace(a,""));var l=a.split("/");r.month=l[0],r.year=l[1]}if(n.match(":")){var d=n.split(":");r.hour=d[0],r.minute=d[1],d[2]&&(second_parts=d[2].split("."),r.second=second_parts[0],r.millisecond=second_parts[1])}return r},t.BEST_DATEFORMATS={base:{millisecond:"time_short",second:"time",minute:"time_no_seconds_small_date",hour:"time_no_seconds_small_date",day:"full",month:"month",year:"year",decade:"year",century:"year",millennium:"year",age:"fallback",epoch:"fallback",era:"fallback",eon:"fallback",eon2:"fallback"},short:{millisecond:"time_short",second:"time_short",minute:"time_no_seconds_short",hour:"time_no_minutes_short",day:"full_short",month:"month_short",year:"year",decade:"year",century:"year",millennium:"year",age:"fallback",epoch:"fallback",era:"fallback",eon:"fallback",eon2:"fallback"}}}(TL.Date),TL.BigDate=TL.Date.extend({initialize:function(t,e,i){TL.BigYear==t.constructor?this.data={date_obj:t}:(this.data=JSON.parse(JSON.stringify(t)),this._createDateObj()),this._setFormat(e,i)},_createDateObj:function(){var t=this._getDateData();this.data.date_obj=new TL.BigYear(t.year)},floor:function(t){for(var e=0;e<TL.BigDate.SCALES.length;e++)if(TL.BigDate.SCALES[e][0]==t){var i=TL.BigDate.SCALES[e][2](this.data.date_obj);return new TL.BigDate(i)}throw new TL.Error("invalid_scale_err",t)}}),function(t){var e=1e6,i=10*e,n=10*i,s=10*n,o=function(t){return function(e){var i=e.getTime();return new TL.BigYear(Math.floor(i/t)*t)}};t.SCALES=[["year",1,new o(1)],["decade",10,new o(10)],["century",100,new o(100)],["millennium",1e3,new o(1e3)],["age",e,new o(e)],["epoch",i,new o(i)],["era",n,new o(n)],["eon",s,new o(s)]]}(TL.BigDate),TL.DateUtil={get:function(t){return"string"==typeof t?document.getElementById(t):t},sortByDate:function(t,e){var e=e||"start_date";t.sort(function(t,i){return t[e].isBefore(i[e])?-1:t[e].isAfter(i[e])?1:0})},parseTime:function(t){var e={hour:null,minute:null,second:null,millisecond:null},i=null,n=t.match(/(\s*[AaPp]\.?[Mm]\.?\s*)$/);n&&(i=TL.Util.trim(n[0]),t=TL.Util.trim(t.substring(0,t.lastIndexOf(i))));var s=[],o=t.match(/^\s*(\d{1,2})(\d{2})\s*$/);if(o?s=o.slice(1):(s=t.split(":"),1==s.length&&(s=t.split("."))),s.length>4)throw new TL.Error("invalid_separator_error");if(e.hour=parseInt(s[0]),i&&"p"==i.toLowerCase()[0]&&12!=e.hour?e.hour+=12:i&&"a"==i.toLowerCase()[0]&&12==e.hour&&(e.hour=0),isNaN(e.hour)||e.hour<0||e.hour>23)throw new TL.Error("invalid_hour_err",e.hour);if(s.length>1&&(e.minute=parseInt(s[1]),isNaN(e.minute)))throw new TL.Error("invalid_minute_err",e.minute);if(s.length>2){var r=s[2].split(/[\.,]/);if(s=r.concat(s.slice(3)),s.length>2)throw new TL.Error("invalid_second_fractional_err");if(e.second=parseInt(s[0]),isNaN(e.second))throw new TL.Error("invalid_second_err");if(2==s.length){var a=parseInt(s[1]);if(isNaN(a))throw new TL.Error("invalid_fractional_err");e.millisecond=100*a}}return e},SCALE_DATE_CLASSES:{human:TL.Date,cosmological:TL.BigDate}},TL.Draggable=TL.Class.extend({includes:TL.Events,_el:{},mousedrag:{down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},touchdrag:{down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},initialize:function(t,e,i){this._el={drag:t,move:t},i&&(this._el.move=i),this.options={enable:{x:!0,y:!0},constraint:{top:!1,bottom:!1,left:!1,right:!1},momentum_multiplier:2e3,duration:1e3,ease:TL.Ease.easeInOutQuint},this.animator=null,this.dragevent=this.mousedrag,TL.Browser.touch&&(this.dragevent=this.touchdrag),this.data={sliding:!1,direction:"none",pagex:{start:0,end:0},pagey:{start:0,end:0},pos:{start:{x:0,y:0},end:{x:0,y:0}},new_pos:{x:0,y:0},new_pos_parent:{x:0,y:0},time:{start:0,end:0},touch:!1},TL.Util.mergeData(this.options,e)},enable:function(t){this.data.pos.start=0,this._el.move.style.left=this.data.pos.start.x+"px",this._el.move.style.top=this.data.pos.start.y+"px",this._el.move.style.position="absolute"},disable:function(){TL.DomEvent.removeListener(this._el.drag,this.dragevent.down,this._onDragStart,this),TL.DomEvent.removeListener(this._el.drag,this.dragevent.up,this._onDragEnd,this)},stopMomentum:function(){this.animator&&this.animator.stop()},updateConstraint:function(t){this.options.constraint=t},_onDragStart:function(t){TL.Browser.touch?t.originalEvent?(this.data.pagex.start=t.originalEvent.touches[0].screenX,this.data.pagey.start=t.originalEvent.touches[0].screenY):(this.data.pagex.start=t.targetTouches[0].screenX,this.data.pagey.start=t.targetTouches[0].screenY):(this.data.pagex.start=t.pageX,this.data.pagey.start=t.pageY),this.options.enable.x&&(this._el.move.style.left=this.data.pagex.start-this._el.move.offsetWidth/2+"px"),this.options.enable.y&&(this._el.move.style.top=this.data.pagey.start-this._el.move.offsetHeight/2+"px"),this.data.pos.start=TL.Dom.getPosition(this._el.drag),this.data.time.start=(new Date).getTime(),this.fire("dragstart",this.data),TL.DomEvent.addListener(this._el.drag,this.dragevent.move,this._onDragMove,this),TL.DomEvent.addListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this)},_onDragEnd:function(t){this.data.sliding=!1,TL.DomEvent.removeListener(this._el.drag,this.dragevent.move,this._onDragMove,this),TL.DomEvent.removeListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this),this.fire("dragend",this.data),this._momentum()},_onDragMove:function(t){
t.preventDefault(),this.data.sliding=!0,TL.Browser.touch?t.originalEvent?(this.data.pagex.end=t.originalEvent.touches[0].screenX,this.data.pagey.end=t.originalEvent.touches[0].screenY):(this.data.pagex.end=t.targetTouches[0].screenX,this.data.pagey.end=t.targetTouches[0].screenY):(this.data.pagex.end=t.pageX,this.data.pagey.end=t.pageY),this.data.pos.end=TL.Dom.getPosition(this._el.drag),this.data.new_pos.x=-(this.data.pagex.start-this.data.pagex.end-this.data.pos.start.x),this.data.new_pos.y=-(this.data.pagey.start-this.data.pagey.end-this.data.pos.start.y),this.options.enable.x&&(this._el.move.style.left=this.data.new_pos.x+"px"),this.options.enable.y&&(this._el.move.style.top=this.data.new_pos.y+"px"),this.fire("dragmove",this.data)},_momentum:function(){var t={x:0,y:0,time:0},e={x:0,y:0,time:0},i=!1;TL.Browser.touch,t.time=10*((new Date).getTime()-this.data.time.start),e.time=10*((new Date).getTime()-this.data.time.start),e.x=this.options.momentum_multiplier*(Math.abs(this.data.pagex.end)-Math.abs(this.data.pagex.start)),e.y=this.options.momentum_multiplier*(Math.abs(this.data.pagey.end)-Math.abs(this.data.pagey.start)),t.x=Math.round(e.x/e.time),t.y=Math.round(e.y/e.time),this.data.new_pos.x=Math.min(this.data.pos.end.x+t.x),this.data.new_pos.y=Math.min(this.data.pos.end.y+t.y),this.options.enable.x?this.data.new_pos.x<0&&(this.data.new_pos.x=0):this.data.new_pos.x=this.data.pos.start.x,this.options.enable.y?this.data.new_pos.y<0&&(this.data.new_pos.y=0):this.data.new_pos.y=this.data.pos.start.y,e.time<3e3&&(i=!0),Math.abs(e.x)>1e4&&(this.data.direction="left",e.x>0&&(this.data.direction="right")),Math.abs(e.y)>1e4&&(this.data.direction="up",e.y>0&&(this.data.direction="down")),this._animateMomentum(),i&&this.fire("swipe_"+this.data.direction,this.data)},_animateMomentum:function(){var t={x:this.data.new_pos.x,y:this.data.new_pos.y},e={duration:this.options.duration,easing:TL.Ease.easeOutStrong};this.options.enable.y&&((this.options.constraint.top||this.options.constraint.bottom)&&(t.y>this.options.constraint.bottom?t.y=this.options.constraint.bottom:t.y<this.options.constraint.top&&(t.y=this.options.constraint.top)),e.top=Math.floor(t.y)+"px"),this.options.enable.x&&((this.options.constraint.left||this.options.constraint.right)&&(t.x>this.options.constraint.left?t.x=this.options.constraint.left:t.x<this.options.constraint.right&&(t.x=this.options.constraint.right)),e.left=Math.floor(t.x)+"px"),this.animator=TL.Animate(this._el.move,e),this.fire("momentum",this.data)}}),TL.Swipable=TL.Class.extend({includes:TL.Events,_el:{},mousedrag:{down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},touchdrag:{down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},initialize:function(t,e,i){this._el={drag:t,move:t},e&&(this._el.move=e),this.options={snap:!1,enable:{x:!0,y:!0},constraint:{top:!1,bottom:!1,left:0,right:!1},momentum_multiplier:2e3,duration:1e3,ease:TL.Ease.easeInOutQuint},this.animator=null,this.dragevent=this.mousedrag,TL.Browser.touch&&(this.dragevent=this.touchdrag),this.data={sliding:!1,direction:"none",pagex:{start:0,end:0},pagey:{start:0,end:0},pos:{start:{x:0,y:0},end:{x:0,y:0}},new_pos:{x:0,y:0},new_pos_parent:{x:0,y:0},time:{start:0,end:0},touch:!1},TL.Util.mergeData(this.options,i)},enable:function(t){TL.DomEvent.addListener(this._el.drag,this.dragevent.down,this._onDragStart,this),TL.DomEvent.addListener(this._el.drag,this.dragevent.up,this._onDragEnd,this),this.data.pos.start=0,this._el.move.style.left=this.data.pos.start.x+"px",this._el.move.style.top=this.data.pos.start.y+"px",this._el.move.style.position="absolute"},disable:function(){TL.DomEvent.removeListener(this._el.drag,this.dragevent.down,this._onDragStart,this),TL.DomEvent.removeListener(this._el.drag,this.dragevent.up,this._onDragEnd,this)},stopMomentum:function(){this.animator&&this.animator.stop()},updateConstraint:function(t){this.options.constraint=t},_onDragStart:function(t){this.animator&&this.animator.stop(),TL.Browser.touch?t.originalEvent?(this.data.pagex.start=t.originalEvent.touches[0].screenX,this.data.pagey.start=t.originalEvent.touches[0].screenY):(this.data.pagex.start=t.targetTouches[0].screenX,this.data.pagey.start=t.targetTouches[0].screenY):(this.data.pagex.start=t.pageX,this.data.pagey.start=t.pageY),this.options.enable.x,this.options.enable.y,this.data.pos.start={x:this._el.move.offsetLeft,y:this._el.move.offsetTop},this.data.time.start=(new Date).getTime(),this.fire("dragstart",this.data),TL.DomEvent.addListener(this._el.drag,this.dragevent.move,this._onDragMove,this),TL.DomEvent.addListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this)},_onDragEnd:function(t){this.data.sliding=!1,TL.DomEvent.removeListener(this._el.drag,this.dragevent.move,this._onDragMove,this),TL.DomEvent.removeListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this),this.fire("dragend",this.data),this._momentum()},_onDragMove:function(t){var e={x:0,y:0};this.data.sliding=!0,TL.Browser.touch?t.originalEvent?(this.data.pagex.end=t.originalEvent.touches[0].screenX,this.data.pagey.end=t.originalEvent.touches[0].screenY):(this.data.pagex.end=t.targetTouches[0].screenX,this.data.pagey.end=t.targetTouches[0].screenY):(this.data.pagex.end=t.pageX,this.data.pagey.end=t.pageY),e.x=this.data.pagex.start-this.data.pagex.end,e.y=this.data.pagey.start-this.data.pagey.end,this.data.pos.end={x:this._el.drag.offsetLeft,y:this._el.drag.offsetTop},this.data.new_pos.x=-(e.x-this.data.pos.start.x),this.data.new_pos.y=-(e.y-this.data.pos.start.y),this.options.enable.x&&Math.abs(e.x)>Math.abs(e.y)&&(t.preventDefault(),this._el.move.style.left=this.data.new_pos.x+"px"),this.options.enable.y&&Math.abs(e.y)>Math.abs(e.y)&&(t.preventDefault(),this._el.move.style.top=this.data.new_pos.y+"px"),this.fire("dragmove",this.data)},_momentum:function(){var t={x:0,y:0,time:0},e={x:0,y:0,time:0},i={x:!1,y:!1},n=!1;this.data.direction=null,t.time=10*((new Date).getTime()-this.data.time.start),e.time=10*((new Date).getTime()-this.data.time.start),e.x=this.options.momentum_multiplier*(Math.abs(this.data.pagex.end)-Math.abs(this.data.pagex.start)),e.y=this.options.momentum_multiplier*(Math.abs(this.data.pagey.end)-Math.abs(this.data.pagey.start)),t.x=Math.round(e.x/e.time),t.y=Math.round(e.y/e.time),this.data.new_pos.x=Math.min(this.data.new_pos.x+t.x),this.data.new_pos.y=Math.min(this.data.new_pos.y+t.y),this.options.enable.x?this.options.constraint.left&&this.data.new_pos.x>this.options.constraint.left&&(this.data.new_pos.x=this.options.constraint.left):this.data.new_pos.x=this.data.pos.start.x,this.options.enable.y?this.data.new_pos.y<0&&(this.data.new_pos.y=0):this.data.new_pos.y=this.data.pos.start.y,e.time<2e3&&(n=!0),this.options.enable.x&&this.options.enable.y?Math.abs(e.x)>Math.abs(e.y)?i.x=!0:i.y=!0:this.options.enable.x?Math.abs(e.x)>Math.abs(e.y)&&(i.x=!0):Math.abs(e.y)>Math.abs(e.x)&&(i.y=!0),i.x&&(Math.abs(e.x)>this._el.drag.offsetWidth/2&&(n=!0),Math.abs(e.x)>1e4&&(this.data.direction="left",e.x>0&&(this.data.direction="right"))),i.y&&(Math.abs(e.y)>this._el.drag.offsetHeight/2&&(n=!0),Math.abs(e.y)>1e4&&(this.data.direction="up",e.y>0&&(this.data.direction="down"))),e.time<1e3||this._animateMomentum(),n&&this.data.direction?this.fire("swipe_"+this.data.direction,this.data):this.data.direction?this.fire("swipe_nodirection",this.data):this.options.snap&&(this.animator.stop(),this.animator=TL.Animate(this._el.move,{top:this.data.pos.start.y,left:this.data.pos.start.x,duration:this.options.duration,easing:TL.Ease.easeOutStrong}))},_animateMomentum:function(){var t={x:this.data.new_pos.x,y:this.data.new_pos.y},e={duration:this.options.duration,easing:TL.Ease.easeOutStrong};this.options.enable.y&&((this.options.constraint.top||this.options.constraint.bottom)&&(t.y>this.options.constraint.bottom?t.y=this.options.constraint.bottom:t.y<this.options.constraint.top&&(t.y=this.options.constraint.top)),e.top=Math.floor(t.y)+"px"),this.options.enable.x&&(this.options.constraint.left&&t.x>=this.options.constraint.left&&(t.x=this.options.constraint.left),this.options.constraint.right&&t.x<this.options.constraint.right&&(t.x=this.options.constraint.right),e.left=Math.floor(t.x)+"px"),this.animator=TL.Animate(this._el.move,e),this.fire("momentum",this.data)}}),TL.MenuBar=TL.Class.extend({includes:[TL.Events,TL.DomMixins],_el:{},initialize:function(t,e,i){this._el={parent:{},container:{},button_backtostart:{},button_zoomin:{},button_zoomout:{},arrow:{},line:{},coverbar:{},grip:{}},this.collapsed=!1,"object"==typeof t?this._el.container=t:this._el.container=TL.Dom.get(t),e&&(this._el.parent=e),this.options={width:600,height:600,duration:1e3,ease:TL.Ease.easeInOutQuint,menubar_default_y:0},this.animator={},TL.Util.mergeData(this.options,i),this._initLayout(),this._initEvents()},show:function(t){var e=this.options.duration;t&&(e=t)},hide:function(t){},toogleZoomIn:function(t){t?TL.DomUtil.removeClass(this._el.button_zoomin,"tl-menubar-button-inactive"):TL.DomUtil.addClass(this._el.button_zoomin,"tl-menubar-button-inactive")},toogleZoomOut:function(t){t?TL.DomUtil.removeClass(this._el.button_zoomout,"tl-menubar-button-inactive"):TL.DomUtil.addClass(this._el.button_zoomout,"tl-menubar-button-inactive")},setSticky:function(t){this.options.menubar_default_y=t},setColor:function(t){t?this._el.container.className="tl-menubar tl-menubar-inverted":this._el.container.className="tl-menubar"},updateDisplay:function(t,e,i,n){this._updateDisplay(t,e,i,n)},_onButtonZoomIn:function(t){this.fire("zoom_in",t)},_onButtonZoomOut:function(t){this.fire("zoom_out",t)},_onButtonBackToStart:function(t){this.fire("back_to_start",t)},_initLayout:function(){this._el.button_zoomin=TL.Dom.create("span","tl-menubar-button",this._el.container),this._el.button_zoomout=TL.Dom.create("span","tl-menubar-button",this._el.container),this._el.button_backtostart=TL.Dom.create("span","tl-menubar-button",this._el.container),TL.Browser.mobile&&this._el.container.setAttribute("ontouchstart"," "),this._el.button_backtostart.innerHTML="<span class='tl-icon-goback'></span>",this._el.button_zoomin.innerHTML="<span class='tl-icon-zoom-in'></span>",this._el.button_zoomout.innerHTML="<span class='tl-icon-zoom-out'></span>"},_initEvents:function(){TL.DomEvent.addListener(this._el.button_backtostart,"click",this._onButtonBackToStart,this),TL.DomEvent.addListener(this._el.button_zoomin,"click",this._onButtonZoomIn,this),TL.DomEvent.addListener(this._el.button_zoomout,"click",this._onButtonZoomOut,this)},_updateDisplay:function(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e)}}),TL.Message=TL.Class.extend({includes:[TL.Events,TL.DomMixins,TL.I18NMixins],_el:{},initialize:function(t,e,i){this._el={parent:{},container:{},message_container:{},loading_icon:{},message:{}},this.options={width:600,height:600,message_class:"tl-message",message_icon_class:"tl-loading-icon"},this._add_to_container=i||{},TL.Util.mergeData(this.data,t),TL.Util.mergeData(this.options,e),this._el.container=TL.Dom.create("div",this.options.message_class),i&&(i.appendChild(this._el.container),this._el.parent=i),this.animator={},this._initLayout(),this._initEvents()},updateMessage:function(t){this._updateMessage(t)},updateDisplay:function(t,e){this._updateDisplay(t,e)},_updateMessage:function(t){t?this._el.message.innerHTML=t:this._el.message.innerHTML=this._("loading"),!this._el.parent.atrributes&&this._add_to_container.attributes&&(this._add_to_container.appendChild(this._el.container),this._el.parent=this._add_to_container)},_onMouseClick:function(){this.fire("clicked",this.options)},_onRemove:function(){this._el.parent={}},_initLayout:function(){this._el.message_container=TL.Dom.create("div","tl-message-container",this._el.container),this._el.loading_icon=TL.Dom.create("div",this.options.message_icon_class,this._el.message_container),this._el.message=TL.Dom.create("div","tl-message-content",this._el.message_container),this._updateMessage()},_initEvents:function(){TL.DomEvent.addListener(this._el.container,"click",this._onMouseClick,this),TL.DomEvent.addListener(this,"removed",this._onRemove,this)},_updateDisplay:function(t,e,i){}}),TL.MediaType=function(t,e){var i={},n=[{type:"youtube",name:"YouTube",match_str:"^(https?:)?/*(www.)?youtube|youtu.be",cls:TL.Media.YouTube},{type:"vimeo",name:"Vimeo",match_str:"^(https?:)?/*(player.)?vimeo.com",cls:TL.Media.Vimeo},{type:"dailymotion",name:"DailyMotion",match_str:"^(https?:)?/*(www.)?dailymotion.com",cls:TL.Media.DailyMotion},{type:"vine",name:"Vine",match_str:"^(https?:)?/*(www.)?vine.co",cls:TL.Media.Vine},{type:"soundcloud",name:"SoundCloud",match_str:"^(https?:)?/*(player.)?soundcloud.com",cls:TL.Media.SoundCloud},{type:"twitter",name:"Twitter",match_str:"^(https?:)?/*(www.)?twitter.com",cls:TL.Media.Twitter},{type:"twitterembed",name:"TwitterEmbed",match_str:'<blockquote class="twitter-tweet"',cls:TL.Media.TwitterEmbed},{type:"googlemaps",name:"Google Map",match_str:/google.+?\/maps\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/search\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/place\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/dir\/([\w\W]+)\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)/,cls:TL.Media.GoogleMap},{type:"googleplus",name:"Google+",match_str:"^(https?:)?/*plus.google",cls:TL.Media.GooglePlus},{type:"flickr",name:"Flickr",match_str:"^(https?:)?/*(www.)?flickr.com/photos",cls:TL.Media.Flickr},{type:"flickr",name:"Flickr",match_str:"^(https?://)?flic.kr/.*",cls:TL.Media.Flickr},{type:"instagram",name:"Instagram",match_str:/^(https?:)?\/*(www.)?(instagr.am|^(https?:)?\/*(www.)?instagram.com)\/p\//,cls:TL.Media.Instagram},{type:"profile",name:"Profile",match_str:/^(https?:)?\/*(www.)?instagr.am\/[a-zA-Z0-9]{2,}|^(https?:)?\/*(www.)?instagram.com\/[a-zA-Z0-9]{2,}/,cls:TL.Media.Profile},{type:"documentcloud",name:"Document Cloud",match_str:/documentcloud.org\//,cls:TL.Media.DocumentCloud},{type:"image",name:"Image",match_str:/(jpg|jpeg|png|gif|svg)(\?.*)?$/i,cls:TL.Media.Image},{type:"imgur",name:"Imgur",match_str:/^.*imgur.com\/.+$/i,cls:TL.Media.Imgur},{type:"googledocs",name:"Google Doc",match_str:"^(https?:)?/*[^.]*.google.com/[^/]*/d/[^/]*/[^/]*?usp=sharing|^(https?:)?/*drive.google.com/open?id=[^&]*&authuser=0|^(https?:)?/*drive.google.com/open?id=[^&]*|^(https?:)?/*[^.]*.googledrive.com/host/[^/]*/",cls:TL.Media.GoogleDoc},{type:"pdf",name:"PDF",match_str:/^.*\.pdf(\?.*)?(\#.*)?/,cls:TL.Media.PDF},{type:"wikipedia",name:"Wikipedia",match_str:"^(https?:)?/*(www.)?wikipedia.org|^(https?:)?/*([a-z][a-z].)?wikipedia.org",cls:TL.Media.Wikipedia},{type:"spotify",name:"spotify",match_str:"spotify",cls:TL.Media.Spotify},{type:"iframe",name:"iFrame",match_str:"iframe",cls:TL.Media.IFrame},{type:"storify",name:"Storify",match_str:"storify",cls:TL.Media.Storify},{type:"blockquote",name:"Quote",match_str:"blockquote",cls:TL.Media.Blockquote},{type:"imageblank",name:"Imageblank",match_str:"",cls:TL.Media.Image}];if(e){if(t instanceof Array)return!1;for(var s=0;s<n.length;s++)switch(n[s].type){case"flickr":case"image":case"imgur":case"instagram":if(t.url.match(n[s].match_str))return i=n[s]}}else for(var s=0;s<n.length;s++){if(t instanceof Array)return i={type:"slider",cls:TL.Media.Slider};if(t.url.match(n[s].match_str))return i=n[s]}return!1},TL.Media=TL.Class.extend({includes:[TL.Events,TL.I18NMixins],_el:{},initialize:function(t,e,i){this._el={container:{},content_container:{},content:{},content_item:{},content_link:{},caption:null,credit:null,parent:{},link:null},this.player=null,this.timer=null,this.load_timer=null,this.message=null,this.media_id=null,this._state={loaded:!1,show_meta:!1,media_loaded:!1},this.data={unique_id:null,url:null,credit:null,caption:null,credit_alternate:null,caption_alternate:null,link:null,link_target:null},this.options={api_key_flickr:"f2cc870b4d233dd0a5bfe73fd0d64ef0",api_key_googlemaps:"AIzaSyB9dW8e_iRrATFa8g24qB6BDBGdkrLDZYI",api_key_embedly:"",credit_height:0,caption_height:0,background:0},this.animator={},TL.Util.mergeData(this.options,e),TL.Util.mergeData(this.data,t),this.options.background||(this._el.container=TL.Dom.create("div","tl-media"),this.data.unique_id&&(this._el.container.id=this.data.unique_id),this._initLayout(),i&&(i.appendChild(this._el.container),this._el.parent=i))},loadMedia:function(){var t=this;if(!this._state.loaded)try{this.load_timer=setTimeout(function(){t.loadingMessage(),t._loadMedia(),t._updateDisplay()},1200)}catch(t){trace("Error loading media for ",this._media),trace(t)}},_updateMessage:function(t){this.message&&this.message.updateMessage(t)},loadingMessage:function(){this._updateMessage(this._("loading")+" "+this.options.media_name)},errorMessage:function(t){t=t?this._("error")+": "+t:this._("error"),this._updateMessage(t)},updateMediaDisplay:function(t){this._state.loaded&&!this.options.background&&(TL.Browser.mobile?this._el.content_item.style.maxHeight=this.options.height/2+"px":this._el.content_item.style.maxHeight=this.options.height-this.options.credit_height-this.options.caption_height-30+"px",this._el.container.style.maxWidth=this.options.width+"px",TL.Browser.firefox&&this._el.content_item.offsetWidth>this._el.content_item.offsetHeight,this._updateMediaDisplay(t),this._state.media_loaded&&(this._el.credit&&(this._el.credit.style.width=this._el.content_item.offsetWidth+"px"),this._el.caption&&(this._el.caption.style.width=this._el.content_item.offsetWidth+"px")))},_loadMedia:function(){this.onLoaded()},_updateMediaDisplay:function(t){TL.Browser.firefox&&(this._el.content_item.style.maxWidth=this.options.width+"px",this._el.content_item.style.width="auto")},_getMeta:function(){},_getImageURL:function(t,e){return""},show:function(){},hide:function(){},addTo:function(t){t.appendChild(this._el.container),this.onAdd()},removeFrom:function(t){t.removeChild(this._el.container),this.onRemove()},getImageURL:function(t,e){return this._getImageURL(t,e)},updateDisplay:function(t,e,i){this._updateDisplay(t,e,i)},stopMedia:function(){this._stopMedia()},loadErrorDisplay:function(t){try{this._el.content.removeChild(this._el.content_item)}catch(t){}this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-loaderror",this._el.content),this._el.content_item.innerHTML="<div class='tl-icon-"+this.options.media_type+"'></div><p>"+t+"</p>",this.onLoaded(!0)},onLoaded:function(t){this._state.loaded=!0,this.fire("loaded",this.data),this.message&&this.message.hide(),t||this.options.background||this.showMeta(),this.updateDisplay()},onMediaLoaded:function(t){this._state.media_loaded=!0,this.fire("media_loaded",this.data),this._el.credit&&(this._el.credit.style.width=this._el.content_item.offsetWidth+"px"),this._el.caption&&(this._el.caption.style.width=this._el.content_item.offsetWidth+"px")},showMeta:function(t,e){this._state.show_meta=!0,this.data.credit&&""!=this.data.credit&&(this._el.credit=TL.Dom.create("div","tl-credit",this._el.content_container),this._el.credit.innerHTML=1==this.options.autolink?TL.Util.linkify(this.data.credit):this.data.credit,this.options.credit_height=this._el.credit.offsetHeight),this.data.caption&&""!=this.data.caption&&(this._el.caption=TL.Dom.create("div","tl-caption",this._el.content_container),this._el.caption.innerHTML=1==this.options.autolink?TL.Util.linkify(this.data.caption):this.data.caption,this.options.caption_height=this._el.caption.offsetHeight),this.data.caption&&this.data.credit||this.getMeta()},getMeta:function(){this._getMeta()},updateMeta:function(){!this.data.credit&&this.data.credit_alternate&&(this._el.credit=TL.Dom.create("div","tl-credit",this._el.content_container),this._el.credit.innerHTML=this.data.credit_alternate,this.options.credit_height=this._el.credit.offsetHeight),!this.data.caption&&this.data.caption_alternate&&(this._el.caption=TL.Dom.create("div","tl-caption",this._el.content_container),this._el.caption.innerHTML=this.data.caption_alternate,this.options.caption_height=this._el.caption.offsetHeight),this.updateDisplay()},onAdd:function(){this.fire("added",this.data)},onRemove:function(){this.fire("removed",this.data)},_initLayout:function(){this.message=new TL.Message({},this.options),this.message.addTo(this._el.container),this._el.content_container=TL.Dom.create("div","tl-media-content-container",this._el.container),this.data.link&&""!=this.data.link?(this._el.link=TL.Dom.create("a","tl-media-link",this._el.content_container),this._el.link.href=this.data.link,this.data.link_target&&""!=this.data.link_target?this._el.link.target=this.data.link_target:this._el.link.target="_blank",this._el.content=TL.Dom.create("div","tl-media-content",this._el.link)):this._el.content=TL.Dom.create("div","tl-media-content",this._el.content_container)},_updateDisplay:function(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e),i&&(this.options.layout=i),this._el.credit&&(this.options.credit_height=this._el.credit.offsetHeight),this._el.caption&&(this.options.caption_height=this._el.caption.offsetHeight+5),this.updateMediaDisplay(this.options.layout)},_stopMedia:function(){}}),TL.Media.Blockquote=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-blockquote",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this.media_id=this.data.url,this._el.content_item.innerHTML=this.media_id,this.onLoaded()},updateMediaDisplay:function(){},_updateMediaDisplay:function(){}}),TL.Media.DailyMotion=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe tl-media-dailymotion",this._el.content),this.data.url.match("video")?this.media_id=this.data.url.split("video/")[1].split(/[?&]/)[0]:this.media_id=this.data.url.split("embed/")[1].split(/[?&]/)[0],t="https://www.dailymotion.com/embed/video/"+this.media_id,this._el.content_item.innerHTML="<iframe autostart='false' frameborder='0' width='100%' height='100%' src='"+t+"'></iframe>",this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.height=TL.Util.ratio.r16_9({w:this._el.content_item.offsetWidth})+"px"}}),TL.Media.DocumentCloud=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t=this;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-documentcloud tl-media-shadow",this._el.content),this._el.content_item.id=TL.Util.unique_ID(7),this.data.url.match(/\.html$/)?this.data.url=this._transformURL(this.data.url):this.data.url.match(/.(json|js)$/)||trace("DOCUMENT CLOUD IN URL BUT INVALID SUFFIX"),TL.Load.js(["https://assets.documentcloud.org/viewer/loader.js","https://assets.documentcloud.org/viewer/viewer.js"],function(){t.createMedia()})},_transformURL:function(t){return t.replace(/(.*)\.html$/,"$1.js")},_updateMediaDisplay:function(){this._el.content_item.style.height=this.options.height+"px"},createMedia:function(){DV.load(this.data.url,{container:"#"+this._el.content_item.id,showSidebar:!1}),this.onLoaded()}}),TL.Media.Flickr=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t,e=this;try{this.establishMediaID(),t="https://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key="+this.options.api_key_flickr+"&photo_id="+this.media_id+"&format=json&jsoncallback=?",TL.getJSON(t,function(t){"ok"==t.stat?(e.sizes=t.sizes.size,e.options.background||e.createMedia(),e.onLoaded()):e.loadErrorDisplay(e._("flickr_notfound_err"))})}catch(t){e.loadErrorDisplay(e._(t.message_key))}},establishMediaID:function(){if(this.data.url.match(/flic.kr\/.+/i)){var t=this.data.url.split("/").slice(-1)[0];this.media_id=TL.Util.base58.decode(t)}else{var e="flickr.com/photos/",i=this.data.url.indexOf(e);if(i==-1)throw new TL.Error("flickr_invalidurl_err");var n=i+e.length;this.media_id=this.data.url.substr(n).split("/")[1]}},createMedia:function(){var t=this;this._el.content_link=TL.Dom.create("a","",this._el.content),this._el.content_link.href=this.data.url,this._el.content_link.target="_blank",this._el.content_item=TL.Dom.create("img","tl-media-item tl-media-image tl-media-flickr tl-media-shadow",this._el.content_link),this._el.content_item.addEventListener("load",function(e){t.onMediaLoaded()}),this._el.content_item.src=this.getImageURL(this.options.width,this.options.height)},getImageURL:function(t,e){for(var i=this.size_label(e),n=this.sizes[this.sizes.length-2].source,s=0;s<this.sizes.length;s++)this.sizes[s].label==i&&(n=this.sizes[s].source);return n},_getMeta:function(){var t,e=this;t="https://api.flickr.com/services/rest/?method=flickr.photos.getInfo&api_key="+this.options.api_key_flickr+"&photo_id="+this.media_id+"&format=json&jsoncallback=?",TL.getJSON(t,function(t){e.data.credit_alternate="<a href='"+e.data.url+"' target='_blank'>"+t.photo.owner.realname+"</a>",e.data.caption_alternate=t.photo.title._content+" "+t.photo.description._content,e.updateMeta()})},size_label:function(t){var e="";return e=t<=75?t<=0?"Large":"Thumbnail":t<=180?"Small":t<=240?"Small 320":t<=375?"Medium":t<=480?"Medium 640":"Large"}}),TL.Media.GoogleDoc=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t;if(this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe",this._el.content),this.data.url.match("open?id="))this.media_id=this.data.url.split("open?id=")[1],this.data.url.match("&authuser=0")&&(t=this.media_id.match("&authuser=0")[0]);else if(this.data.url.match(/file\/d\/([^\/]*)\/?/)){var e=this.data.url.match(/file\/d\/([^\/]*)\/?/)[1];t="https://drive.google.com/file/d/"+e+"/preview"}else t=this.data.url;this._el.content_item.innerHTML="<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+t+"'></iframe>",this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.height=this.options.height+"px"}}),TL.Media.GooglePlus=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-googleplus",this._el.content),this.media_id=this.data.url,t=this.media_id,this._el.content_item.innerHTML="<iframe frameborder='0' width='100%' height='100%' src='"+t+"'></iframe>",this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.height=this.options.height+"px"}}),TL.Media.IFrame=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe",this._el.content),this.media_id=this.data.url,t=this.media_id,this._el.content_item.innerHTML=t,this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.height=this.options.height+"px"}}),TL.Media.Image=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()},createMedia:function(){var t=this,e="tl-media-item tl-media-image tl-media-shadow";(this.data.url.match(/.png(\?.*)?$/)||this.data.url.match(/.svg(\?.*)?$/))&&(e="tl-media-item tl-media-image"),this.data.link?(this._el.content_link=TL.Dom.create("a","",this._el.content),this._el.content_link.href=this.data.link,this._el.content_link.target="_blank",this._el.content_item=TL.Dom.create("img",e,this._el.content_link)):this._el.content_item=TL.Dom.create("img",e,this._el.content),this._el.content_item.addEventListener("load",function(e){t.onMediaLoaded()}),this._el.content_item.src=this.getImageURL()},getImageURL:function(t,e){return TL.Util.transformImageURL(this.data.url)},_updateMediaDisplay:function(t){TL.Browser.firefox&&(this._el.content_item.style.width="auto")}}),TL.Media.Imgur=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){try{this.media_id=this.data.url.split("/").slice(-1)[0],this.options.background||this.createMedia(),this.onLoaded()}catch(t){this.loadErrorDisplay(this._("imgur_invalidurl_err"))}},createMedia:function(){var t=this;this._el.content_link=TL.Dom.create("a","",this._el.content),this._el.content_link.href=this.data.url,this._el.content_link.target="_blank",this._el.content_item=TL.Dom.create("img","tl-media-item tl-media-image tl-media-imgur tl-media-shadow",this._el.content_link),this._el.content_item.addEventListener("load",function(e){t.onMediaLoaded()}),this._el.content_item.src=this.getImageURL()},getImageURL:function(t,e){return"https://i.imgur.com/"+this.media_id+".jpg"}}),TL.Media.Instagram=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this.media_id=this.data.url.split("/p/")[1].split("/")[0],this.options.background||this.createMedia(),this.onLoaded()},createMedia:function(){var t=this;this._el.content_link=TL.Dom.create("a","",this._el.content),this._el.content_link.href=this.data.url,this._el.content_link.target="_blank",this._el.content_item=TL.Dom.create("img","tl-media-item tl-media-image tl-media-instagram tl-media-shadow",this._el.content_link),this._el.content_item.addEventListener("load",function(e){t.onMediaLoaded()}),this._el.content_item.src=this.getImageURL(this._el.content.offsetWidth)},getImageURL:function(t,e){return"https://instagram.com/p/"+this.media_id+"/media/?size="+this.sizes(t)},_getMeta:function(){var t,e=this;t="https://api.instagram.com/oembed?url=https://instagr.am/p/"+this.media_id+"&callback=?",TL.getJSON(t,function(t){e.data.credit_alternate="<a href='"+t.author_url+"' target='_blank'>"+t.author_name+"</a>",e.data.caption_alternate=t.title,e.updateMeta()})},sizes:function(t){var e="";return e=t<=150?"t":t<=306?"m":"l"}}),TL.Media.GoogleMap=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-map tl-media-shadow",this._el.content),this.media_id=this.data.url,this.mapframe=TL.Dom.create("iframe","",this._el.content_item),window.stash=this,this.mapframe.width="100%",this.mapframe.height="100%",this.mapframe.frameBorder="0",this.mapframe.src=this.makeGoogleMapsEmbedURL(this.media_id,this.options.api_key_googlemaps),this.onLoaded()},_updateMediaDisplay:function(){if(this._state.loaded){var t=TL.Util.ratio.square({w:this._el.content_item.offsetWidth});this._el.content_item.style.height=t.h+"px"}},makeGoogleMapsEmbedURL:function(t,e){function i(t){function i(e,i){if("z"==e.slice(-1))i.zoom=e;else if("m"==e.slice(-1))i.zoom=14,i.maptype="satellite";else if("t"==e.slice(-1)){if(n=!0,"place"==mapmode)var o=t.match(d.place)[3]+","+t.match(d.place)[4];else{var o=i.center;delete i.center}i={},i.location=o,streetview_params=e.split(",");for(param in s.streetview){var r=parseInt(param)+1;"pitch"==s.streetview[param]&&"90t"==streetview_params[r]?i[s.streetview[param]]=0:i[s.streetview[param]]=streetview_params[r].slice(0,-1)}}return i}function o(t,o){var r={},a=o[1],l=o[o.length-1];for(param in s[t]){var d=parseInt(param)+2;"center"==s[t][param]?r[s[t][param]]=o[d]+","+o[++d]:r[s[t][param]]=o[d]}return r=i(l,r),r.key=e,1==n&&(t="streetview"),a+"/embed/v1/"+t+TL.Util.getParamString(r)}return mapmode="view",t.match(d.place)?mapmode="place":t.match(d.directions)?mapmode="directions":t.match(d.search)&&(mapmode="search"),o(mapmode,t.match(d[mapmode]))}var n=!1,s={view:["center"],place:["q","center"],directions:["origin","destination","center"],search:["q","center"],streetview:["fov","heading","pitch"]},o=/(https:\/\/.+google.+?\/maps)/,r=/@([-\d.]+),([-\d.]+)/,a=/([\w\W]+)/,l=/,((?:[-\d.]+[zmayht],?)*)/,d={view:new RegExp(o.source+"/"+r.source+l.source),place:new RegExp(o.source+"/place/"+a.source+"/"+r.source+l.source),directions:new RegExp(o.source+"/dir/"+a.source+"/"+a.source+"/"+r.source+l.source),search:new RegExp(o.source+"/search/"+a.source+"/"+r.source+l.source)};return i(t)}}),TL.Media.PDF=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t=TL.Util.transformImageURL(this.data.url);this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe",this._el.content);var e="";e=TL.Browser.ie||TL.Browser.edge||t.match(/dl.dropboxusercontent.com/)?"<iframe class='doc' frameborder='0' width='100%' height='100%' src='//docs.google.com/viewer?url="+t+"&amp;embedded=true'></iframe>":"<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+t+"'></iframe>",
this._el.content_item.innerHTML=e,this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.height=this.options.height+"px"}}),TL.Media.Profile=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this._el.content_item=TL.Dom.create("img","tl-media-item tl-media-image tl-media-profile tl-media-shadow",this._el.content),this._el.content_item.src=this.data.url,this.onLoaded()},_updateMediaDisplay:function(t){TL.Browser.firefox&&(this._el.content_item.style.maxWidth=this.options.width/2-40+"px")}}),TL.Media.Slider=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this._el.content_item=TL.Dom.create("img","tl-media-item tl-media-image",this._el.content),this._el.content_item.src=this.data.url,this.onLoaded()}}),TL.Media.SoundCloud=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t,e=this;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe tl-media-soundcloud tl-media-shadow",this._el.content),this.media_id=this.data.url,t="https://soundcloud.com/oembed?url="+this.media_id+"&format=js&callback=?",TL.getJSON(t,function(t){e.createMedia(t)})},createMedia:function(t){this._el.content_item.innerHTML=t.html,this.onLoaded()}}),TL.Media.Spotify=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t;if(this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe tl-media-spotify",this._el.content),(this.data.url.match(/^spotify:track/)||this.data.url.match(/^spotify:user:.+:playlist:/))&&(this.media_id=this.data.url),this.data.url.match(/spotify.com\/track\/(.+)/))this.media_id="spotify:track:"+this.data.url.match(/spotify.com\/track\/(.+)/)[1];else if(this.data.url.match(/spotify.com\/user\/(.+?)\/playlist\/(.+)/)){var e=this.data.url.match(/spotify.com\/user\/(.+?)\/playlist\/(.+)/)[1],i=this.data.url.match(/spotify.com\/user\/(.+?)\/playlist\/(.+)/)[2];this.media_id="spotify:user:"+e+":playlist:"+i}this.media_id?(t="https://embed.spotify.com/?uri="+this.media_id+"&theme=white&view=coverart",this.player=TL.Dom.create("iframe","tl-media-shadow",this._el.content_item),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=t,this.onLoaded()):this.loadErrorDisplay(this._("spotify_invalid_url"))},_updateMediaDisplay:function(t){var e=this.options.height,i=0,n=0;e=TL.Browser.mobile?this.options.height/2:this.options.height-this.options.credit_height-this.options.caption_height-30,this._el.content_item.style.maxHeight="none",trace(e),trace(this.options.width),e>this.options.width?(trace("height is greater"),i=this.options.width+80+"px",n=this.options.width+"px"):(trace("width is greater"),trace(this.options.width),i=e+"px",n=e-80+"px"),this.player.style.width=n,this.player.style.height=i,this._el.credit&&(this._el.credit.style.width=n),this._el.caption&&(this._el.caption.style.width=n)},_stopMedia:function(){}}),TL.Media.Storify=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe tl-media-storify",this._el.content),this.media_id=this.data.url,t="<iframe frameborder='0' width='100%' height='100%' src='"+this.media_id+"/embed'></iframe>",t+="<script src='"+this.media_id+".js'></script>",this._el.content_item.innerHTML=t,this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.height=this.options.height+"px"}}),TL.Media.Text=TL.Class.extend({includes:[TL.Events],_el:{container:{},content_container:{},content:{},headline:{},date:{}},data:{unique_id:"",headline:"headline",text:"text"},options:{title:!1},initialize:function(t,e,i){TL.Util.setData(this,t),TL.Util.mergeData(this.options,e),this._el.container=TL.Dom.create("div","tl-text"),this._el.container.id=this.data.unique_id,this._initLayout(),i&&i.appendChild(this._el.container)},show:function(){},hide:function(){},addTo:function(t){t.appendChild(this._el.container)},removeFrom:function(t){t.removeChild(this._el.container)},headlineHeight:function(){return this._el.headline.offsetHeight+40},addDateText:function(t){this._el.date.innerHTML=t},onLoaded:function(){this.fire("loaded",this.data)},onAdd:function(){this.fire("added",this.data)},onRemove:function(){this.fire("removed",this.data)},_initLayout:function(){if(this._el.content_container=TL.Dom.create("div","tl-text-content-container",this._el.container),this._el.date=TL.Dom.create("h3","tl-headline-date",this._el.content_container),""!=this.data.headline){var t="tl-headline";this.options.title&&(t="tl-headline tl-headline-title"),this._el.headline=TL.Dom.create("h2",t,this._el.content_container),this._el.headline.innerHTML=this.data.headline}if(""!=this.data.text){var e="";e+=TL.Util.htmlify(1==this.options.autolink?TL.Util.linkify(this.data.text):this.data.text),trace(this.data.text),this._el.content=TL.Dom.create("div","tl-text-content",this._el.content_container),this._el.content.innerHTML=e,trace(e),trace(this._el.content)}this.onLoaded()}}),TL.Media.Twitter=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t,e=this;this._el.content_item=TL.Dom.create("div","tl-media-twitter",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this.data.url.match("status/")?this.media_id=this.data.url.split("status/")[1]:this.data.url.match("statuses/")?this.media_id=this.data.url.split("statuses/")[1]:this.media_id="",t="https://api.twitter.com/1/statuses/oembed.json?id="+this.media_id+"&omit_script=true&include_entities=true&callback=?",TL.ajax({type:"GET",url:t,dataType:"json",success:function(t){e.createMedia(t)},error:function(t,i){var n="";n+=e._("twitter_load_err")+"<br/>"+e.media_id+"<br/>"+i,e.loadErrorDisplay(n)}})},createMedia:function(t){var e="",i="",n="",s="",o="",r="";i=t.html.split("</p>&mdash;")[0]+"</p></blockquote>",n=t.author_url.split("twitter.com/")[1],s=t.html.split("</p>&mdash;")[1].split('<a href="')[1],o=s.split('">')[0],r=s.split('">')[1].split("</a>")[0],i=i.replace(/<a href/gi,'<a class="tl-makelink" target="_blank" href'),e+=i,e+="<div class='vcard'>",e+="<a href='"+o+"' class='twitter-date' target='_blank'>"+r+"</a>",e+="<div class='author'>",e+="<a class='screen-name url' href='"+t.author_url+"' target='_blank'>",e+="<span class='avatar'></span>",e+="<span class='fn'>"+t.author_name+" <span class='tl-icon-twitter'></span></span>",e+="<span class='nickname'>@"+n+"<span class='thumbnail-inline'></span></span>",e+="</a>",e+="</div>",e+="</div>",this._el.content_item.innerHTML=e,this.onLoaded()},updateMediaDisplay:function(){},_updateMediaDisplay:function(){}}),TL.Media.TwitterEmbed=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t,e=this;this._el.content_item=TL.Dom.create("div","tl-media-twitter",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text";var i=this.data.url.match(/(status|statuses)\/(\d+)/);return i&&i.length>2?(this.media_id=i[2],t="https://api.twitter.com/1/statuses/oembed.json?id="+this.media_id+"&omit_script=true&include_entities=true&callback=?",void TL.ajax({type:"GET",url:t,dataType:"json",success:function(t){e.createMedia(t)},error:function(t,i){var n="";n+=e._("twitter_load_err")+"<br/>"+e.media_id+"<br/>"+i,e.loadErrorDisplay(n)}})):void e.loadErrorDisplay(e._("twitterembed_invalidurl_err"))},createMedia:function(t){trace("create_media");var e="",i="",n="",s="",o="",r="";i=t.html.split("</p>&mdash;")[0]+"</p></blockquote>",n=t.author_url.split("twitter.com/")[1],s=t.html.split("</p>&mdash;")[1].split('<a href="')[1],o=s.split('">')[0],r=s.split('">')[1].split("</a>")[0],i=i.replace(/<a href/gi,'<a target="_blank" href'),e+=i,e+="<div class='vcard'>",e+="<a href='"+o+"' class='twitter-date' target='_blank'>"+r+"</a>",e+="<div class='author'>",e+="<a class='screen-name url' href='"+t.author_url+"' target='_blank'>",e+="<span class='avatar'></span>",e+="<span class='fn'>"+t.author_name+" <span class='tl-icon-twitter'></span></span>",e+="<span class='nickname'>@"+n+"<span class='thumbnail-inline'></span></span>",e+="</a>",e+="</div>",e+="</div>",this._el.content_item.innerHTML=e,this.onLoaded()},updateMediaDisplay:function(){},_updateMediaDisplay:function(){}}),TL.Media.Vimeo=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t,e=this;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe tl-media-vimeo tl-media-shadow",this._el.content),this.media_id=this.data.url.split(/video\/|\/\/vimeo\.com\//)[1].split(/[?&]/)[0],t="https://player.vimeo.com/video/"+this.media_id+"?api=1&title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff",this.player=TL.Dom.create("iframe","",this._el.content_item),this.player.addEventListener("load",function(t){e.onMediaLoaded()}),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=t,this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.height=TL.Util.ratio.r16_9({w:this._el.content_item.offsetWidth})+"px"},_stopMedia:function(){try{this.player.contentWindow.postMessage(JSON.stringify({method:"pause"}),"https://player.vimeo.com")}catch(t){trace(t)}}}),TL.Media.Vine=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe tl-media-vine tl-media-shadow",this._el.content),this.media_id=this.data.url.split("vine.co/v/")[1],t="https://vine.co/v/"+this.media_id+"/embed/simple",this._el.content_item.innerHTML="<iframe frameborder='0' width='100%' height='100%' src='"+t+"'></iframe><script async src='https://platform.vine.co/static/scripts/embed.js' charset='utf-8'></script>",this.onLoaded()},_updateMediaDisplay:function(){var t=TL.Util.ratio.square({w:this._el.content_item.offsetWidth,h:this.options.height});this._el.content_item.style.height=t.h+"px"}}),TL.Media.Website=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t=this;this.media_id=this.data.url.replace(/.*?:\/\//g,""),this.options.api_key_embedly?(api_url="https://api.embed.ly/1/extract?key="+this.options.api_key_embedly+"&url="+this.media_id+"&callback=?",TL.getJSON(api_url,function(e){t.createMedia(e)})):this.createCardContent()},createCardContent:function(){!function(t,e){var i="embedly-platform",n="script";if(!e.getElementById(i)){t.embedly=t.embedly||function(){(t.embedly.q=t.embedly.q||[]).push(arguments)};var s=e.createElement(n);s.id=i,s.async=1,s.src=("https:"===document.location.protocol?"https":"http")+"://cdn.embedly.com/widgets/platform.js";var o=e.getElementsByTagName(n)[0];o.parentNode.insertBefore(s,o)}}(window,document);var t='<a href="'+this.data.url+'" class="embedly-card">'+this.data.url+"</a>";this._setContent(t)},createMedia:function(t){var e="";e+="<h4><a href='"+this.data.url+"' target='_blank'>"+t.title+"</a></h4>",t.images&&t.images[0]&&(trace(t.images[0].url),e+="<img src='"+t.images[0].url+"' />"),t.favicon_url&&(e+="<img class='tl-media-website-icon' src='"+t.favicon_url+"' />"),e+="<span class='tl-media-website-description'>"+t.provider_name+"</span><br/>",e+="<p>"+t.description+"</p>",this._setContent(e)},_setContent:function(t){this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-website",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this._el.content_item.innerHTML=t,this.onLoaded()},updateMediaDisplay:function(){},_updateMediaDisplay:function(){}}),TL.Media.Wikipedia=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t,e,i=this;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-wikipedia",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this.media_id=this.data.url.split("wiki/")[1].split("#")[0].replace("_"," "),this.media_id=this.media_id.replace(" ","%20"),e=this.data.url.split("//")[1].split(".wikipedia")[0],t="https://"+e+".wikipedia.org/w/api.php?action=query&prop=extracts|pageimages&redirects=&titles="+this.media_id+"&exintro=1&format=json&callback=?",TL.ajax({type:"GET",url:t,dataType:"json",success:function(t){i.createMedia(t)},error:function(t,e){var n="";n+=i._("wikipedia_load_err")+"<br/>"+i.media_id+"<br/>"+e,i.loadErrorDisplay(n)}})},createMedia:function(t){var e="";if(t.query){var i="",e={entry:{},title:"",text:"",extract:"",paragraphs:1,page_image:"",text_array:[]};e.entry=TL.Util.getObjectAttributeByIndex(t.query.pages,0),e.extract=e.entry.extract,e.title=e.entry.title,e.page_image=e.entry.thumbnail,e.extract.match("<p>")?e.text_array=e.extract.split("<p>"):e.text_array.push(e.extract);for(var n=0;n<e.text_array.length;n++)n+1<=e.paragraphs&&n+1<e.text_array.length&&(e.text+="<p>"+e.text_array[n+1]);i+="<span class='tl-icon-wikipedia'></span>",i+="<div class='tl-wikipedia-title'><h4><a href='"+this.data.url+"' target='_blank'>"+e.title+"</a></h4>",i+="<span class='tl-wikipedia-source'>"+this._("wikipedia")+"</span></div>",e.page_image,i+=e.text,e.extract.match("REDIRECT")||(this._el.content_item.innerHTML=i,this.onLoaded())}},updateMediaDisplay:function(){},_updateMediaDisplay:function(){}}),TL.Media.YouTube=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t,e=this;this.youtube_loaded=!1,this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-youtube tl-media-shadow",this._el.content),this._el.content_item.id=TL.Util.unique_ID(7),t=TL.Util.getUrlVars(this.data.url),this.media_id={},this.data.url.match("v=")?this.media_id.id=t.v:this.data.url.match("/embed/")?this.media_id.id=this.data.url.split("embed/")[1].split(/[?&]/)[0]:this.data.url.match(/v\/|v=|youtu\.be\//)?this.media_id.id=this.data.url.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0]:trace("YOUTUBE IN URL BUT NOT A VALID VIDEO"),this.media_id.start=TL.Util.parseYouTubeTime(t.t),this.media_id.hd=Boolean("undefined"!=typeof t.hd),TL.Load.js("https://www.youtube.com/iframe_api",function(){e.createMedia()})},_updateMediaDisplay:function(){this._el.content_item.style.height=TL.Util.ratio.r16_9({w:this.options.width})+"px",this._el.content_item.style.width=this.options.width+"px"},_stopMedia:function(){if(this.youtube_loaded)try{this.player.getPlayerState()==YT.PlayerState.PLAYING&&this.player.pauseVideo()}catch(t){trace(t)}},createMedia:function(){var t=this;clearTimeout(this.timer),"undefined"!=typeof YT&&"undefined"!=typeof YT.Player?this.player=new YT.Player(this._el.content_item.id,{playerVars:{enablejsapi:1,color:"white",autohide:1,showinfo:0,theme:"light",start:this.media_id.start,fs:0,rel:0},videoId:this.media_id.id,events:{onReady:function(){t.onPlayerReady(),t.onLoaded()},onStateChange:t.onStateChange}}):this.timer=setTimeout(function(){t.createMedia()},1e3)},onPlayerReady:function(t){this.youtube_loaded=!0,this._el.content_item=document.getElementById(this._el.content_item.id),this.onMediaLoaded()},onStateChange:function(t){t.data==YT.PlayerState.ENDED&&(t.target.seekTo(0),t.target.pauseVideo())}}),TL.Slide=TL.Class.extend({includes:[TL.Events,TL.DomMixins,TL.I18NMixins],_el:{},initialize:function(t,e,i){this._el={container:{},scroll_container:{},background:{},content_container:{},content:{}},this._media=null,this._mediaclass={},this._text={},this._background_media=null,this._state={loaded:!1},this.has={headline:!1,text:!1,media:!1,title:!1,background:{image:!1,color:!1,color_value:""}},this.has.title=i,this.data={unique_id:null,background:null,start_date:null,end_date:null,location:null,text:null,media:null,autolink:!0},this.options={duration:1e3,slide_padding_lr:40,ease:TL.Ease.easeInSpline,width:600,height:600,skinny_size:650,media_name:""},this.active=!1,this.animator={},TL.Util.mergeData(this.options,e),TL.Util.mergeData(this.data,t),this._initLayout(),this._initEvents()},show:function(){this.animator=TL.Animate(this._el.slider_container,{left:-(this._el.container.offsetWidth*n)+"px",duration:this.options.duration,easing:this.options.ease})},hide:function(){},setActive:function(t){this.active=t,this.active?(this.data.background&&this.fire("background_change",this.has.background),this.loadMedia()):this.stopMedia()},addTo:function(t){t.appendChild(this._el.container)},removeFrom:function(t){t.removeChild(this._el.container)},updateDisplay:function(t,e,i){this._updateDisplay(t,e,i)},loadMedia:function(){var t=this;this._media&&!this._state.loaded&&(this._media.loadMedia(),this._state.loaded=!0),this._background_media&&!this._background_media._state.loaded&&(this._background_media.on("loaded",function(){t._updateBackgroundDisplay()}),this._background_media.loadMedia())},stopMedia:function(){this._media&&this._state.loaded&&this._media.stopMedia()},getBackground:function(){return this.has.background},scrollToTop:function(){this._el.container.scrollTop=0},getFormattedDate:function(){if(TL.Util.trim(this.data.display_date).length>0)return this.data.display_date;var t="";return this.has.title||(this.data.end_date&&(t=" &mdash; "+this.data.end_date.getDisplayDate(this.getLanguage())),this.data.start_date&&(t=this.data.start_date.getDisplayDate(this.getLanguage())+t)),t},_initLayout:function(){if(this._el.container=TL.Dom.create("div","tl-slide"),this.has.title&&(this._el.container.className="tl-slide tl-slide-titleslide"),this.data.unique_id&&(this._el.container.id=this.data.unique_id),this._el.scroll_container=TL.Dom.create("div","tl-slide-scrollable-container",this._el.container),this._el.content_container=TL.Dom.create("div","tl-slide-content-container",this._el.scroll_container),this._el.content=TL.Dom.create("div","tl-slide-content",this._el.content_container),this._el.background=TL.Dom.create("div","tl-slide-background",this._el.container),this.data.background){if(this.data.background.url){var t=TL.MediaType(this.data.background,!0);t&&(this._background_media=new t.cls(this.data.background,{background:1}),this.has.background.image=!0,this._el.container.className+=" tl-full-image-background",this.has.background.color_value="#000",this._el.background.style.display="block")}this.data.background.color&&(this.has.background.color=!0,this._el.container.className+=" tl-full-color-background",this.has.background.color_value=this.data.background.color),this.data.background.text_background&&(this._el.container.className+=" tl-text-background")}this.data.media&&this.data.media.url&&""!=this.data.media.url&&(this.has.media=!0),this.data.text&&this.data.text.text&&(this.has.text=!0),this.data.text&&this.data.text.headline&&(this.has.headline=!0),this.has.media&&(this.data.media.mediatype=TL.MediaType(this.data.media),this.options.media_name=this.data.media.mediatype.name,this.options.media_type=this.data.media.mediatype.type,this.options.autolink=this.data.autolink,this._media=new this.data.media.mediatype.cls(this.data.media,this.options)),(this.has.text||this.has.headline)&&(this._text=new TL.Media.Text(this.data.text,{title:this.has.title,language:this.options.language,autolink:this.data.autolink}),this._text.addDateText(this.getFormattedDate())),this.has.text||this.has.headline||!this.has.media?this.has.headline&&this.has.media&&!this.has.text?(TL.DomUtil.addClass(this._el.container,"tl-slide-media-only"),this._text.addTo(this._el.content),this._media.addTo(this._el.content)):this.has.text&&this.has.media?(this._media.addTo(this._el.content),this._text.addTo(this._el.content)):(this.has.text||this.has.headline)&&(TL.DomUtil.addClass(this._el.container,"tl-slide-text-only"),this._text.addTo(this._el.content)):(TL.DomUtil.addClass(this._el.container,"tl-slide-media-only"),this._media.addTo(this._el.content)),this.onLoaded()},_initEvents:function(){},_updateDisplay:function(t,e,i){var n,s=this.options.slide_padding_lr,o=this.options.slide_padding_lr;t?this.options.width=t:this.options.width=this._el.container.offsetWidth,n=this.options.width-2*this.options.slide_padding_lr,TL.Browser.mobile&&this.options.width<=this.options.skinny_size?(s=0,o=0,n=this.options.width):"landscape"==i||this.options.width<=this.options.skinny_size&&(s=50,o=50,n=this.options.width-s-o),this._el.content.style.paddingLeft=s+"px",this._el.content.style.paddingRight=o+"px",this._el.content.style.width=n+"px",e?this.options.height=e:this.options.height=this._el.container.offsetHeight,this._media&&(!this.has.text&&this.has.headline?this._media.updateDisplay(n,this.options.height-this._text.headlineHeight(),i):this.has.text||this.has.headline?this.options.width<=this.options.skinny_size?this._media.updateDisplay(n,this.options.height,i):this._media.updateDisplay(n/2,this.options.height,i):this._media.updateDisplay(n,this.options.height,i)),this._updateBackgroundDisplay()},_updateBackgroundDisplay:function(){this._background_media&&this._background_media._state.loaded&&(this._el.background.style.backgroundImage="url('"+this._background_media.getImageURL(this.options.width,this.options.height)+"')")}}),TL.SlideNav=TL.Class.extend({includes:[TL.Events,TL.DomMixins],_el:{},initialize:function(t,e,i){this._el={container:{},content_container:{},icon:{},title:{},description:{}},this.mediatype={},this.data={title:"Navigation",description:"Description",date:"Date"},this.options={direction:"previous"},this.animator=null,TL.Util.mergeData(this.options,e),TL.Util.mergeData(this.data,t),this._el.container=TL.Dom.create("div","tl-slidenav-"+this.options.direction),TL.Browser.mobile&&this._el.container.setAttribute("ontouchstart"," "),this._initLayout(),this._initEvents(),i&&i.appendChild(this._el.container)},update:function(t){var e={title:"",description:"",date:t.getFormattedDate()};t.data.text&&t.data.text.headline&&(e.title=t.data.text.headline),this._update(e)},setColor:function(t){t?this._el.content_container.className="tl-slidenav-content-container tl-slidenav-inverted":this._el.content_container.className="tl-slidenav-content-container"},_onMouseClick:function(){this.fire("clicked",this.options)},_update:function(t){this.data=TL.Util.mergeData(this.data,t),this._el.title.innerHTML=TL.Util.unlinkify(this.data.title),this._el.description.innerHTML=TL.Util.unlinkify(this.data.date)},_initLayout:function(){this._el.content_container=TL.Dom.create("div","tl-slidenav-content-container",this._el.container),this._el.icon=TL.Dom.create("div","tl-slidenav-icon",this._el.content_container),this._el.title=TL.Dom.create("div","tl-slidenav-title",this._el.content_container),this._el.description=TL.Dom.create("div","tl-slidenav-description",this._el.content_container),this._el.icon.innerHTML="&nbsp;",this._update()},_initEvents:function(){TL.DomEvent.addListener(this._el.container,"click",this._onMouseClick,this)}}),TL.StorySlider=TL.Class.extend({includes:[TL.Events,TL.I18NMixins],initialize:function(t,e,i,n){this._el={container:{},background:{},slider_container_mask:{},slider_container:{},slider_item_container:{}},this._nav={},this._nav.previous={},this._nav.next={},this.slide_spacing=0,this._slides=[],this._swipable,this.preloadTimer,this._message,this.current_id="",this.data={},this.options={id:"",layout:"portrait",width:600,height:600,default_bg_color:{r:255,g:255,b:255},slide_padding_lr:40,start_at_slide:1,slide_default_fade:"0%",duration:1e3,ease:TL.Ease.easeInOutQuint,dragging:!0,trackResize:!0},"object"==typeof t?(this._el.container=t,this.options.id=TL.Util.unique_ID(6,"tl")):(this.options.id=t,this._el.container=TL.Dom.get(t)),this._el.container.id||(this._el.container.id=this.options.id),this.animator=null,TL.Util.mergeData(this.options,i),TL.Util.mergeData(this.data,e),n&&this.init()},init:function(){this._initLayout(),this._initEvents(),this._initData(),this._updateDisplay(),this.goTo(this.options.start_at_slide),this._onLoaded()},_addSlide:function(t){t.addTo(this._el.slider_item_container),t.on("added",this._onSlideAdded,this),t.on("background_change",this._onBackgroundChange,this)},_createSlide:function(t,e,i){var n=new TL.Slide(t,this.options,e);this._addSlide(n),i<0?this._slides.push(n):this._slides.splice(i,0,n)},_createSlides:function(t){for(var e=0;e<t.length;e++)""==t[e].unique_id&&(t[e].unique_id=TL.Util.unique_ID(6,"tl-slide")),this._createSlide(t[e],!1,-1)},_removeSlide:function(t){t.removeFrom(this._el.slider_item_container),t.off("added",this._onSlideRemoved,this),t.off("background_change",this._onBackgroundChange)},_destroySlide:function(t){this._removeSlide(this._slides[t]),this._slides.splice(t,1)},_findSlideIndex:function(t){var e=t;return("string"==typeof t||t instanceof String)&&(e=TL.Util.findArrayNumberByUniqueID(t,this._slides,"unique_id")),e},updateDisplay:function(t,e,i,n){this._updateDisplay(t,e,i,n)},createSlide:function(t,e){this._createSlide(t,!1,e)},createSlides:function(t){this._createSlides(t)},destroySlide:function(t){this._destroySlide(t)},destroySlideId:function(t){this.destroySlide(this._findSlideIndex(t))},goTo:function(t,e,i){t=parseInt(t),isNaN(t)&&(t=0);var n=this;this.changeBackground({color_value:"",image:!1}),this.preloadTimer&&clearTimeout(this.preloadTimer);for(var s=0;s<this._slides.length;s++)this._slides[s].setActive(!1);t<this._slides.length&&t>=0&&(this.current_id=this._slides[t].data.unique_id,this.animator&&this.animator.stop(),this._swipable&&this._swipable.stopMomentum(),e?(this._el.slider_container.style.left=-(this.slide_spacing*t)+"px",this._onSlideChange(i)):this.animator=TL.Animate(this._el.slider_container,{left:-(this.slide_spacing*t)+"px",duration:this.options.duration,easing:this.options.ease,complete:this._onSlideChange(i)}),this._slides[t].setActive(!0),this._slides[t+1]?(this.showNav(this._nav.next,!0),this._nav.next.update(this._slides[t+1])):this.showNav(this._nav.next,!1),this._slides[t-1]?(this.showNav(this._nav.previous,!0),this._nav.previous.update(this._slides[t-1])):this.showNav(this._nav.previous,!1),this.preloadTimer=setTimeout(function(){n.preloadSlides(t)},this.options.duration))},goToId:function(t,e,i){this.goTo(this._findSlideIndex(t),e,i)},preloadSlides:function(t){this._slides[t+1]&&(this._slides[t+1].loadMedia(),this._slides[t+1].scrollToTop()),this._slides[t+2]&&(this._slides[t+2].loadMedia(),this._slides[t+2].scrollToTop()),this._slides[t-1]&&(this._slides[t-1].loadMedia(),this._slides[t-1].scrollToTop()),this._slides[t-2]&&(this._slides[t-2].loadMedia(),this._slides[t-2].scrollToTop())},next:function(){var t=this._findSlideIndex(this.current_id);t+1<this._slides.length?this.goTo(t+1):this.goTo(t)},previous:function(){var t=this._findSlideIndex(this.current_id);t-1>=0?this.goTo(t-1):this.goTo(t)},showNav:function(t,e){this.options.width<=500&&TL.Browser.mobile||(e?t.show():t.hide())},changeBackground:function(t){var e,i={r:256,g:256,b:256};t.color_value&&""!=t.color_value?(i=TL.Util.hexToRgb(t.color_value),i||(trace("Invalid color value "+t.color_value),i=this.options.default_bg_color)):(i=this.options.default_bg_color,t.color_value="rgb("+i.r+" , "+i.g+", "+i.b+")"),e=i.r+","+i.g+","+i.b,this._el.background.style.backgroundImage="none",t.color_value?this._el.background.style.backgroundColor=t.color_value:this._el.background.style.backgroundColor="transparent",i.r<255||i.g<255||i.b<255||t.image?(this._nav.next.setColor(!0),this._nav.previous.setColor(!0)):(this._nav.next.setColor(!1),this._nav.previous.setColor(!1))},_updateDisplay:function(t,e,i,n){var s,o;o="undefined"==typeof n?this.options.layout:n,this.options.layout=o,this.slide_spacing=2*this.options.width,t?this.options.width=t:this.options.width=this._el.container.offsetWidth,e?this.options.height=e:this.options.height=this._el.container.offsetHeight,s=this.options.height/2,this._nav.next.setPosition({top:s}),this._nav.previous.setPosition({top:s});for(var r=0;r<this._slides.length;r++)this._slides[r].updateDisplay(this.options.width,this.options.height,o),this._slides[r].setPosition({left:this.slide_spacing*r,top:0});this.goToId(this.current_id,!0,!0)},_updateDrawSlides:function(){for(var t=this.options.layout,e=0;e<this._slides.length;e++)this._slides[e].updateDisplay(this.options.width,this.options.height,t),this._slides[e].setPosition({left:this.slide_spacing*e,top:0});this.goToId(this.current_id,!0,!1)},_initLayout:function(){TL.DomUtil.addClass(this._el.container,"tl-storyslider"),this._el.slider_container_mask=TL.Dom.create("div","tl-slider-container-mask",this._el.container),this._el.background=TL.Dom.create("div","tl-slider-background tl-animate",this._el.container),this._el.slider_container=TL.Dom.create("div","tl-slider-container tlanimate",this._el.slider_container_mask),this._el.slider_item_container=TL.Dom.create("div","tl-slider-item-container",this._el.slider_container),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this._nav.previous=new TL.SlideNav({title:"Previous",description:"description"},{direction:"previous"}),this._nav.next=new TL.SlideNav({title:"Next",description:"description"},{direction:"next"}),this._nav.next.addTo(this._el.container),this._nav.previous.addTo(this._el.container),this._el.slider_container.style.left="0px",TL.Browser.touch&&(this._swipable=new TL.Swipable(this._el.slider_container_mask,this._el.slider_container,{enable:{x:!0,y:!1},snap:!0}),this._swipable.enable(),this._message=new TL.Message({},{message_class:"tl-message-full",message_icon_class:"tl-icon-swipe-left"}),this._message.updateMessage(this._("swipe_to_navigate")),this._message.addTo(this._el.container))},_initEvents:function(){this._nav.next.on("clicked",this._onNavigation,this),this._nav.previous.on("clicked",this._onNavigation,this),this._message&&this._message.on("clicked",this._onMessageClick,this),this._swipable&&(this._swipable.on("swipe_left",this._onNavigation,this),this._swipable.on("swipe_right",this._onNavigation,this),this._swipable.on("swipe_nodirection",this._onSwipeNoDirection,this))},_initData:function(){this.data.title&&this._createSlide(this.data.title,!0,-1),this._createSlides(this.data.events)},_onBackgroundChange:function(t){var e=this._findSlideIndex(this.current_id),i=this._slides[e].getBackground();this.changeBackground(t),this.fire("colorchange",i)},_onMessageClick:function(t){this._message.hide()},_onSwipeNoDirection:function(t){this.goToId(this.current_id)},_onNavigation:function(t){"next"==t.direction||"left"==t.direction?this.next():"previous"!=t.direction&&"right"!=t.direction||this.previous(),this.fire("nav_"+t.direction,this.data)},_onSlideAdded:function(t){trace("slideadded"),this.fire("slideAdded",this.data)},_onSlideRemoved:function(t){this.fire("slideRemoved",this.data)},_onSlideChange:function(t){t||this.fire("change",{unique_id:this.current_id})},_onMouseClick:function(t){},_fireMouseEvent:function(t){if(this._loaded){var e=t.type;e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)&&("contextmenu"===e&&TL.DomEvent.preventDefault(t),this.fire(e,{latlng:"something",layerPoint:"something else"}))}},_onLoaded:function(){this.fire("loaded",this.data)}}),TL.TimeNav=TL.Class.extend({includes:[TL.Events,TL.DomMixins],_el:{},initialize:function(t,e,i,n){this._el={parent:{},container:{},slider:{},slider_background:{},line:{},marker_container_mask:{},marker_container:{},marker_item_container:{},timeaxis:{},timeaxis_background:{},attribution:{}},this.collapsed=!1,"object"==typeof t?this._el.container=t:this._el.container=TL.Dom.get(t),this.config=e,this.options={width:600,height:600,duration:1e3,ease:TL.Ease.easeInOutQuint,has_groups:!1,optimal_tick_width:50,scale_factor:2,marker_padding:5,timenav_height_min:150,marker_height_min:30,marker_width_min:100,zoom_sequence:[.5,1,2,3,5,8,13,21,34,55,89]},this.animator=null,this.ready=!1,this._markers=[],this._eras=[],this.has_eras=!1,this._groups=[],this._calculated_row_height=100,this.current_id="",this.timescale={},this.timeaxis={},this.axishelper={},this.max_rows=6,this.animate_css=!1,this._swipable,TL.Util.mergeData(this.options,i),n&&this.init()},init:function(){this._initLayout(),this._initEvents(),this._initData(),this._updateDisplay(),this._onLoaded()},positionMarkers:function(){this._positionMarkers()},updateDisplay:function(t,e,i,n){
this._updateDisplay(t,e,i,n)},_getTimeScale:function(){var t=0;try{t=parseInt(this.options.marker_height_min)}catch(e){trace("Invalid value for marker_height_min option."),t=30}return 0==t&&(trace("marker_height_min option must not be zero."),t=30),this.max_rows=Math.round((this.options.height-this._el.timeaxis_background.offsetHeight-this.options.marker_padding)/t),this.max_rows<1&&(this.max_rows=1),new TL.TimeScale(this.config,{display_width:this._el.container.offsetWidth,screen_multiplier:this.options.scale_factor,max_rows:this.max_rows})},_updateTimeScale:function(t){this.options.scale_factor=t,this._updateDrawTimeline()},zoomIn:function(){var t=TL.Util.findNextGreater(this.options.zoom_sequence,this.options.scale_factor);this.setZoomFactor(t)},zoomOut:function(){var t=TL.Util.findNextLesser(this.options.zoom_sequence,this.options.scale_factor);this.setZoomFactor(t)},setZoom:function(t){var e=this.options.zoom_sequence[t];"number"==typeof e?this.setZoomFactor(e):console.warn("Invalid zoom level. Please use an index number between 0 and "+(this.options.zoom_sequence.length-1))},setZoomFactor:function(t){t<=this.options.zoom_sequence[0]?this.fire("zoomtoggle",{zoom:"out",show:!1}):this.fire("zoomtoggle",{zoom:"out",show:!0}),t>=this.options.zoom_sequence[this.options.zoom_sequence.length-1]?this.fire("zoomtoggle",{zoom:"in",show:!1}):this.fire("zoomtoggle",{zoom:"in",show:!0}),0==t&&(console.warn("Zoom factor must be greater than zero. Using 0.1"),t=.1),this.options.scale_factor=t,this.goToId(this.current_id,!this._updateDrawTimeline(!0),!0)},_createGroups:function(){var t=this.timescale.getGroupLabels();if(t){this.options.has_groups=!0;for(var e=0;e<t.length;e++)this._createGroup(t[e])}},_createGroup:function(t){var e=new TL.TimeGroup(t);this._addGroup(e),this._groups.push(e)},_addGroup:function(t){t.addTo(this._el.container)},_positionGroups:function(){if(this.options.has_groups)for(var t=this.options.height-this._el.timeaxis_background.offsetHeight,e=Math.floor(t/this.timescale.getNumberOfRows()-this.options.marker_padding),i=(this.timescale.getGroupLabels(),0),n=0;i<this._groups.length;i++){var s=Math.floor(n*(e+this.options.marker_padding)),o=!1;s>t-this.options.marker_padding&&(o=!0),this._groups[i].setRowPosition(s,this._calculated_row_height+this.options.marker_padding/2),this._groups[i].setAlternateRowColor(TL.Util.isEven(i),o),n+=this._groups[i].data.rows}},_addMarker:function(t){t.addTo(this._el.marker_item_container),t.on("markerclick",this._onMarkerClick,this),t.on("added",this._onMarkerAdded,this)},_createMarker:function(t,e){var i=new TL.TimeMarker(t,this.options);this._addMarker(i),e<0?this._markers.push(i):this._markers.splice(e,0,i)},_createMarkers:function(t){for(var e=0;e<t.length;e++)this._createMarker(t[e],-1)},_removeMarker:function(t){t.removeFrom(this._el.marker_item_container)},_destroyMarker:function(t){this._removeMarker(this._markers[t]),this._markers.splice(t,1)},_positionMarkers:function(t){for(var e=0;e<this._markers.length;e++){var i=this.timescale.getPositionInfo(e);t?this._markers[e].setClass("tl-timemarker tl-timemarker-fast"):this._markers[e].setClass("tl-timemarker"),this._markers[e].setPosition({left:i.start}),this._markers[e].setWidth(i.width)}},_calculateMarkerHeight:function(t){return t/this.timescale.getNumberOfRows()-this.options.marker_padding},_calculateRowHeight:function(t){return t/this.timescale.getNumberOfRows()},_calculateAvailableHeight:function(){return this.options.height-this._el.timeaxis_background.offsetHeight-this.options.marker_padding},_calculateMinimumTimeNavHeight:function(){return this.timescale.getNumberOfRows()*this.options.marker_height_min+this._el.timeaxis_background.offsetHeight+this.options.marker_padding},getMinimumHeight:function(){return this._calculateMinimumTimeNavHeight()},_assignRowsToMarkers:function(){var t=this._calculateAvailableHeight(),e=this._calculateMarkerHeight(t);this._positionGroups(),this._calculated_row_height=this._calculateRowHeight(t);for(var i=0;i<this._markers.length;i++){this._markers[i].setHeight(e);var n=this.timescale.getPositionInfo(i).row,s=Math.floor(n*(e+this.options.marker_padding))+this.options.marker_padding,o=t-s+this.options.marker_padding;this._markers[i].setRowPosition(s,o)}},_resetMarkersActive:function(){for(var t=0;t<this._markers.length;t++)this._markers[t].setActive(!1)},_findMarkerIndex:function(t){var e=-1;return("string"==typeof t||t instanceof String)&&(e=TL.Util.findArrayNumberByUniqueID(t,this._markers,"unique_id",e)),e},_createEras:function(t){for(var e=0;e<t.length;e++)this._createEra(t[e],-1)},_createEra:function(t,e){var i=new TL.TimeEra(t,this.options);this._addEra(i),e<0?this._eras.push(i):this._eras.splice(e,0,i)},_addEra:function(t){t.addTo(this._el.marker_item_container),t.on("added",this._onEraAdded,this)},_removeEra:function(t){t.removeFrom(this._el.marker_item_container)},_destroyEra:function(t){this._removeEra(this._eras[t]),this._eras.splice(t,1)},_positionEras:function(t){for(var e=0,i=0;i<this._eras.length;i++){var n={start:0,end:0,width:0};n.start=this.timescale.getPosition(this._eras[i].data.start_date.getTime()),n.end=this.timescale.getPosition(this._eras[i].data.end_date.getTime()),n.width=n.end-n.start,t?this._eras[i].setClass("tl-timeera tl-timeera-fast"):this._eras[i].setClass("tl-timeera"),this._eras[i].setPosition({left:n.start}),this._eras[i].setWidth(n.width),e++,e>5&&(e=0),this._eras[i].setColor(e)}},createMarker:function(t,e){this._createMarker(t,e)},createMarkers:function(t){this._createMarkers(t)},destroyMarker:function(t){this._destroyMarker(t)},destroyMarkerId:function(t){this.destroyMarker(this._findMarkerIndex(t))},goTo:function(t,e,i){var n=this.options.ease,s=this.options.duration,o=t<0?0:t;this._resetMarkersActive(),t>=0&&t<this._markers.length&&this._markers[t].setActive(!0),this.animator&&this.animator.stop(),e?(this._el.slider.className="tl-timenav-slider",this._el.slider.style.left=-this._markers[o].getLeft()+this.options.width/2+"px"):i?(this._el.slider.className="tl-timenav-slider tl-timenav-slider-animate",this.animate_css=!0,this._el.slider.style.left=-this._markers[o].getLeft()+this.options.width/2+"px"):(this._el.slider.className="tl-timenav-slider",this.animator=TL.Animate(this._el.slider,{left:-this._markers[o].getLeft()+this.options.width/2+"px",duration:s,easing:n})),t>=0&&t<this._markers.length?this.current_id=this._markers[t].data.unique_id:this.current_id=""},goToId:function(t,e,i){this.goTo(this._findMarkerIndex(t),e,i)},_onLoaded:function(){this.ready=!0,this.fire("loaded",this.config)},_onMarkerAdded:function(t){this.fire("dateAdded",this.config)},_onEraAdded:function(t){this.fire("eraAdded",this.config)},_onMarkerRemoved:function(t){this.fire("dateRemoved",this.config)},_onMarkerClick:function(t){this.goToId(t.unique_id),this.fire("change",{unique_id:t.unique_id})},_onMouseScroll:function(t){var e=0,i=0,n={right:-(this.timescale.getPixelWidth()-this.options.width/2),left:this.options.width/2};t||(t=window.event),t.originalEvent&&(t=t.originalEvent),"undefined"!=typeof t.wheelDeltaX&&(e=t.wheelDeltaY/6,e=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?t.wheelDeltaX/6:0),e&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1),i=parseInt(this._el.slider.style.left.replace("px",""))+e,i>n.left?i=n.left:i<n.right&&(i=n.right),this.animate_css&&(this._el.slider.className="tl-timenav-slider",this.animate_css=!1),this._el.slider.style.left=i+"px"},_onDragMove:function(t){this.animate_css&&(this._el.slider.className="tl-timenav-slider",this.animate_css=!1)},_updateDisplay:function(t,e,i){t&&(this.options.width=t),e&&e!=this.options.height&&(this.options.height=e,this.timescale=this._getTimeScale()),this._assignRowsToMarkers(),this._el.slider_background.style.width=this.timescale.getPixelWidth()+this.options.width+"px",this._el.slider_background.style.left=-(this.options.width/2)+"px",this._el.slider.style.width=this.timescale.getPixelWidth()+this.options.width+"px",this._swipable.updateConstraint({top:!1,bottom:!1,left:this.options.width/2,right:-(this.timescale.getPixelWidth()-this.options.width/2)}),this.goToId(this.current_id,!0)},_drawTimeline:function(t){this.timescale=this._getTimeScale(),this.timeaxis.drawTicks(this.timescale,this.options.optimal_tick_width),this._positionMarkers(t),this._assignRowsToMarkers(),this._createGroups(),this._positionGroups(),this.has_eras&&this._positionEras(t)},_updateDrawTimeline:function(t){var e=!1;if(t){var i=new TL.TimeScale(this.config,{display_width:this._el.container.offsetWidth,screen_multiplier:this.options.scale_factor,max_rows:this.max_rows});this.timescale.getMajorScale()==i.getMajorScale()&&this.timescale.getMinorScale()==i.getMinorScale()&&(e=!0)}else e=!0;return e?(this.timescale=this._getTimeScale(),this.timeaxis.positionTicks(this.timescale,this.options.optimal_tick_width),this._positionMarkers(),this._assignRowsToMarkers(),this._positionGroups(),this.has_eras&&this._positionEras(),this._updateDisplay()):this._drawTimeline(!0),e},_initLayout:function(){this._el.attribution=TL.Dom.create("div","tl-attribution",this._el.container),this._el.line=TL.Dom.create("div","tl-timenav-line",this._el.container),this._el.slider=TL.Dom.create("div","tl-timenav-slider",this._el.container),this._el.slider_background=TL.Dom.create("div","tl-timenav-slider-background",this._el.slider),this._el.marker_container_mask=TL.Dom.create("div","tl-timenav-container-mask",this._el.slider),this._el.marker_container=TL.Dom.create("div","tl-timenav-container",this._el.marker_container_mask),this._el.marker_item_container=TL.Dom.create("div","tl-timenav-item-container",this._el.marker_container),this._el.timeaxis=TL.Dom.create("div","tl-timeaxis",this._el.slider),this._el.timeaxis_background=TL.Dom.create("div","tl-timeaxis-background",this._el.container),this._el.attribution.innerHTML="<a href='http://timeline.knightlab.com' target='_blank'><span class='tl-knightlab-logo'></span>Timeline JS</a>",this.timeaxis=new TL.TimeAxis(this._el.timeaxis,this.options),this._swipable=new TL.Swipable(this._el.slider_background,this._el.slider,{enable:{x:!0,y:!1},constraint:{top:!1,bottom:!1,left:this.options.width/2,right:!1},snap:!1}),this._swipable.enable()},_initEvents:function(){this._swipable.on("dragmove",this._onDragMove,this),TL.DomEvent.addListener(this._el.container,"mousewheel",this._onMouseScroll,this),TL.DomEvent.addListener(this._el.container,"DOMMouseScroll",this._onMouseScroll,this)},_initData:function(){this._createMarkers(this.config.events),this.config.eras&&(this.has_eras=!0,this._createEras(this.config.eras)),this._drawTimeline()}}),TL.TimeMarker=TL.Class.extend({includes:[TL.Events,TL.DomMixins],_el:{},initialize:function(t,e){this._el={container:{},content_container:{},media_container:{},timespan:{},line_left:{},line_right:{},content:{},text:{},media:{}},this._text={},this._state={loaded:!1},this.data={unique_id:"",background:null,date:{year:0,month:0,day:0,hour:0,minute:0,second:0,millisecond:0,thumbnail:"",format:""},text:{headline:"",text:""},media:null},this.options={duration:1e3,ease:TL.Ease.easeInSpline,width:600,height:600,marker_width_min:100},this.active=!1,this.animator={},this.has_end_date=!1,TL.Util.mergeData(this.options,e),TL.Util.mergeData(this.data,t),this._initLayout(),this._initEvents()},show:function(){},hide:function(){},setActive:function(t){this.active=t,this.active&&this.has_end_date?this._el.container.className="tl-timemarker tl-timemarker-with-end tl-timemarker-active":this.active?this._el.container.className="tl-timemarker tl-timemarker-active":this.has_end_date?this._el.container.className="tl-timemarker tl-timemarker-with-end":this._el.container.className="tl-timemarker"},addTo:function(t){t.appendChild(this._el.container)},removeFrom:function(t){t.removeChild(this._el.container)},updateDisplay:function(t,e){this._updateDisplay(t,e)},loadMedia:function(){this._media&&!this._state.loaded&&(this._media.loadMedia(),this._state.loaded=!0)},stopMedia:function(){this._media&&this._state.loaded&&this._media.stopMedia()},getLeft:function(){return this._el.container.style.left.slice(0,-2)},getTime:function(){return this.data.start_date.getTime()},getEndTime:function(){return!!this.data.end_date&&this.data.end_date.getTime()},setHeight:function(t){var e=12,i=1;this._el.content_container.style.height=t+"px",this._el.timespan_content.style.height=t+"px",t<=30?this._el.content.className="tl-timemarker-content tl-timemarker-content-small":this._el.content.className="tl-timemarker-content",t<=56?TL.DomUtil.addClass(this._el.content_container,"tl-timemarker-content-container-small"):TL.DomUtil.removeClass(this._el.content_container,"tl-timemarker-content-container-small"),TL.Browser.webkit?(i=Math.floor(t/(e+2)),i<1&&(i=1),this._text.className="tl-headline",this._text.style.webkitLineClamp=i):(i=t/e,i>1?this._text.className="tl-headline tl-headline-fadeout":this._text.className="tl-headline",this._text.style.height=i*e+"px")},setWidth:function(t){this.data.end_date&&(this._el.container.style.width=t+"px",t>this.options.marker_width_min?(this._el.content_container.style.width=t+"px",this._el.content_container.className="tl-timemarker-content-container tl-timemarker-content-container-long"):(this._el.content_container.style.width=this.options.marker_width_min+"px",this._el.content_container.className="tl-timemarker-content-container"))},setClass:function(t){this._el.container.className=t},setRowPosition:function(t,e){this.setPosition({top:t}),this._el.timespan.style.height=e+"px"},_onMarkerClick:function(t){this.fire("markerclick",{unique_id:this.data.unique_id})},_initLayout:function(){if(this._el.container=TL.Dom.create("div","tl-timemarker"),this.data.unique_id&&(this._el.container.id=this.data.unique_id+"-marker"),this.data.end_date&&(this.has_end_date=!0,this._el.container.className="tl-timemarker tl-timemarker-with-end"),this._el.timespan=TL.Dom.create("div","tl-timemarker-timespan",this._el.container),this._el.timespan_content=TL.Dom.create("div","tl-timemarker-timespan-content",this._el.timespan),this._el.content_container=TL.Dom.create("div","tl-timemarker-content-container",this._el.container),this._el.content=TL.Dom.create("div","tl-timemarker-content",this._el.content_container),this._el.line_left=TL.Dom.create("div","tl-timemarker-line-left",this._el.timespan),this._el.line_right=TL.Dom.create("div","tl-timemarker-line-right",this._el.timespan),this.data.media){this._el.media_container=TL.Dom.create("div","tl-timemarker-media-container",this._el.content);var t={url:this.data.media.thumbnail},e=this.data.media.thumbnail?TL.MediaType(t,!0):null;if(e){var i=new e.cls(t);i.on("loaded",function(){this._el.media=TL.Dom.create("img","tl-timemarker-media",this._el.media_container),this._el.media.src=i.getImageURL()}.bind(this)),i.loadMedia()}else{var n=TL.MediaType(this.data.media).type;this._el.media=TL.Dom.create("span","tl-icon-"+n,this._el.media_container)}}this._el.text=TL.Dom.create("div","tl-timemarker-text",this._el.content),this._text=TL.Dom.create("h2","tl-headline",this._el.text),this.data.text.headline&&""!=this.data.text.headline?this._text.innerHTML=TL.Util.unlinkify(this.data.text.headline):this.data.text.text&&""!=this.data.text.text?this._text.innerHTML=TL.Util.unlinkify(this.data.text.text):this.data.media.caption&&""!=this.data.media.caption&&(this._text.innerHTML=TL.Util.unlinkify(this.data.media.caption)),this.onLoaded()},_initEvents:function(){TL.DomEvent.addListener(this._el.container,"click",this._onMarkerClick,this)},_updateDisplay:function(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e)}}),TL.TimeEra=TL.Class.extend({includes:[TL.Events,TL.DomMixins],_el:{},initialize:function(t,e){this._el={container:{},background:{},content_container:{},content:{},text:{}},this._text={},this._state={loaded:!1},this.data={unique_id:"",date:{year:0,month:0,day:0,hour:0,minute:0,second:0,millisecond:0,thumbnail:"",format:""},text:{headline:"",text:""}},this.options={duration:1e3,ease:TL.Ease.easeInSpline,width:600,height:600,marker_width_min:100},this.active=!1,this.animator={},this.has_end_date=!1,TL.Util.mergeData(this.options,e),TL.Util.mergeData(this.data,t),this._initLayout(),this._initEvents()},show:function(){},hide:function(){},setActive:function(t){},addTo:function(t){t.appendChild(this._el.container)},removeFrom:function(t){t.removeChild(this._el.container)},updateDisplay:function(t,e){this._updateDisplay(t,e)},getLeft:function(){return this._el.container.style.left.slice(0,-2)},getTime:function(){return this.data.start_date.getTime()},getEndTime:function(){return!!this.data.end_date&&this.data.end_date.getTime()},setHeight:function(t){var e=12,i=1;this._el.content_container.style.height=t+"px",this._el.content.className="tl-timeera-content",TL.Browser.webkit?(i=Math.floor(t/(e+2)),i<1&&(i=1),this._text.className="tl-headline",this._text.style.webkitLineClamp=i):(i=t/e,i>1?this._text.className="tl-headline tl-headline-fadeout":this._text.className="tl-headline",this._text.style.height=i*e+"px")},setWidth:function(t){this.data.end_date&&(this._el.container.style.width=t+"px",t>this.options.marker_width_min?(this._el.content_container.style.width=t+"px",this._el.content_container.className="tl-timeera-content-container tl-timeera-content-container-long"):(this._el.content_container.style.width=this.options.marker_width_min+"px",this._el.content_container.className="tl-timeera-content-container"))},setClass:function(t){this._el.container.className=t},setRowPosition:function(t,e){this.setPosition({top:t})},setColor:function(t){this._el.container.className="tl-timeera tl-timeera-color"+t},_initLayout:function(){this._el.container=TL.Dom.create("div","tl-timeera"),this.data.unique_id&&(this._el.container.id=this.data.unique_id+"-era"),this.data.end_date&&(this.has_end_date=!0,this._el.container.className="tl-timeera tl-timeera-with-end"),this._el.content_container=TL.Dom.create("div","tl-timeera-content-container",this._el.container),this._el.background=TL.Dom.create("div","tl-timeera-background",this._el.content_container),this._el.content=TL.Dom.create("div","tl-timeera-content",this._el.content_container),this._el.text=TL.Dom.create("div","tl-timeera-text",this._el.content),this._text=TL.Dom.create("h2","tl-headline",this._el.text),this.data.text.headline&&""!=this.data.text.headline&&(this._text.innerHTML=TL.Util.unlinkify(this.data.text.headline)),this.onLoaded()},_initEvents:function(){},_updateDisplay:function(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e)}}),TL.TimeGroup=TL.Class.extend({includes:[TL.Events,TL.DomMixins],_el:{},initialize:function(t){this._el={parent:{},container:{},message:{}},this.options={width:600,height:600},this.data={label:"",rows:1},this._el.container=TL.Dom.create("div","tl-timegroup"),TL.Util.mergeData(this.data,t),this.animator={},this._initLayout(),this._initEvents()},updateDisplay:function(t,e){},setRowPosition:function(t,e){this.options.height=e*this.data.rows,this.setPosition({top:t}),this._el.container.style.height=this.options.height+"px"},setAlternateRowColor:function(t,e){var i="tl-timegroup";t&&(i+=" tl-timegroup-alternate"),e&&(i+=" tl-timegroup-hidden"),this._el.container.className=i},_onMouseClick:function(){this.fire("clicked",this.options)},_initLayout:function(){this._el.message=TL.Dom.create("div","tl-timegroup-message",this._el.container),this._el.message.innerHTML=this.data.label},_initEvents:function(){TL.DomEvent.addListener(this._el.container,"click",this._onMouseClick,this)},_updateDisplay:function(t,e,i){}}),TL.TimeScale=TL.Class.extend({initialize:function(t,e){var i=t.events;this._scale=t.scale,e=TL.Util.mergeData({display_width:500,screen_multiplier:3,max_rows:null},e),this._display_width=e.display_width,this._screen_multiplier=e.screen_multiplier,this._pixel_width=this._screen_multiplier*this._display_width,this._group_labels=void 0,this._positions=[],this._pixels_per_milli=0,this._earliest=t.getEarliestDate().getTime(),this._latest=t.getLatestDate().getTime(),this._span_in_millis=this._latest-this._earliest,this._span_in_millis<=0&&(this._span_in_millis=this._computeDefaultSpan(t)),this._average=this._span_in_millis/i.length,this._pixels_per_milli=this.getPixelWidth()/this._span_in_millis,this._axis_helper=TL.AxisHelper.getBestHelper(this),this._scaled_padding=1/this.getPixelsPerTick()*(this._display_width/2),this._computePositionInfo(i,e.max_rows)},_computeDefaultSpan:function(t){if("human"==t.scale){for(var e={},i=0;i<t.events.length;i++){var n=t.events[i].start_date.findBestFormat();e[n]=e[n]?e[n]+1:1}for(var i=TL.Date.SCALES.length-1;i>=0;i--)if(e.hasOwnProperty(TL.Date.SCALES[i][0])){var s=TL.Date.SCALES[TL.Date.SCALES.length-1];return TL.Date.SCALES[i+1]&&(s=TL.Date.SCALES[i+1]),s[1]}return 31536e6}return 2e5},getGroupLabels:function(){return this._group_labels||[]},getScale:function(){return this._scale},getNumberOfRows:function(){return this._number_of_rows},getPixelWidth:function(){return this._pixel_width},getPosition:function(t){return(t-this._earliest)*this._pixels_per_milli},getPositionInfo:function(t){return this._positions[t]},getPixelsPerTick:function(){return this._axis_helper.getPixelsPerTick(this._pixels_per_milli)},getTicks:function(){return{major:this._axis_helper.getMajorTicks(this),minor:this._axis_helper.getMinorTicks(this)}},getDateFromTime:function(t){if("human"==this._scale)return new TL.Date(t);if("cosmological"==this._scale)return new TL.BigDate(new TL.BigYear(t));throw new TL.Error("time_scale_scale_err",this._scale)},getMajorScale:function(){return this._axis_helper.major.name},getMinorScale:function(){return this._axis_helper.minor.name},_assessGroups:function(t){for(var e=[],i=!1,n=0;n<t.length;n++)t[n].group&&(e.indexOf(t[n].group)<0?e.push(t[n].group):i=!0);return e.length&&i&&e.push(""),e},_computeRowInfo:function(t,e){for(var i=[],n=0,s=0;s<t.length;s++){var o=t[s],r=[];delete o.row;for(var a=0;a<i.length;a++)if(r.push(i[a].end-o.start),r[a]<=0){o.row=a,i[a]=o;break}if("undefined"==typeof o.row)if(null===e)o.row=i.length,i.push(o);else if(e>0)o.row=i.length,i.push(o),e--;else{var l=Math.min.apply(null,r),d=r.indexOf(l);o.row=d,o.end>i[d].end&&(i[d]=o),n++}}return{n_rows:i.length,n_overlaps:n}},_computePositionInfo:function(t,e,i){i=i||100;for(var n=[],s=!1,o=0;o<t.length;o++){var r={start:this.getPosition(t[o].start_date.getTime())};if(this._positions.push(r),"undefined"!=typeof t[o].end_date){var a=this.getPosition(t[o].end_date.getTime());r.width=a-r.start,r.width>i?r.end=r.start+r.width:r.end=r.start+i}else r.width=i,r.end=r.start+i;t[o].group?n.indexOf(t[o].group)<0&&n.push(t[o].group):s=!0}if(n.length){s&&n.push("");for(var l=[],o=0;o<n.length;o++)l[o]={label:n[o],idx:o,positions:[],n_rows:1,n_overlaps:0};for(var o=0;o<this._positions.length;o++){var r=this._positions[o];r.group=n.indexOf(t[o].group||""),r.row=0;for(var d=l[r.group],h=d.positions.length-1;h>=0;h--)d.positions[h].end>r.start&&d.n_overlaps++;d.positions.push(r)}for(var c=n.length;;){var u=Math.max(0,e-c);if(!u)break;if(l.sort(function(t,e){return t.n_overlaps>e.n_overlaps?-1:t.n_overlaps<e.n_overlaps?1:t.idx-e.idx}),!l[0].n_overlaps)break;for(var c=0,o=0;o<l.length;o++){var d=l[o];if(d.n_overlaps&&u){var p=this._computeRowInfo(d.positions,d.n_rows+1);d.n_rows=p.n_rows,d.n_overlaps=p.n_overlaps,u--}c+=d.n_rows}}this._number_of_rows=c,this._group_labels=[],l.sort(function(t,e){return t.idx-e.idx});for(var o=0,f=0;o<l.length;o++){this._group_labels.push({label:l[o].label,rows:l[o].n_rows});for(var h=0;h<l[o].positions.length;h++){var r=l[o].positions[h];r.row+=f}f+=l[o].n_rows}}else{var m=this._computeRowInfo(this._positions,e);this._number_of_rows=m.n_rows}}}),TL.TimeAxis=TL.Class.extend({includes:[TL.Events,TL.DomMixins,TL.I18NMixins],_el:{},initialize:function(t,e){this._el={container:{},content_container:{},major:{},minor:{}},this._text={},this._state={loaded:!1},this.data={},this.options={duration:1e3,ease:TL.Ease.easeInSpline,width:600,height:600},this.active=!1,this.animator={},this.axis_helper={},this.minor_ticks=[],this.major_ticks=[],this.dateformat_lookup={millisecond:"time_milliseconds",second:"time_short",minute:"time_no_seconds_short",hour:"time_no_minutes_short",day:"full_short",month:"month_short",year:"year",decade:"year",century:"year",millennium:"year",age:"compact",epoch:"compact",era:"compact",eon:"compact",eon2:"compact"},"object"==typeof t?this._el.container=t:this._el.container=TL.Dom.get(t),TL.Util.mergeData(this.options,e),this._initLayout(),this._initEvents()},show:function(){},hide:function(){},addTo:function(t){t.appendChild(this._el.container)},removeFrom:function(t){t.removeChild(this._el.container)},updateDisplay:function(t,e){this._updateDisplay(t,e)},getLeft:function(){return this._el.container.style.left.slice(0,-2)},drawTicks:function(t,e){var i=t.getTicks();({minor:{el:this._el.minor,dateformat:this.dateformat_lookup[i.minor.name],ts_ticks:i.minor.ticks,tick_elements:this.minor_ticks},major:{el:this._el.major,dateformat:this.dateformat_lookup[i.major.name],ts_ticks:i.major.ticks,tick_elements:this.major_ticks}});this._el.major.className="tl-timeaxis-major",this._el.minor.className="tl-timeaxis-minor",this._el.major.style.opacity=0,this._el.minor.style.opacity=0,this.major_ticks=this._createTickElements(i.major.ticks,this._el.major,this.dateformat_lookup[i.major.name]),this.minor_ticks=this._createTickElements(i.minor.ticks,this._el.minor,this.dateformat_lookup[i.minor.name],i.major.ticks),this.positionTicks(t,e,!0),this._el.major.className="tl-timeaxis-major tl-animate-opacity tl-timeaxis-animate-opacity",this._el.minor.className="tl-timeaxis-minor tl-animate-opacity tl-timeaxis-animate-opacity",this._el.major.style.opacity=1,this._el.minor.style.opacity=1},_createTickElements:function(t,e,i,n){e.innerHTML="";var s={};if(n)for(var o=0;o<n.length;o++)s[n[o].getTime()]=!0;for(var r=[],o=0;o<t.length;o++){var a=t[o];if(!(a.getTime()in s)){var l=TL.Dom.create("div","tl-timeaxis-tick",e),d=TL.Dom.create("span","tl-timeaxis-tick-text tl-animate-opacity",l);d.innerHTML=a.getDisplayDate(this.getLanguage(),i),r.push({tick:l,tick_text:d,display_date:a.getDisplayDate(this.getLanguage(),i),date:a})}}return r},positionTicks:function(t,e,i){i?(this._el.major.className="tl-timeaxis-major",this._el.minor.className="tl-timeaxis-minor"):(this._el.major.className="tl-timeaxis-major tl-timeaxis-animate",this._el.minor.className="tl-timeaxis-minor tl-timeaxis-animate"),this._positionTickArray(this.major_ticks,t,e),this._positionTickArray(this.minor_ticks,t,e)},_positionTickArray:function(t,e,i){if(t[1]&&t[0]){var n=e.getPosition(t[1].date.getMillisecond())-e.getPosition(t[0].date.getMillisecond()),s=1;n<i&&(s=Math.round(i/e.getPixelsPerTick()));for(var o=1,r=0;r<t.length;r++){var a=t[r];a.tick.style.left=e.getPosition(a.date.getMillisecond())+"px",a.tick_text.innerHTML=a.display_date,s>1?o>=s?(o=1,a.tick_text.style.opacity=1,a.tick.className="tl-timeaxis-tick"):(o++,a.tick_text.style.opacity=0,a.tick.className="tl-timeaxis-tick tl-timeaxis-tick-hidden"):(a.tick_text.style.opacity=1,a.tick.className="tl-timeaxis-tick")}}},_initLayout:function(){this._el.content_container=TL.Dom.create("div","tl-timeaxis-content-container",this._el.container),this._el.major=TL.Dom.create("div","tl-timeaxis-major",this._el.content_container),this._el.minor=TL.Dom.create("div","tl-timeaxis-minor",this._el.content_container),this.onLoaded()},_initEvents:function(){},_updateDisplay:function(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e)}}),TL.AxisHelper=TL.Class.extend({initialize:function(t){if(!t)throw new TL.Error("axis_helper_no_options_err");this.scale=t.scale,this.minor=t.minor,this.major=t.major},getPixelsPerTick:function(t){return t*this.minor.factor},getMajorTicks:function(t){return this._getTicks(t,this.major)},getMinorTicks:function(t){return this._getTicks(t,this.minor)},_getTicks:function(t,e){for(var i=t._scaled_padding*e.factor,n=t._earliest-i,s=t._latest+i,o=[],r=n;r<s;r+=e.factor)o.push(t.getDateFromTime(r).floor(e.name));return{name:e.name,ticks:o}}}),function(t){var e={},i=function(i,n){e[i]=[];for(var s=0;s<n.length-1;s++){var o=n[s],r=n[s+1];e[i].push(new t({scale:o[3],minor:{name:o[0],factor:o[1]},major:{name:r[0],factor:r[1]}}))}};i("human",TL.Date.SCALES),i("cosmological",TL.BigDate.SCALES),t.HELPERS=e,t.getBestHelper=function(t,i){"number"!=typeof i&&(i=100);var n=t.getScale(),s=e[n];if(!s)throw new TL.Error("axis_helper_scale_err",n);for(var o=null,r=0;r<s.length;r++){var a=s[r],l=a.getPixelsPerTick(t._pixels_per_milli);if(l>i){if(null==o)return a;var d=Math.abs(i-l),h=Math.abs(i-l);return d<h?a:o}o=a}return s[s.length-1]}}(TL.AxisHelper),TL.Timeline=TL.Class.extend({includes:[TL.Events,TL.I18NMixins],initialize:function(t,e,i){var n=this;if(i||(i={}),this.version="3.2.6",this.ready=!1,this._el={container:{},storyslider:{},timenav:{},menubar:{}},"object"==typeof t?this._el.container=t:this._el.container=TL.Dom.get(t),this._storyslider={},this._style_sheet=new TL.StyleSheet,this._timenav={},this._menubar={},this._loaded={storyslider:!1,timenav:!1},this.config=null,this.options={script_path:"",height:this._el.container.offsetHeight,width:this._el.container.offsetWidth,debug:!1,is_embed:!1,is_full_embed:!1,hash_bookmark:!1,default_bg_color:{r:255,g:255,b:255},scale_factor:2,layout:"landscape",timenav_position:"bottom",optimal_tick_width:60,base_class:"tl-timeline",timenav_height:null,timenav_height_percentage:25,timenav_mobile_height_percentage:40,timenav_height_min:175,marker_height_min:30,marker_width_min:100,marker_padding:5,start_at_slide:0,start_at_end:!1,menubar_height:0,skinny_size:650,medium_size:800,relative_date:!1,use_bc:!1,duration:1e3,ease:TL.Ease.easeInOutQuint,dragging:!0,trackResize:!0,map_type:"stamen:toner-lite",slide_padding_lr:100,slide_default_fade:"0%",zoom_sequence:[.5,1,2,3,5,8,13,21,34,55,89],language:"en",ga_property_id:null,track_events:["back_to_start","nav_next","nav_previous","zoom_in","zoom_out"]},this.animator_timenav=null,this.animator_storyslider=null,this.animator_menubar=null,this.message=new TL.Message({},{message_class:"tl-message-full"},this._el.container),"string"==typeof i.default_bg_color){var s=TL.Util.hexToRgb(i.default_bg_color);s?i.default_bg_color=s:(delete i.default_bg_color,trace("Invalid default background color. Ignoring."))}TL.Util.mergeData(this.options,i),window.addEventListener("resize",function(t){n.updateDisplay()}),TL.debug=this.options.debug,TL.DomUtil.addClass(this._el.container,"tl-timeline"),this.options.is_embed&&TL.DomUtil.addClass(this._el.container,"tl-timeline-embed"),this.options.is_full_embed&&TL.DomUtil.addClass(this._el.container,"tl-timeline-full-embed"),this.options.relative_date?"undefined"!=typeof moment?n._loadLanguage(e):TL.Load.js(this.options.script_path+"/library/moment.js",function(){n._loadLanguage(e),trace("LOAD MOMENTJS")}):n._loadLanguage(e)},_translateError:function(t){return t.hasOwnProperty("stack")&&trace(t.stack),t.message_key?this._(t.message_key)+(t.detail?" ["+t.detail+"]":""):t},_loadLanguage:function(t){try{this.options.language=new TL.Language(this.options),this._initData(t)}catch(t){this.showMessage(this._translateError(t))}},goToId:function(t){this.current_id!=t&&(this.current_id=t,this._timenav.goToId(this.current_id),this._storyslider.goToId(this.current_id,!1,!0),this.fire("change",{unique_id:this.current_id},this))},goTo:function(t){this.config.title?0==t?this.goToId(this.config.title.unique_id):this.goToId(this.config.events[t-1].unique_id):this.goToId(this.config.events[t].unique_id)},goToStart:function(){this.goTo(0)},goToEnd:function(){var t=this.config.events.length-1;this.goTo(this.config.title?t+1:t)},goToPrev:function(){this.goTo(this._getSlideIndex(this.current_id)-1)},goToNext:function(){this.goTo(this._getSlideIndex(this.current_id)+1)},add:function(t){var e=this.config.addEvent(t),i=this._getEventIndex(e),n=this.config.events[i];
this._storyslider.createSlide(n,this.config.title?i+1:i),this._storyslider._updateDrawSlides(),this._timenav.createMarker(n,i),this._timenav._updateDrawTimeline(!1),this.fire("added",{unique_id:e})},remove:function(t){if(t>=0&&t<this.config.events.length){this.config.events[t].unique_id==this.current_id&&(t<this.config.events.length-1?this.goTo(t+1):this.goTo(t-1));var e=this.config.events.splice(t,1);delete this.config.event_dict[e[0].unique_id],this._storyslider.destroySlide(this.config.title?t+1:t),this._storyslider._updateDrawSlides(),this._timenav.destroyMarker(t),this._timenav._updateDrawTimeline(!1),this.fire("removed",{unique_id:e[0].unique_id})}},removeId:function(t){this.remove(this._getEventIndex(t))},getData:function(t){if(this.config.title){if(0==t)return this.config.title;if(t>0&&t<=this.config.events.length)return this.config.events[t-1]}else if(t>=0&&t<this.config.events.length)return this.config.events[t];return null},getDataById:function(t){return this.getData(this._getSlideIndex(t))},getSlide:function(t){return t>=0&&t<this._storyslider._slides.length?this._storyslider._slides[t]:null},getSlideById:function(t){return this.getSlide(this._getSlideIndex(t))},getCurrentSlide:function(){return this.getSlideById(this.current_id)},updateDisplay:function(){this.ready&&this._updateDisplay()},_calculateTimeNavHeight:function(t,e){var i=0;return t?i=t:(this.options.timenav_height_percentage||e)&&(i=e?Math.round(this.options.height/100*e):Math.round(this.options.height/100*this.options.timenav_height_percentage)),this._timenav.ready&&this.options.timenav_height_min<this._timenav.getMinimumHeight()&&(this.options.timenav_height_min=this._timenav.getMinimumHeight()),i<this.options.timenav_height_min&&(i=this.options.timenav_height_min),i-=2*this.options.marker_padding},_updateDisplay:function(t,e,i){var n=this.options.duration,s=this.options.base_class,o=0;i&&(n=i),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this.options.width<=this.options.skinny_size?(s+=" tl-skinny",this.options.layout="portrait"):this.options.width<=this.options.medium_size?(s+=" tl-medium",this.options.layout="landscape"):this.options.layout="landscape",TL.Browser.touch&&(this.options.layout=TL.Browser.orientation()),TL.Browser.mobile?(s+=" tl-mobile",this.options.timenav_height=this._calculateTimeNavHeight(t,this.options.timenav_mobile_height_percentage)):this.options.timenav_height=this._calculateTimeNavHeight(t),s+="portrait"==this.options.layout?" tl-layout-portrait":" tl-layout-landscape",this.options.storyslider_height=this.options.height-this.options.timenav_height,o="top"==this.options.timenav_position?Math.ceil(this.options.timenav_height)/2-this._el.menubar.offsetHeight/2-19.5:Math.round(this.options.storyslider_height+1+Math.ceil(this.options.timenav_height)/2-this._el.menubar.offsetHeight/2-17.5),e?(this._el.timenav.style.height=Math.ceil(this.options.timenav_height)+"px",this.animator_storyslider&&this.animator_storyslider.stop(),this.animator_storyslider=TL.Animate(this._el.storyslider,{height:this.options.storyslider_height+"px",duration:n/2,easing:TL.Ease.easeOutStrong}),this.animator_menubar&&this.animator_menubar.stop(),this.animator_menubar=TL.Animate(this._el.menubar,{top:o+"px",duration:n/2,easing:TL.Ease.easeOutStrong})):(this._el.timenav.style.height=Math.ceil(this.options.timenav_height)+"px",this._el.storyslider.style.height=this.options.storyslider_height+"px",this._el.menubar.style.top=o+"px"),this.message&&this.message.updateDisplay(this.options.width,this.options.height),this._timenav.updateDisplay(this.options.width,this.options.timenav_height,e),this._storyslider.updateDisplay(this.options.width,this.options.storyslider_height,e,this.options.layout),this._el.container.className=s},_updateHashBookmark:function(t){var e="#event-"+t.toString();"file:"!=window.location.protocol&&window.history.replaceState(null,"Browsing TimelineJS",e),this.fire("hash_updated",{unique_id:this.current_id,hashbookmark:"#event-"+t.toString()},this)},_initData:function(t){var e=this;if("string"==typeof t){var e=this;TL.ConfigFactory.makeConfig(t,function(t){e.setConfig(t)})}else TL.TimelineConfig==t.constructor?this.setConfig(t):this.setConfig(new TL.TimelineConfig(t))},setConfig:function(t){if(this.config=t,this.config.validate(),this._validateOptions(),this.config.isValid())try{this._onDataLoaded()}catch(t){this.showMessage("<strong>"+this._("error")+":</strong> "+this._translateError(t))}else{for(var e=[],i=0,n=this.config.getErrors();i<n.length;i++)e.push(this._translateError(n[i]));this.showMessage("<strong>"+this._("error")+":</strong> "+e.join("<br>"))}},_validateOptions:function(){for(var t=["timenav_height","timenav_height_min","marker_height_min","marker_width_min","marker_padding","start_at_slide","slide_padding_lr"],e=0;e<t.length;e++){var i=t[e],n=this.options[i];valid=!0,"number"==typeof n?valid=n==parseInt(n):"string"==typeof n&&(valid=n.match(/^\s*(\-?\d+)?\s*$/)),valid||this.config.logError({message_key:"invalid_integer_option",detail:i})}},_initLayout:function(){this.message.removeFrom(this._el.container),this._el.container.innerHTML="","top"==this.options.timenav_position?(this._el.timenav=TL.Dom.create("div","tl-timenav",this._el.container),this._el.storyslider=TL.Dom.create("div","tl-storyslider",this._el.container)):(this._el.storyslider=TL.Dom.create("div","tl-storyslider",this._el.container),this._el.timenav=TL.Dom.create("div","tl-timenav",this._el.container)),this._el.menubar=TL.Dom.create("div","tl-menubar",this._el.container),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this._el.storyslider.style.top="1px",this.options.timenav_height=this._calculateTimeNavHeight(this.options.timenav_height),this._timenav=new TL.TimeNav(this._el.timenav,this.config,this.options),this._timenav.on("loaded",this._onTimeNavLoaded,this),this._timenav.on("update_timenav_min",this._updateTimeNavHeightMin,this),this._timenav.options.height=this.options.timenav_height,this._timenav.init(),this.options.initial_zoom&&this.setZoom(this.options.initial_zoom),this._storyslider=new TL.StorySlider(this._el.storyslider,this.config,this.options),this._storyslider.on("loaded",this._onStorySliderLoaded,this),this._storyslider.init(),this._menubar=new TL.MenuBar(this._el.menubar,this._el.container,this.options),"portrait"==this.options.layout?this.options.storyslider_height=this.options.height-this.options.timenav_height-1:this.options.storyslider_height=this.options.height-1,this._updateDisplay(this._timenav.options.height,!0,2e3)},_initEvents:function(){this._timenav.on("change",this._onTimeNavChange,this),this._timenav.on("zoomtoggle",this._onZoomToggle,this),this._storyslider.on("change",this._onSlideChange,this),this._storyslider.on("colorchange",this._onColorChange,this),this._storyslider.on("nav_next",this._onStorySliderNext,this),this._storyslider.on("nav_previous",this._onStorySliderPrevious,this),this._menubar.on("zoom_in",this._onZoomIn,this),this._menubar.on("zoom_out",this._onZoomOut,this),this._menubar.on("back_to_start",this._onBackToStart,this)},_initGoogleAnalytics:function(){!function(t,e,i,n,s,o,r){t.GoogleAnalyticsObject=s,t[s]=t[s]||function(){(t[s].q=t[s].q||[]).push(arguments)},t[s].l=1*new Date,o=e.createElement(i),r=e.getElementsByTagName(i)[0],o.async=1,o.src=n,r.parentNode.insertBefore(o,r)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create",this.options.ga_property_id,"auto")},_initAnalytics:function(){if(null!==this.options.ga_property_id){this._initGoogleAnalytics(),ga("send","pageview");var t=this.options.track_events;for(i=0;i<t.length;i++){var e=t[i];this.addEventListener(e,function(t){ga("send","event",t.type,"clicked")})}}},_onZoomToggle:function(t){"in"==t.zoom?this._menubar.toogleZoomIn(t.show):"out"==t.zoom&&this._menubar.toogleZoomOut(t.show)},_getEventIndex:function(t){for(var e=0;e<this.config.events.length;e++)if(t==this.config.events[e].unique_id)return e;return-1},_getSlideIndex:function(t){if(this.config.title&&this.config.title.unique_id==t)return 0;for(var e=0;e<this.config.events.length;e++)if(t==this.config.events[e].unique_id)return this.config.title?e+1:e;return-1},_onDataLoaded:function(t){this.fire("dataloaded"),this._initLayout(),this._initEvents(),this._initAnalytics(),this.message&&this.message.hide(),this.ready=!0},showMessage:function(t){this.message?this.message.updateMessage(t):(trace("No message display available."),trace(t))},_onColorChange:function(t){this.fire("color_change",{unique_id:this.current_id},this),t.color||t.image},_onSlideChange:function(t){this.current_id!=t.unique_id&&(this.current_id=t.unique_id,this._timenav.goToId(this.current_id),this._onChange(t))},_onTimeNavChange:function(t){this.current_id!=t.unique_id&&(this.current_id=t.unique_id,this._storyslider.goToId(this.current_id),this._onChange(t))},_onChange:function(t){this.fire("change",{unique_id:this.current_id},this),this.options.hash_bookmark&&this.current_id&&this._updateHashBookmark(this.current_id)},_onBackToStart:function(t){this._storyslider.goTo(0),this.fire("back_to_start",{unique_id:this.current_id},this)},zoomIn:function(){this._timenav.zoomIn()},zoomOut:function(){this._timenav.zoomOut()},setZoom:function(t){this._timenav.setZoom(t)},_onZoomIn:function(t){this._timenav.zoomIn(),this.fire("zoom_in",{zoom_level:this._timenav.options.scale_factor},this)},_onZoomOut:function(t){this._timenav.zoomOut(),this.fire("zoom_out",{zoom_level:this._timenav.options.scale_factor},this)},_onTimeNavLoaded:function(){this._loaded.timenav=!0,this._onLoaded()},_onStorySliderLoaded:function(){this._loaded.storyslider=!0,this._onLoaded()},_onStorySliderNext:function(t){this.fire("nav_next",t)},_onStorySliderPrevious:function(t){this.fire("nav_previous",t)},_onLoaded:function(){this._loaded.storyslider&&this._loaded.timenav&&(this.fire("loaded",this.config),this.options.hash_bookmark&&""!=window.location.hash?this.goToId(window.location.hash.replace("#event-","")):(TL.Util.isTrue(this.options.start_at_end)||this.options.start_at_slide>this.config.events.length?this.goToEnd():this.goTo(this.options.start_at_slide),this.options.hash_bookmark&&this._updateHashBookmark(this.current_id)))}}),TL.Timeline.source_path=function(){var t=document.getElementsByTagName("script"),e=t[t.length-1].src;return e.substr(0,e.lastIndexOf("/"))}();